/*! For license information please see main.cf25a330.js.LICENSE.txt */
(()=>{var t={888:(t,e,n)=>{"use strict";var i=n(47);function a(){}function r(){}r.resetWarningCache=a,t.exports=function(){function t(t,e,n,a,r,s){if(s!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:a};return n.PropTypes=n,n}},7:(t,e,n)=>{t.exports=n(888)()},47:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(t,e,n)=>{"use strict";var i=n(791),a=n(296);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(o[t]=e,t=0;t<e.length;t++)s.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(t,e,n,i,a,r,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function w(t,e,n,i){var a=m.hasOwnProperty(e)?m[e]:null;(null!==a?0!==a.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,a,i)&&(n=null),i||null===a?function(t){return!!h.call(f,t)||!h.call(p,t)&&(d.test(t)?f[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=null===n?3!==a.type&&"":n:(e=a.attributeName,i=a.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,b);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,b);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,b);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var y=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function N(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=I&&t[I]||t["@@iterator"])?t:null}var F,O=Object.assign;function W(t){if(void 0===F)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);F=e&&e[1]||""}return"\n"+F+t}var B=!1;function j(t,e){if(!t||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),r=i.stack.split("\n"),s=a.length-1,o=r.length-1;1<=s&&0<=o&&a[s]!==r[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==r[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==r[o]){var l="\n"+a[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=s&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?W(t):""}function z(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return t=j(t.type,!1);case 11:return t=j(t.type.render,!1);case 1:return t=j(t.type,!0);default:return""}}function U(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case A:return"Portal";case _:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case M:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case R:return null!==(e=t.displayName||null)?e:U(t.type)||"Memo";case D:e=t._payload,t=t._init;try{return U(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(e);case 8:return e===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function V(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function G(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=G(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(t){i=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=G(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Y(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function K(t,e){var n=e.checked;return O({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Q(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=V(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function $(t,e){J(t,e);var n=V(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,V(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&i&&(t[n].defaultSelected=!0)}else{for(n=""+V(n),e=null,a=0;a<t.length;a++){if(t[a].value===n)return t[a].selected=!0,void(i&&(t[a].defaultSelected=!0));null!==e||t[a].disabled||(e=t[a])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(r(91));return O({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function at(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(r(92));if(et(n)){if(1<n.length)throw Error(r(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:V(n)}}function rt(t,e){var n=V(e.value),i=V(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function st(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ot(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),a=gt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,a):t[n]=a}}Object.keys(pt).forEach((function(t){ft.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var vt=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(r(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(r(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(r(62))}}function wt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yt=null;function kt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var At=null,St=null,xt=null;function _t(t){if(t=wa(t)){if("function"!==typeof At)throw Error(r(280));var e=t.stateNode;e&&(e=ka(e),At(t.stateNode,t.type,e))}}function Et(t){St?xt?xt.push(t):xt=[t]:St=t}function Ct(){if(St){var t=St,e=xt;if(xt=St=null,_t(t),e)for(t=0;t<e.length;t++)_t(e[t])}}function Mt(t,e){return t(e)}function Tt(){}var Pt=!1;function Rt(t,e,n){if(Pt)return t(e,n);Pt=!0;try{return Mt(t,e,n)}finally{Pt=!1,(null!==St||null!==xt)&&(Tt(),Ct())}}function Dt(t,e){var n=t.stateNode;if(null===n)return null;var i=ka(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(r(231,e,typeof n));return n}var Lt=!1;if(u)try{var It={};Object.defineProperty(It,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch(ut){Lt=!1}function Nt(t,e,n,i,a,r,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ft=!1,Ot=null,Wt=!1,Bt=null,jt={onError:function(t){Ft=!0,Ot=t}};function zt(t,e,n,i,a,r,s,o,l){Ft=!1,Ot=null,Nt.apply(jt,arguments)}function Ut(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Vt(t){if(Ut(t)!==t)throw Error(r(188))}function Gt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ut(t)))throw Error(r(188));return e!==t?null:t}for(var n=t,i=e;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(i=a.return)){n=i;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Vt(a),t;if(s===i)return Vt(a),e;s=s.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,i=s;break}if(l===i){o=!0,i=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=a;break}if(l===i){o=!0,i=s,n=a;break}l=l.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Xt=a.unstable_scheduleCallback,Yt=a.unstable_cancelCallback,Kt=a.unstable_shouldYield,Qt=a.unstable_requestPaint,Jt=a.unstable_now,$t=a.unstable_getCurrentPriorityLevel,Zt=a.unstable_ImmediatePriority,te=a.unstable_UserBlockingPriority,ee=a.unstable_NormalPriority,ne=a.unstable_LowPriority,ie=a.unstable_IdlePriority,ae=null,re=null;var se=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(oe(t)/le|0)|0},oe=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,a=t.suspendedLanes,r=t.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?i=he(o):0!==(r&=s)&&(i=he(r))}else 0!==(s=n&~a)?i=he(s):0!==r&&(i=he(r));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&a)&&((a=i&-i)>=(r=e&-e)||16===a&&0!==(4194240&r)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)a=1<<(n=31-se(e)),i|=t[n],e&=~a;return i}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function fe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-se(e)]=n}function be(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-se(n),a=1<<i;a&e|t[i]&e&&(t[i]|=e),n&=~a}}var we=0;function ye(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var ke,Ae,Se,xe,_e,Ee=!1,Ce=[],Me=null,Te=null,Pe=null,Re=new Map,De=new Map,Le=[],Ie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ne(t,e){switch(t){case"focusin":case"focusout":Me=null;break;case"dragenter":case"dragleave":Te=null;break;case"mouseover":case"mouseout":Pe=null;break;case"pointerover":case"pointerout":Re.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":De.delete(e.pointerId)}}function Fe(t,e,n,i,a,r){return null===t||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[a]},null!==e&&(null!==(e=wa(e))&&Ae(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==a&&-1===e.indexOf(a)&&e.push(a),t)}function Oe(t){var e=ba(t.target);if(null!==e){var n=Ut(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void _e(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function We(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ke(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=wa(n))&&Ae(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);yt=i,n.target.dispatchEvent(i),yt=null,e.shift()}return!0}function Be(t,e,n){We(t)&&n.delete(e)}function je(){Ee=!1,null!==Me&&We(Me)&&(Me=null),null!==Te&&We(Te)&&(Te=null),null!==Pe&&We(Pe)&&(Pe=null),Re.forEach(Be),De.forEach(Be)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,Ee||(Ee=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,je)))}function Ue(t){function e(e){return ze(e,t)}if(0<Ce.length){ze(Ce[0],t);for(var n=1;n<Ce.length;n++){var i=Ce[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Me&&ze(Me,t),null!==Te&&ze(Te,t),null!==Pe&&ze(Pe,t),Re.forEach(e),De.forEach(e),n=0;n<Le.length;n++)(i=Le[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Le.length&&null===(n=Le[0]).blockedOn;)Oe(n),null===n.blockedOn&&Le.shift()}var He=y.ReactCurrentBatchConfig,Ve=!0;function Ge(t,e,n,i){var a=we,r=He.transition;He.transition=null;try{we=1,Xe(t,e,n,i)}finally{we=a,He.transition=r}}function qe(t,e,n,i){var a=we,r=He.transition;He.transition=null;try{we=4,Xe(t,e,n,i)}finally{we=a,He.transition=r}}function Xe(t,e,n,i){if(Ve){var a=Ke(t,e,n,i);if(null===a)Vi(t,e,i,Ye,n),Ne(t,i);else if(function(t,e,n,i,a){switch(e){case"focusin":return Me=Fe(Me,t,e,n,i,a),!0;case"dragenter":return Te=Fe(Te,t,e,n,i,a),!0;case"mouseover":return Pe=Fe(Pe,t,e,n,i,a),!0;case"pointerover":var r=a.pointerId;return Re.set(r,Fe(Re.get(r)||null,t,e,n,i,a)),!0;case"gotpointercapture":return r=a.pointerId,De.set(r,Fe(De.get(r)||null,t,e,n,i,a)),!0}return!1}(a,t,e,n,i))i.stopPropagation();else if(Ne(t,i),4&e&&-1<Ie.indexOf(t)){for(;null!==a;){var r=wa(a);if(null!==r&&ke(r),null===(r=Ke(t,e,n,i))&&Vi(t,e,i,Ye,n),r===a)break;a=r}null!==a&&i.stopPropagation()}else Vi(t,e,i,null,n)}}var Ye=null;function Ke(t,e,n,i){if(Ye=null,null!==(t=ba(t=kt(i))))if(null===(e=Ut(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($t()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Je=null,$e=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=$e,i=n.length,a="value"in Je?Je.value:Je.textContent,r=a.length;for(t=0;t<i&&n[t]===a[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===a[r-e];e++);return Ze=a.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function an(){return!1}function rn(t){function e(e,n,i,a,r){for(var s in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:an,this.isPropagationStopped=an,this}return O(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(cn),hn=O({},cn,{view:0,detail:0}),dn=rn(hn),pn=O({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(sn=t.screenX-ln.screenX,on=t.screenY-ln.screenY):on=sn=0,ln=t),sn)},movementY:function(t){return"movementY"in t?t.movementY:on}}),fn=rn(pn),gn=rn(O({},pn,{dataTransfer:0})),mn=rn(O({},hn,{relatedTarget:0})),vn=rn(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=O({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=rn(bn),yn=rn(O({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function _n(){return xn}var En=O({},hn,{key:function(t){if(t.key){var e=kn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?An[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Cn=rn(En),Mn=rn(O({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=rn(O({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=rn(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=O({},pn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=rn(Rn),Ln=[9,13,27,32],In=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Fn=u&&"TextEvent"in window&&!Nn,On=u&&(!In||Nn&&8<Nn&&11>=Nn),Wn=String.fromCharCode(32),Bn=!1;function jn(t,e){switch(t){case"keyup":return-1!==Ln.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function Gn(t,e,n,i){Et(i),0<(e=qi(e,"onChange")).length&&(n=new un("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var qn=null,Xn=null;function Yn(t){Wi(t,0)}function Kn(t){if(X(ya(t)))return t}function Qn(t,e){if("change"===t)return e}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Zn="function"===typeof ti.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function ei(){qn&&(qn.detachEvent("onpropertychange",ni),Xn=qn=null)}function ni(t){if("value"===t.propertyName&&Kn(Xn)){var e=[];Gn(e,Xn,t,kt(t)),Rt(Yn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Xn=n,(qn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ai(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Kn(Xn)}function ri(t,e){if("click"===t)return Kn(e)}function si(t,e){if("input"===t||"change"===t)return Kn(e)}var oi="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(oi(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!h.call(e,a)||!oi(t[a],e[a]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function pi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function fi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var a=n.textContent.length,r=Math.min(i.start,a);i=void 0===i.end?r:Math.min(i.end,a),!t.extend&&r>i&&(a=i,i=r,r=a),a=ui(n,r);var s=ui(n,i);a&&s&&(1!==t.rangeCount||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&((e=e.createRange()).setStart(a.node,a.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,bi=null,wi=!1;function yi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==mi||mi!==Y(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},bi&&li(bi,i)||(bi=i,0<(i=qi(vi,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function ki(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ai={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},Si={},xi={};function _i(t){if(Si[t])return Si[t];if(!Ai[t])return t;var e,n=Ai[t];for(e in n)if(n.hasOwnProperty(e)&&e in xi)return Si[t]=n[e];return t}u&&(xi=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);var Ei=_i("animationend"),Ci=_i("animationiteration"),Mi=_i("animationstart"),Ti=_i("transitionend"),Pi=new Map,Ri="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){Pi.set(t,e),l(e,[t])}for(var Li=0;Li<Ri.length;Li++){var Ii=Ri[Li];Di(Ii.toLowerCase(),"on"+(Ii[0].toUpperCase()+Ii.slice(1)))}Di(Ei,"onAnimationEnd"),Di(Ci,"onAnimationIteration"),Di(Mi,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Ti,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function Oi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,a,s,o,l,c){if(zt.apply(this,arguments),Ft){if(!Ft)throw Error(r(198));var u=Ot;Ft=!1,Ot=null,Wt||(Wt=!0,Bt=u)}}(i,e,void 0,t),t.currentTarget=null}function Wi(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],a=i.event;i=i.listeners;t:{var r=void 0;if(e)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&a.isPropagationStopped())break t;Oi(a,o,c),r=l}else for(s=0;s<i.length;s++){if(l=(o=i[s]).instance,c=o.currentTarget,o=o.listener,l!==r&&a.isPropagationStopped())break t;Oi(a,o,c),r=l}}}if(Wt)throw t=Bt,Wt=!1,Bt=null,t}function Bi(t,e){var n=e[ga];void 0===n&&(n=e[ga]=new Set);var i=t+"__bubble";n.has(i)||(Hi(e,t,2,!1),n.add(i))}function ji(t,e,n){var i=0;e&&(i|=4),Hi(n,t,i,e)}var zi="_reactListening"+Math.random().toString(36).slice(2);function Ui(t){if(!t[zi]){t[zi]=!0,s.forEach((function(e){"selectionchange"!==e&&(Fi.has(e)||ji(e,!1,t),ji(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zi]||(e[zi]=!0,ji("selectionchange",!1,e))}}function Hi(t,e,n,i){switch(Qe(e)){case 1:var a=Ge;break;case 4:a=qe;break;default:a=Xe}n=a.bind(null,e,n,t),a=void 0,!Lt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(a=!0),i?void 0!==a?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):void 0!==a?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function Vi(t,e,n,i,a){var r=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var o=i.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ba(o)))return;if(5===(l=s.tag)||6===l){i=r=s;continue t}o=o.parentNode}}i=i.return}Rt((function(){var i=r,a=kt(n),s=[];t:{var o=Pi.get(t);if(void 0!==o){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Ei:case Ci:case Mi:l=vn;break;case Ti:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=i;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=Dt(f,d))&&u.push(Gi(f,g,p)))),h)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,a),s.push({event:o,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||n===yt||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[fa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(h=Ut(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(u=Mn,g="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?o:ya(l),p=null==c?o:ya(c),(o=new u(g,f+"leave",l,n,a)).target=h,o.relatedTarget=p,g=null,ba(a)===i&&((u=new u(d,f+"enter",c,n,a)).target=p,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(d=c,f=0,p=u=l;p;p=Xi(p))f++;for(p=0,g=d;g;g=Xi(g))p++;for(;0<f-p;)u=Xi(u),f--;for(;0<p-f;)d=Xi(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break t;u=Xi(u),d=Xi(d)}u=null}else u=null;null!==l&&Yi(s,o,l,u,!1),null!==c&&null!==h&&Yi(s,h,c,u,!0)}if("select"===(l=(o=i?ya(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Qn;else if(Vn(o))if(Jn)m=si;else{m=ai;var v=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ri);switch(m&&(m=m(t,i))?Gn(s,m,n,a):(v&&v(t,o,i),"focusout"===t&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&tt(o,"number",o.value)),v=i?ya(i):window,t){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,bi=null);break;case"focusout":bi=vi=mi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,yi(s,n,a);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":yi(s,n,a)}var b;if(In)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else Un?jn(t,n)&&(w="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(w="onCompositionStart");w&&(On&&"ko"!==n.locale&&(Un||"onCompositionStart"!==w?"onCompositionEnd"===w&&Un&&(b=tn()):($e="value"in(Je=a)?Je.value:Je.textContent,Un=!0)),0<(v=qi(i,w)).length&&(w=new yn(w,t,null,n,a),s.push({event:w,listeners:v}),b?w.data=b:null!==(b=zn(n))&&(w.data=b))),(b=Fn?function(t,e){switch(t){case"compositionend":return zn(e);case"keypress":return 32!==e.which?null:(Bn=!0,Wn);case"textInput":return(t=e.data)===Wn&&Bn?null:t;default:return null}}(t,n):function(t,e){if(Un)return"compositionend"===t||!In&&jn(t,e)?(t=tn(),Ze=$e=Je=null,Un=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return On&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(a=new yn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:i}),a.data=b))}Wi(s,e)}))}function Gi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qi(t,e){for(var n=e+"Capture",i=[];null!==t;){var a=t,r=a.stateNode;5===a.tag&&null!==r&&(a=r,null!=(r=Dt(t,n))&&i.unshift(Gi(t,r,a)),null!=(r=Dt(t,e))&&i.push(Gi(t,r,a))),t=t.return}return i}function Xi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yi(t,e,n,i,a){for(var r=e._reactName,s=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Dt(n,r))&&s.unshift(Gi(n,l,o)):a||null!=(l=Dt(n,r))&&s.push(Gi(n,l,o))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var Ki=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Ji(t){return("string"===typeof t?t:""+t).replace(Ki,"\n").replace(Qi,"")}function $i(t,e,n){if(e=Ji(e),Ji(t)!==e&&n)throw Error(r(425))}function Zi(){}var ta=null,ea=null;function na(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ia="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ra="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ra?function(t){return ra.resolve(null).then(t).catch(oa)}:ia;function oa(t){setTimeout((function(){throw t}))}function la(t,e){var n=e,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===i)return t.removeChild(a),void Ue(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=a}while(n);Ue(e)}function ca(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ua(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var ha=Math.random().toString(36).slice(2),da="__reactFiber$"+ha,pa="__reactProps$"+ha,fa="__reactContainer$"+ha,ga="__reactEvents$"+ha,ma="__reactListeners$"+ha,va="__reactHandles$"+ha;function ba(t){var e=t[da];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fa]||n[da]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ua(t);null!==t;){if(n=t[da])return n;t=ua(t)}return e}n=(t=n).parentNode}return null}function wa(t){return!(t=t[da]||t[fa])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ya(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function ka(t){return t[pa]||null}var Aa=[],Sa=-1;function xa(t){return{current:t}}function _a(t){0>Sa||(t.current=Aa[Sa],Aa[Sa]=null,Sa--)}function Ea(t,e){Sa++,Aa[Sa]=t.current,t.current=e}var Ca={},Ma=xa(Ca),Ta=xa(!1),Pa=Ca;function Ra(t,e){var n=t.type.contextTypes;if(!n)return Ca;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var a,r={};for(a in n)r[a]=e[a];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Da(t){return null!==(t=t.childContextTypes)&&void 0!==t}function La(){_a(Ta),_a(Ma)}function Ia(t,e,n){if(Ma.current!==Ca)throw Error(r(168));Ea(Ma,e),Ea(Ta,n)}function Na(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in e))throw Error(r(108,H(t)||"Unknown",a));return O({},n,i)}function Fa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ca,Pa=Ma.current,Ea(Ma,t),Ea(Ta,Ta.current),!0}function Oa(t,e,n){var i=t.stateNode;if(!i)throw Error(r(169));n?(t=Na(t,e,Pa),i.__reactInternalMemoizedMergedChildContext=t,_a(Ta),_a(Ma),Ea(Ma,t)):_a(Ta),Ea(Ta,n)}var Wa=null,Ba=!1,ja=!1;function za(t){null===Wa?Wa=[t]:Wa.push(t)}function Ua(){if(!ja&&null!==Wa){ja=!0;var t=0,e=we;try{var n=Wa;for(we=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Wa=null,Ba=!1}catch(a){throw null!==Wa&&(Wa=Wa.slice(t+1)),Xt(Zt,Ua),a}finally{we=e,ja=!1}}return null}var Ha=[],Va=0,Ga=null,qa=0,Xa=[],Ya=0,Ka=null,Qa=1,Ja="";function $a(t,e){Ha[Va++]=qa,Ha[Va++]=Ga,Ga=t,qa=e}function Za(t,e,n){Xa[Ya++]=Qa,Xa[Ya++]=Ja,Xa[Ya++]=Ka,Ka=t;var i=Qa;t=Ja;var a=32-se(i)-1;i&=~(1<<a),n+=1;var r=32-se(e)+a;if(30<r){var s=a-a%5;r=(i&(1<<s)-1).toString(32),i>>=s,a-=s,Qa=1<<32-se(e)+a|n<<a|i,Ja=r+t}else Qa=1<<r|n<<a|i,Ja=t}function tr(t){null!==t.return&&($a(t,1),Za(t,1,0))}function er(t){for(;t===Ga;)Ga=Ha[--Va],Ha[Va]=null,qa=Ha[--Va],Ha[Va]=null;for(;t===Ka;)Ka=Xa[--Ya],Xa[Ya]=null,Ja=Xa[--Ya],Xa[Ya]=null,Qa=Xa[--Ya],Xa[Ya]=null}var nr=null,ir=null,ar=!1,rr=null;function sr(t,e){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function or(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,nr=t,ir=ca(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,nr=t,ir=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Ka?{id:Qa,overflow:Ja}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,nr=t,ir=null,!0);default:return!1}}function lr(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function cr(t){if(ar){var e=ir;if(e){var n=e;if(!or(t,e)){if(lr(t))throw Error(r(418));e=ca(n.nextSibling);var i=nr;e&&or(t,e)?sr(i,n):(t.flags=-4097&t.flags|2,ar=!1,nr=t)}}else{if(lr(t))throw Error(r(418));t.flags=-4097&t.flags|2,ar=!1,nr=t}}}function ur(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;nr=t}function hr(t){if(t!==nr)return!1;if(!ar)return ur(t),ar=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!na(t.type,t.memoizedProps)),e&&(e=ir)){if(lr(t))throw dr(),Error(r(418));for(;e;)sr(t,e),e=ca(e.nextSibling)}if(ur(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ir=ca(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ir=null}}else ir=nr?ca(t.stateNode.nextSibling):null;return!0}function dr(){for(var t=ir;t;)t=ca(t.nextSibling)}function pr(){ir=nr=null,ar=!1}function fr(t){null===rr?rr=[t]:rr.push(t)}var gr=y.ReactCurrentBatchConfig;function mr(t,e){if(t&&t.defaultProps){for(var n in e=O({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var vr=xa(null),br=null,wr=null,yr=null;function kr(){yr=wr=br=null}function Ar(t){var e=vr.current;_a(vr),t._currentValue=e}function Sr(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function xr(t,e){br=t,yr=wr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(yo=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(yr!==t)if(t={context:t,memoizedValue:e,next:null},null===wr){if(null===br)throw Error(r(308));wr=t,br.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return e}var Er=null;function Cr(t){null===Er?Er=[t]:Er.push(t)}function Mr(t,e,n,i){var a=e.interleaved;return null===a?(n.next=n,Cr(e)):(n.next=a.next,a.next=n),e.interleaved=n,Tr(t,i)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Pr=!1;function Rr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Tl)){var a=i.pending;return null===a?e.next=e:(e.next=a.next,a.next=e),i.pending=e,Tr(t,n)}return null===(a=i.interleaved)?(e.next=e,Cr(i)):(e.next=a.next,a.next=e),i.interleaved=e,Tr(t,n)}function Nr(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,be(t,n)}}function Fr(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var a=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?a=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?a=r=e:r=r.next=e}else a=r=e;return n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Or(t,e,n,i){var a=t.updateQueue;Pr=!1;var r=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?r=c:s.next=c,s=l;var u=t.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==r){var h=a.baseState;for(s=0,u=c=l=null,o=r;;){var d=o.lane,p=o.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var f=t,g=o;switch(d=e,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){h=f.call(p,h,d);break t}h=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(p,h,d):f)||void 0===d)break t;h=O({},h,d);break t;case 2:Pr=!0}}null!==o.callback&&0!==o.lane&&(t.flags|=64,null===(d=a.effects)?a.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,s|=d;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(d=o).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===u&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(e=a.shared.interleaved)){a=e;do{s|=a.lane,a=a.next}while(a!==e)}else null===r&&(a.shared.lanes=0);Ol|=s,t.lanes=s,t.memoizedState=h}}function Wr(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],a=i.callback;if(null!==a){if(i.callback=null,i=n,"function"!==typeof a)throw Error(r(191,a));a.call(i)}}}var Br=(new i.Component).refs;function jr(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:O({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var zr={isMounted:function(t){return!!(t=t._reactInternals)&&Ut(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ec(),a=nc(t),r=Lr(i,a);r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Ir(t,r,a))&&(ic(e,t,a,i),Nr(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ec(),a=nc(t),r=Lr(i,a);r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Ir(t,r,a))&&(ic(e,t,a,i),Nr(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ec(),i=nc(t),a=Lr(n,i);a.tag=2,void 0!==e&&null!==e&&(a.callback=e),null!==(e=Ir(t,a,i))&&(ic(e,t,i,n),Nr(e,t,i))}};function Ur(t,e,n,i,a,r,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,r,s):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(a,r))}function Hr(t,e,n){var i=!1,a=Ca,r=e.contextType;return"object"===typeof r&&null!==r?r=_r(r):(a=Da(e)?Pa:Ma.current,r=(i=null!==(i=e.contextTypes)&&void 0!==i)?Ra(t,a):Ca),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=zr,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=r),e}function Vr(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&zr.enqueueReplaceState(e,e.state,null)}function Gr(t,e,n,i){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs=Br,Rr(t);var r=e.contextType;"object"===typeof r&&null!==r?a.context=_r(r):(r=Da(e)?Pa:Ma.current,a.context=Ra(t,r)),a.state=t.memoizedState,"function"===typeof(r=e.getDerivedStateFromProps)&&(jr(t,e,r,n),a.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(e=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),e!==a.state&&zr.enqueueReplaceState(a,a.state,null),Or(t,n,a,i),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308)}function qr(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,t));var a=i,s=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===s?e.ref:(e=function(t){var e=a.refs;e===Br&&(e=a.refs={}),null===t?delete e[s]:e[s]=t},e._stringRef=s,e)}if("string"!==typeof t)throw Error(r(284));if(!n._owner)throw Error(r(290,t))}return t}function Xr(t,e){throw t=Object.prototype.toString.call(e),Error(r(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yr(t){return(0,t._init)(t._payload)}function Kr(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(t,e){return(t=Ic(t,e)).index=0,t.sibling=null,t}function s(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function o(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Wc(n,t.mode,i)).return=t,e):((e=a(e,n)).return=t,e)}function c(t,e,n,i){var r=n.type;return r===S?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===D&&Yr(r)===e.type)?((i=a(e,n.props)).ref=qr(t,e,n),i.return=t,i):((i=Nc(n.type,n.key,n.props,null,t.mode,i)).ref=qr(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Bc(n,t.mode,i)).return=t,e):((e=a(e,n.children||[])).return=t,e)}function h(t,e,n,i,r){return null===e||7!==e.tag?((e=Fc(n,t.mode,i,r)).return=t,e):((e=a(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Wc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case k:return(n=Nc(e.type,e.key,e.props,null,t.mode,n)).ref=qr(t,null,e),n.return=t,n;case A:return(e=Bc(e,t.mode,n)).return=t,e;case D:return d(t,(0,e._init)(e._payload),n)}if(et(e)||N(e))return(e=Fc(e,t.mode,n,null)).return=t,e;Xr(t,e)}return null}function p(t,e,n,i){var a=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===a?c(t,e,n,i):null;case A:return n.key===a?u(t,e,n,i):null;case D:return p(t,e,(a=n._init)(n._payload),i)}if(et(n)||N(n))return null!==a?null:h(t,e,n,i,null);Xr(t,n)}return null}function f(t,e,n,i,a){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,a);if("object"===typeof i&&null!==i){switch(i.$$typeof){case k:return c(e,t=t.get(null===i.key?n:i.key)||null,i,a);case A:return u(e,t=t.get(null===i.key?n:i.key)||null,i,a);case D:return f(t,e,n,(0,i._init)(i._payload),a)}if(et(i)||N(i))return h(e,t=t.get(n)||null,i,a,null);Xr(e,i)}return null}function g(a,r,o,l){for(var c=null,u=null,h=r,g=r=0,m=null;null!==h&&g<o.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=p(a,h,o[g],l);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(a,h),r=s(v,r,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===o.length)return n(a,h),ar&&$a(a,g),c;if(null===h){for(;g<o.length;g++)null!==(h=d(a,o[g],l))&&(r=s(h,r,g),null===u?c=h:u.sibling=h,u=h);return ar&&$a(a,g),c}for(h=i(a,h);g<o.length;g++)null!==(m=f(h,a,g,o[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),r=s(m,r,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(a,t)})),ar&&$a(a,g),c}function m(a,o,l,c){var u=N(l);if("function"!==typeof u)throw Error(r(150));if(null==(l=u.call(l)))throw Error(r(151));for(var h=u=null,g=o,m=o=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var w=p(a,g,b.value,c);if(null===w){null===g&&(g=v);break}t&&g&&null===w.alternate&&e(a,g),o=s(w,o,m),null===h?u=w:h.sibling=w,h=w,g=v}if(b.done)return n(a,g),ar&&$a(a,m),u;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=d(a,b.value,c))&&(o=s(b,o,m),null===h?u=b:h.sibling=b,h=b);return ar&&$a(a,m),u}for(g=i(a,g);!b.done;m++,b=l.next())null!==(b=f(g,a,m,b.value,c))&&(t&&null!==b.alternate&&g.delete(null===b.key?m:b.key),o=s(b,o,m),null===h?u=b:h.sibling=b,h=b);return t&&g.forEach((function(t){return e(a,t)})),ar&&$a(a,m),u}return function t(i,r,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case k:t:{for(var c=s.key,u=r;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(i,u.sibling),(r=a(u,s.props.children)).return=i,i=r;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Yr(c)===u.type){n(i,u.sibling),(r=a(u,s.props)).ref=qr(i,u,s),r.return=i,i=r;break t}n(i,u);break}e(i,u),u=u.sibling}s.type===S?((r=Fc(s.props.children,i.mode,l,s.key)).return=i,i=r):((l=Nc(s.type,s.key,s.props,null,i.mode,l)).ref=qr(i,r,s),l.return=i,i=l)}return o(i);case A:t:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(i,r.sibling),(r=a(r,s.children||[])).return=i,i=r;break t}n(i,r);break}e(i,r),r=r.sibling}(r=Bc(s,i.mode,l)).return=i,i=r}return o(i);case D:return t(i,r,(u=s._init)(s._payload),l)}if(et(s))return g(i,r,s,l);if(N(s))return m(i,r,s,l);Xr(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==r&&6===r.tag?(n(i,r.sibling),(r=a(r,s)).return=i,i=r):(n(i,r),(r=Wc(s,i.mode,l)).return=i,i=r),o(i)):n(i,r)}}var Qr=Kr(!0),Jr=Kr(!1),$r={},Zr=xa($r),ts=xa($r),es=xa($r);function ns(t){if(t===$r)throw Error(r(174));return t}function is(t,e){switch(Ea(es,e),Ea(ts,t),Ea(Zr,$r),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}_a(Zr),Ea(Zr,e)}function as(){_a(Zr),_a(ts),_a(es)}function rs(t){ns(es.current);var e=ns(Zr.current),n=lt(e,t.type);e!==n&&(Ea(ts,t),Ea(Zr,n))}function ss(t){ts.current===t&&(_a(Zr),_a(ts))}var os=xa(0);function ls(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cs=[];function us(){for(var t=0;t<cs.length;t++)cs[t]._workInProgressVersionPrimary=null;cs.length=0}var hs=y.ReactCurrentDispatcher,ds=y.ReactCurrentBatchConfig,ps=0,fs=null,gs=null,ms=null,vs=!1,bs=!1,ws=0,ys=0;function ks(){throw Error(r(321))}function As(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!oi(t[n],e[n]))return!1;return!0}function Ss(t,e,n,i,a,s){if(ps=s,fs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hs.current=null===t||null===t.memoizedState?so:oo,t=n(i,a),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(r(301));s+=1,ms=gs=null,e.updateQueue=null,hs.current=lo,t=n(i,a)}while(bs)}if(hs.current=ro,e=null!==gs&&null!==gs.next,ps=0,ms=gs=fs=null,vs=!1,e)throw Error(r(300));return t}function xs(){var t=0!==ws;return ws=0,t}function _s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ms?fs.memoizedState=ms=t:ms=ms.next=t,ms}function Es(){if(null===gs){var t=fs.alternate;t=null!==t?t.memoizedState:null}else t=gs.next;var e=null===ms?fs.memoizedState:ms.next;if(null!==e)ms=e,gs=t;else{if(null===t)throw Error(r(310));t={memoizedState:(gs=t).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===ms?fs.memoizedState=ms=t:ms=ms.next=t}return ms}function Cs(t,e){return"function"===typeof e?e(t):e}function Ms(t){var e=Es(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=gs,a=i.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}i.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,i=i.baseState;var l=o=null,c=null,u=s;do{var h=u.lane;if((ps&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=i):c=c.next=d,fs.lanes|=h,Ol|=h}u=u.next}while(null!==u&&u!==s);null===c?o=i:c.next=l,oi(i,e.memoizedState)||(yo=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){a=t;do{s=a.lane,fs.lanes|=s,Ol|=s,a=a.next}while(a!==t)}else null===a&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ts(t){var e=Es(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=n.dispatch,a=n.pending,s=e.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=t(s,o.action),o=o.next}while(o!==a);oi(s,e.memoizedState)||(yo=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Ps(){}function Rs(t,e){var n=fs,i=Es(),a=e(),s=!oi(i.memoizedState,a);if(s&&(i.memoizedState=a,yo=!0),i=i.queue,Hs(Is.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||null!==ms&&1&ms.memoizedState.tag){if(n.flags|=2048,Ws(9,Ls.bind(null,n,i,a,e),void 0,null),null===Pl)throw Error(r(349));0!==(30&ps)||Ds(n,e,a)}return a}function Ds(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=fs.updateQueue)?(e={lastEffect:null,stores:null},fs.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ls(t,e,n,i){e.value=n,e.getSnapshot=i,Ns(e)&&Fs(t)}function Is(t,e,n){return n((function(){Ns(e)&&Fs(t)}))}function Ns(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!oi(t,n)}catch(i){return!0}}function Fs(t){var e=Tr(t,1);null!==e&&ic(e,t,1,-1)}function Os(t){var e=_s();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:t},e.queue=t,t=t.dispatch=eo.bind(null,fs,t),[e.memoizedState,t]}function Ws(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=fs.updateQueue)?(e={lastEffect:null,stores:null},fs.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Bs(){return Es().memoizedState}function js(t,e,n,i){var a=_s();fs.flags|=t,a.memoizedState=Ws(1|e,n,void 0,void 0===i?null:i)}function zs(t,e,n,i){var a=Es();i=void 0===i?null:i;var r=void 0;if(null!==gs){var s=gs.memoizedState;if(r=s.destroy,null!==i&&As(i,s.deps))return void(a.memoizedState=Ws(e,n,r,i))}fs.flags|=t,a.memoizedState=Ws(1|e,n,r,i)}function Us(t,e){return js(8390656,8,t,e)}function Hs(t,e){return zs(2048,8,t,e)}function Vs(t,e){return zs(4,2,t,e)}function Gs(t,e){return zs(4,4,t,e)}function qs(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Xs(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,zs(4,4,qs.bind(null,e,t),n)}function Ys(){}function Ks(t,e){var n=Es();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&As(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Qs(t,e){var n=Es();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&As(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Js(t,e,n){return 0===(21&ps)?(t.baseState&&(t.baseState=!1,yo=!0),t.memoizedState=n):(oi(n,e)||(n=ge(),fs.lanes|=n,Ol|=n,t.baseState=!0),e)}function $s(t,e){var n=we;we=0!==n&&4>n?n:4,t(!0);var i=ds.transition;ds.transition={};try{t(!1),e()}finally{we=n,ds.transition=i}}function Zs(){return Es().memoizedState}function to(t,e,n){var i=nc(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},no(t))io(e,n);else if(null!==(n=Mr(t,e,n,i))){ic(n,t,i,ec()),ao(n,e,i)}}function eo(t,e,n){var i=nc(t),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(t))io(e,a);else{var r=t.alternate;if(0===t.lanes&&(null===r||0===r.lanes)&&null!==(r=e.lastRenderedReducer))try{var s=e.lastRenderedState,o=r(s,n);if(a.hasEagerState=!0,a.eagerState=o,oi(o,s)){var l=e.interleaved;return null===l?(a.next=a,Cr(e)):(a.next=l.next,l.next=a),void(e.interleaved=a)}}catch(c){}null!==(n=Mr(t,e,a,i))&&(ic(n,t,i,a=ec()),ao(n,e,i))}}function no(t){var e=t.alternate;return t===fs||null!==e&&e===fs}function io(t,e){bs=vs=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ao(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,be(t,n)}}var ro={readContext:_r,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},so={readContext:_r,useCallback:function(t,e){return _s().memoizedState=[t,void 0===e?null:e],t},useContext:_r,useEffect:Us,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,js(4194308,4,qs.bind(null,e,t),n)},useLayoutEffect:function(t,e){return js(4194308,4,t,e)},useInsertionEffect:function(t,e){return js(4,2,t,e)},useMemo:function(t,e){var n=_s();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=_s();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=to.bind(null,fs,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},_s().memoizedState=t},useState:Os,useDebugValue:Ys,useDeferredValue:function(t){return _s().memoizedState=t},useTransition:function(){var t=Os(!1),e=t[0];return t=$s.bind(null,t[1]),_s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=fs,a=_s();if(ar){if(void 0===n)throw Error(r(407));n=n()}else{if(n=e(),null===Pl)throw Error(r(349));0!==(30&ps)||Ds(i,e,n)}a.memoizedState=n;var s={value:n,getSnapshot:e};return a.queue=s,Us(Is.bind(null,i,s,t),[t]),i.flags|=2048,Ws(9,Ls.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=_s(),e=Pl.identifierPrefix;if(ar){var n=Ja;e=":"+e+"R"+(n=(Qa&~(1<<32-se(Qa)-1)).toString(32)+n),0<(n=ws++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=ys++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oo={readContext:_r,useCallback:Ks,useContext:_r,useEffect:Hs,useImperativeHandle:Xs,useInsertionEffect:Vs,useLayoutEffect:Gs,useMemo:Qs,useReducer:Ms,useRef:Bs,useState:function(){return Ms(Cs)},useDebugValue:Ys,useDeferredValue:function(t){return Js(Es(),gs.memoizedState,t)},useTransition:function(){return[Ms(Cs)[0],Es().memoizedState]},useMutableSource:Ps,useSyncExternalStore:Rs,useId:Zs,unstable_isNewReconciler:!1},lo={readContext:_r,useCallback:Ks,useContext:_r,useEffect:Hs,useImperativeHandle:Xs,useInsertionEffect:Vs,useLayoutEffect:Gs,useMemo:Qs,useReducer:Ts,useRef:Bs,useState:function(){return Ts(Cs)},useDebugValue:Ys,useDeferredValue:function(t){var e=Es();return null===gs?e.memoizedState=t:Js(e,gs.memoizedState,t)},useTransition:function(){return[Ts(Cs)[0],Es().memoizedState]},useMutableSource:Ps,useSyncExternalStore:Rs,useId:Zs,unstable_isNewReconciler:!1};function co(t,e){try{var n="",i=e;do{n+=z(i),i=i.return}while(i);var a=n}catch(r){a="\nError generating stack: "+r.message+"\n"+r.stack}return{value:t,source:e,stack:a,digest:null}}function uo(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ho(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var po="function"===typeof WeakMap?WeakMap:Map;function fo(t,e,n){(n=Lr(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Gl||(Gl=!0,ql=i),ho(0,e)},n}function go(t,e,n){(n=Lr(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var a=e.value;n.payload=function(){return i(a)},n.callback=function(){ho(0,e)}}var r=t.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){ho(0,e),"function"!==typeof i&&(null===Xl?Xl=new Set([this]):Xl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function mo(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new po;var a=new Set;i.set(e,a)}else void 0===(a=i.get(e))&&(a=new Set,i.set(e,a));a.has(n)||(a.add(n),t=Ec.bind(null,t,e,n),e.then(t,t))}function vo(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function bo(t,e,n,i,a){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Lr(-1,1)).tag=2,Ir(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=a,t)}var wo=y.ReactCurrentOwner,yo=!1;function ko(t,e,n,i){e.child=null===t?Jr(e,null,n,i):Qr(e,t.child,n,i)}function Ao(t,e,n,i,a){n=n.render;var r=e.ref;return xr(e,a),i=Ss(t,e,n,i,r,a),n=xs(),null===t||yo?(ar&&n&&tr(e),e.flags|=1,ko(t,e,i,a),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Go(t,e,a))}function So(t,e,n,i,a){if(null===t){var r=n.type;return"function"!==typeof r||Lc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Nc(n.type,null,i,e,e.mode,a)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=r,xo(t,e,r,i,a))}if(r=t.child,0===(t.lanes&a)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&t.ref===e.ref)return Go(t,e,a)}return e.flags|=1,(t=Ic(r,i)).ref=e.ref,t.return=e,e.child=t}function xo(t,e,n,i,a){if(null!==t){var r=t.memoizedProps;if(li(r,i)&&t.ref===e.ref){if(yo=!1,e.pendingProps=i=r,0===(t.lanes&a))return e.lanes=t.lanes,Go(t,e,a);0!==(131072&t.flags)&&(yo=!0)}}return Co(t,e,n,i,a)}function _o(t,e,n){var i=e.pendingProps,a=i.children,r=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Il,Ll),Ll|=n;else{if(0===(1073741824&n))return t=null!==r?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ea(Il,Ll),Ll|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==r?r.baseLanes:n,Ea(Il,Ll),Ll|=i}else null!==r?(i=r.baseLanes|n,e.memoizedState=null):i=n,Ea(Il,Ll),Ll|=i;return ko(t,e,a,n),e.child}function Eo(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Co(t,e,n,i,a){var r=Da(n)?Pa:Ma.current;return r=Ra(e,r),xr(e,a),n=Ss(t,e,n,i,r,a),i=xs(),null===t||yo?(ar&&i&&tr(e),e.flags|=1,ko(t,e,n,a),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Go(t,e,a))}function Mo(t,e,n,i,a){if(Da(n)){var r=!0;Fa(e)}else r=!1;if(xr(e,a),null===e.stateNode)Vo(t,e),Hr(e,n,i),Gr(e,n,i,a),i=!0;else if(null===t){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=_r(c):c=Ra(e,c=Da(n)?Pa:Ma.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==i||l!==c)&&Vr(e,s,i,c),Pr=!1;var d=e.memoizedState;s.state=d,Or(e,i,s,a),l=e.memoizedState,o!==i||d!==l||Ta.current||Pr?("function"===typeof u&&(jr(e,n,u,i),l=e.memoizedState),(o=Pr||Ur(e,n,o,i,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4194308)):("function"===typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=c,i=o):("function"===typeof s.componentDidMount&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,Dr(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:mr(e.type,o),s.props=c,h=e.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=_r(l):l=Ra(e,l=Da(n)?Pa:Ma.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&Vr(e,s,i,l),Pr=!1,d=e.memoizedState,s.state=d,Or(e,i,s,a);var f=e.memoizedState;o!==h||d!==f||Ta.current||Pr?("function"===typeof p&&(jr(e,n,p,i),f=e.memoizedState),(c=Pr||Ur(e,n,c,i,d,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),s.props=i,s.state=f,s.context=l,i=c):("function"!==typeof s.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return To(t,e,n,i,r,a)}function To(t,e,n,i,a,r){Eo(t,e);var s=0!==(128&e.flags);if(!i&&!s)return a&&Oa(e,n,!1),Go(t,e,r);i=e.stateNode,wo.current=e;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&s?(e.child=Qr(e,t.child,null,r),e.child=Qr(e,null,o,r)):ko(t,e,o,r),e.memoizedState=i.state,a&&Oa(e,n,!0),e.child}function Po(t){var e=t.stateNode;e.pendingContext?Ia(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ia(0,e.context,!1),is(t,e.containerInfo)}function Ro(t,e,n,i,a){return pr(),fr(a),e.flags|=256,ko(t,e,n,i),e.child}var Do,Lo,Io,No,Fo={dehydrated:null,treeContext:null,retryLane:0};function Oo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wo(t,e,n){var i,a=e.pendingProps,s=os.current,o=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&s)),i?(o=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(s|=1),Ea(os,1&s),null===t)return cr(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=a.children,t=a.fallback,o?(a=e.mode,o=e.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Oc(l,a,0,null),t=Fc(t,a,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Oo(n),e.memoizedState=Fo,t):Bo(e,l));if(null!==(s=t.memoizedState)&&null!==(i=s.dehydrated))return function(t,e,n,i,a,s,o){if(n)return 256&e.flags?(e.flags&=-257,jo(t,e,o,i=uo(Error(r(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(s=i.fallback,a=e.mode,i=Oc({mode:"visible",children:i.children},a,0,null),(s=Fc(s,a,o,null)).flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,0!==(1&e.mode)&&Qr(e,t.child,null,o),e.child.memoizedState=Oo(o),e.memoizedState=Fo,s);if(0===(1&e.mode))return jo(t,e,o,null);if("$!"===a.data){if(i=a.nextSibling&&a.nextSibling.dataset)var l=i.dgst;return i=l,jo(t,e,o,i=uo(s=Error(r(419)),i,void 0))}if(l=0!==(o&t.childLanes),yo||l){if(null!==(i=Pl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(i.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Tr(t,a),ic(i,t,a,-1))}return mc(),jo(t,e,o,i=uo(Error(r(421))))}return"$?"===a.data?(e.flags|=128,e.child=t.child,e=Mc.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,ir=ca(a.nextSibling),nr=e,ar=!0,rr=null,null!==t&&(Xa[Ya++]=Qa,Xa[Ya++]=Ja,Xa[Ya++]=Ka,Qa=t.id,Ja=t.overflow,Ka=e),e=Bo(e,i.children),e.flags|=4096,e)}(t,e,l,a,i,s,n);if(o){o=a.fallback,l=e.mode,i=(s=t.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&e.child!==s?((a=e.child).childLanes=0,a.pendingProps=c,e.deletions=null):(a=Ic(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==i?o=Ic(i,o):(o=Fc(o,l,n,null)).flags|=2,o.return=e,a.return=e,a.sibling=o,e.child=a,a=o,o=e.child,l=null===(l=t.child.memoizedState)?Oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Fo,a}return t=(o=t.child).sibling,a=Ic(o,{mode:"visible",children:a.children}),0===(1&e.mode)&&(a.lanes=n),a.return=e,a.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=a,e.memoizedState=null,a}function Bo(t,e){return(e=Oc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function jo(t,e,n,i){return null!==i&&fr(i),Qr(e,t.child,null,n),(t=Bo(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function zo(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Sr(t.return,e,n)}function Uo(t,e,n,i,a){var r=t.memoizedState;null===r?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=a)}function Ho(t,e,n){var i=e.pendingProps,a=i.revealOrder,r=i.tail;if(ko(t,e,i.children,n),0!==(2&(i=os.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&zo(t,n,e);else if(19===t.tag)zo(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ea(os,i),0===(1&e.mode))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;null!==n;)null!==(t=n.alternate)&&null===ls(t)&&(a=n),n=n.sibling;null===(n=a)?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),Uo(e,!1,a,n,r);break;case"backwards":for(n=null,a=e.child,e.child=null;null!==a;){if(null!==(t=a.alternate)&&null===ls(t)){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Uo(e,!0,n,null,r);break;case"together":Uo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vo(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Go(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ol|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(n=Ic(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ic(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function qo(t,e){if(!ar)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xo(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var a=t.child;null!==a;)n|=a.lanes|a.childLanes,i|=14680064&a.subtreeFlags,i|=14680064&a.flags,a.return=t,a=a.sibling;else for(a=t.child;null!==a;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Yo(t,e,n){var i=e.pendingProps;switch(er(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(e),null;case 1:case 17:return Da(e.type)&&La(),Xo(e),null;case 3:return i=e.stateNode,as(),_a(Ta),_a(Ma),us(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(hr(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==rr&&(oc(rr),rr=null))),Lo(t,e),Xo(e),null;case 5:ss(e);var a=ns(es.current);if(n=e.type,null!==t&&null!=e.stateNode)Io(t,e,n,i,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(r(166));return Xo(e),null}if(t=ns(Zr.current),hr(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[da]=e,i[pa]=s,t=0!==(1&e.mode),n){case"dialog":Bi("cancel",i),Bi("close",i);break;case"iframe":case"object":case"embed":Bi("load",i);break;case"video":case"audio":for(a=0;a<Ni.length;a++)Bi(Ni[a],i);break;case"source":Bi("error",i);break;case"img":case"image":case"link":Bi("error",i),Bi("load",i);break;case"details":Bi("toggle",i);break;case"input":Q(i,s),Bi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Bi("invalid",i);break;case"textarea":at(i,s),Bi("invalid",i)}for(var l in bt(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==s.suppressHydrationWarning&&$i(i.textContent,c,t),a=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&$i(i.textContent,c,t),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bi("scroll",i)}switch(n){case"input":q(i),Z(i,s,!0);break;case"textarea":q(i),st(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Zi)}i=a,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=ot(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[da]=e,t[pa]=i,Do(t,e,!1,!1),e.stateNode=t;t:{switch(l=wt(n,i),n){case"dialog":Bi("cancel",t),Bi("close",t),a=i;break;case"iframe":case"object":case"embed":Bi("load",t),a=i;break;case"video":case"audio":for(a=0;a<Ni.length;a++)Bi(Ni[a],t);a=i;break;case"source":Bi("error",t),a=i;break;case"img":case"image":case"link":Bi("error",t),Bi("load",t),a=i;break;case"details":Bi("toggle",t),a=i;break;case"input":Q(t,i),a=K(t,i),Bi("invalid",t);break;case"option":default:a=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},a=O({},i,{value:void 0}),Bi("invalid",t);break;case"textarea":at(t,i),a=it(t,i),Bi("invalid",t)}for(s in bt(n,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?mt(t,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Bi("scroll",t):null!=u&&w(t,s,u,l))}switch(n){case"input":q(t),Z(t,i,!1);break;case"textarea":q(t),st(t);break;case"option":null!=i.value&&t.setAttribute("value",""+V(i.value));break;case"select":t.multiple=!!i.multiple,null!=(s=i.value)?nt(t,!!i.multiple,s,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof a.onClick&&(t.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Xo(e),null;case 6:if(t&&null!=e.stateNode)No(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(r(166));if(n=ns(es.current),ns(Zr.current),hr(e)){if(i=e.stateNode,n=e.memoizedProps,i[da]=e,(s=i.nodeValue!==n)&&null!==(t=nr))switch(t.tag){case 3:$i(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&$i(i.nodeValue,n,0!==(1&t.mode))}s&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[da]=e,e.stateNode=i}return Xo(e),null;case 13:if(_a(os),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ar&&null!==ir&&0!==(1&e.mode)&&0===(128&e.flags))dr(),pr(),e.flags|=98560,s=!1;else if(s=hr(e),null!==i&&null!==i.dehydrated){if(null===t){if(!s)throw Error(r(318));if(!(s=null!==(s=e.memoizedState)?s.dehydrated:null))throw Error(r(317));s[da]=e}else pr(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Xo(e),s=!1}else null!==rr&&(oc(rr),rr=null),s=!0;if(!s)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&os.current)?0===Nl&&(Nl=3):mc())),null!==e.updateQueue&&(e.flags|=4),Xo(e),null);case 4:return as(),Lo(t,e),null===t&&Ui(e.stateNode.containerInfo),Xo(e),null;case 10:return Ar(e.type._context),Xo(e),null;case 19:if(_a(os),null===(s=e.memoizedState))return Xo(e),null;if(i=0!==(128&e.flags),null===(l=s.rendering))if(i)qo(s,!1);else{if(0!==Nl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ls(t))){for(e.flags|=128,qo(s,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ea(os,1&os.current|2),e.child}t=t.sibling}null!==s.tail&&Jt()>Hl&&(e.flags|=128,i=!0,qo(s,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=ls(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),qo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ar)return Xo(e),null}else 2*Jt()-s.renderingStartTime>Hl&&1073741824!==n&&(e.flags|=128,i=!0,qo(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=s.last)?n.sibling=l:e.child=l,s.last=l)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jt(),e.sibling=null,n=os.current,Ea(os,i?1&n|2:1&n),e):(Xo(e),null);case 22:case 23:return dc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Ll)&&(Xo(e),6&e.subtreeFlags&&(e.flags|=8192)):Xo(e),null;case 24:case 25:return null}throw Error(r(156,e.tag))}function Ko(t,e){switch(er(e),e.tag){case 1:return Da(e.type)&&La(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return as(),_a(Ta),_a(Ma),us(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return ss(e),null;case 13:if(_a(os),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(r(340));pr()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return _a(os),null;case 4:return as(),null;case 10:return Ar(e.type._context),null;case 22:case 23:return dc(),null;default:return null}}Do=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lo=function(){},Io=function(t,e,n,i){var a=t.memoizedProps;if(a!==i){t=e.stateNode,ns(Zr.current);var r,s=null;switch(n){case"input":a=K(t,a),i=K(t,i),s=[];break;case"select":a=O({},a,{value:void 0}),i=O({},i,{value:void 0}),s=[];break;case"textarea":a=it(t,a),i=it(t,i),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(t.onclick=Zi)}for(u in bt(n,i),n=null,a)if(!i.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=a?a[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Bi("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}},No=function(t,e,n,i){n!==i&&(e.flags|=4)};var Qo=!1,Jo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){_c(t,e,i)}else n.current=null}function el(t,e,n){try{n()}catch(i){_c(t,e,i)}}var nl=!1;function il(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var a=i=i.next;do{if((a.tag&t)===t){var r=a.destroy;a.destroy=void 0,void 0!==r&&el(e,n,r)}a=a.next}while(a!==i)}}function al(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function rl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function sl(t){var e=t.alternate;null!==e&&(t.alternate=null,sl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[da],delete e[pa],delete e[ga],delete e[ma],delete e[va])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ol(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ol(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zi));else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}function ul(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}var hl=null,dl=!1;function pl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(re&&"function"===typeof re.onCommitFiberUnmount)try{re.onCommitFiberUnmount(ae,n)}catch(o){}switch(n.tag){case 5:Jo||tl(n,e);case 6:var i=hl,a=dl;hl=null,pl(t,e,n),dl=a,null!==(hl=i)&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?la(t.parentNode,n):1===t.nodeType&&la(t,n),Ue(t)):la(hl,n.stateNode));break;case 4:i=hl,a=dl,hl=n.stateNode.containerInfo,dl=!0,pl(t,e,n),hl=i,dl=a;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){a=i=i.next;do{var r=a,s=r.destroy;r=r.tag,void 0!==s&&(0!==(2&r)||0!==(4&r))&&el(n,e,s),a=a.next}while(a!==i)}pl(t,e,n);break;case 1:if(!Jo&&(tl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){_c(n,e,o)}pl(t,e,n);break;case 21:pl(t,e,n);break;case 22:1&n.mode?(Jo=(i=Jo)||null!==n.memoizedState,pl(t,e,n),Jo=i):pl(t,e,n);break;default:pl(t,e,n)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new $o),e.forEach((function(e){var i=Tc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i];try{var s=t,o=e,l=o;t:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break t;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===hl)throw Error(r(160));fl(s,o,a),hl=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){_c(a,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vl(e,t),e=e.sibling}function vl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),bl(t),4&i){try{il(3,t,t.return),al(3,t)}catch(m){_c(t,t.return,m)}try{il(5,t,t.return)}catch(m){_c(t,t.return,m)}}break;case 1:ml(e,t),bl(t),512&i&&null!==n&&tl(n,n.return);break;case 5:if(ml(e,t),bl(t),512&i&&null!==n&&tl(n,n.return),32&t.flags){var a=t.stateNode;try{dt(a,"")}catch(m){_c(t,t.return,m)}}if(4&i&&null!=(a=t.stateNode)){var s=t.memoizedProps,o=null!==n?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(a,s),wt(l,o);var u=wt(l,s);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?mt(a,d):"dangerouslySetInnerHTML"===h?ht(a,d):"children"===h?dt(a,d):w(a,h,d,u)}switch(l){case"input":$(a,s);break;case"textarea":rt(a,s);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?nt(a,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?nt(a,!!s.multiple,s.defaultValue,!0):nt(a,!!s.multiple,s.multiple?[]:"",!1))}a[pa]=s}catch(m){_c(t,t.return,m)}}break;case 6:if(ml(e,t),bl(t),4&i){if(null===t.stateNode)throw Error(r(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(m){_c(t,t.return,m)}}break;case 3:if(ml(e,t),bl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ue(e.containerInfo)}catch(m){_c(t,t.return,m)}break;case 4:default:ml(e,t),bl(t);break;case 13:ml(e,t),bl(t),8192&(a=t.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Jt())),4&i&&gl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Jo=(u=Jo)||h,ml(e,t),Jo=u):ml(e,t),bl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Zo=t,h=t.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(f=(p=Zo).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:tl(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){i=p,n=p.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){_c(i,n,m)}}break;case 5:tl(p,p.return);break;case 22:if(null!==p.memoizedState){Al(d);continue}}null!==f?(f.return=p,Zo=f):Al(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{a=d.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",o))}catch(m){_c(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){_c(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),bl(t),4&i&&gl(t);case 21:}}function bl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(ol(n)){var i=n;break t}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var a=i.stateNode;32&i.flags&&(dt(a,""),i.flags&=-33),ul(t,ll(t),a);break;case 3:case 4:var s=i.stateNode.containerInfo;cl(t,ll(t),s);break;default:throw Error(r(161))}}catch(o){_c(t,t.return,o)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function wl(t,e,n){Zo=t,yl(t,e,n)}function yl(t,e,n){for(var i=0!==(1&t.mode);null!==Zo;){var a=Zo,r=a.child;if(22===a.tag&&i){var s=null!==a.memoizedState||Qo;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Qo;var c=Jo;if(Qo=s,(Jo=l)&&!c)for(Zo=a;null!==Zo;)l=(s=Zo).child,22===s.tag&&null!==s.memoizedState?Sl(a):null!==l?(l.return=s,Zo=l):Sl(a);for(;null!==r;)Zo=r,yl(r,e,n),r=r.sibling;Zo=a,Qo=o,Jo=c}kl(t)}else 0!==(8772&a.subtreeFlags)&&null!==r?(r.return=a,Zo=r):kl(t)}}function kl(t){for(;null!==Zo;){var e=Zo;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Jo||al(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Jo)if(null===n)i.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:mr(e.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;null!==s&&Wr(e,s,i);break;case 3:var o=e.updateQueue;if(null!==o){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Wr(e,o,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ue(d)}}}break;default:throw Error(r(163))}Jo||512&e.flags&&rl(e)}catch(p){_c(e,e.return,p)}}if(e===t){Zo=null;break}if(null!==(n=e.sibling)){n.return=e.return,Zo=n;break}Zo=e.return}}function Al(t){for(;null!==Zo;){var e=Zo;if(e===t){Zo=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Zo=n;break}Zo=e.return}}function Sl(t){for(;null!==Zo;){var e=Zo;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{al(4,e)}catch(l){_c(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var a=e.return;try{i.componentDidMount()}catch(l){_c(e,a,l)}}var r=e.return;try{rl(e)}catch(l){_c(e,r,l)}break;case 5:var s=e.return;try{rl(e)}catch(l){_c(e,s,l)}}}catch(l){_c(e,e.return,l)}if(e===t){Zo=null;break}var o=e.sibling;if(null!==o){o.return=e.return,Zo=o;break}Zo=e.return}}var xl,_l=Math.ceil,El=y.ReactCurrentDispatcher,Cl=y.ReactCurrentOwner,Ml=y.ReactCurrentBatchConfig,Tl=0,Pl=null,Rl=null,Dl=0,Ll=0,Il=xa(0),Nl=0,Fl=null,Ol=0,Wl=0,Bl=0,jl=null,zl=null,Ul=0,Hl=1/0,Vl=null,Gl=!1,ql=null,Xl=null,Yl=!1,Kl=null,Ql=0,Jl=0,$l=null,Zl=-1,tc=0;function ec(){return 0!==(6&Tl)?Jt():-1!==Zl?Zl:Zl=Jt()}function nc(t){return 0===(1&t.mode)?1:0!==(2&Tl)&&0!==Dl?Dl&-Dl:null!==gr.transition?(0===tc&&(tc=ge()),tc):0!==(t=we)?t:t=void 0===(t=window.event)?16:Qe(t.type)}function ic(t,e,n,i){if(50<Jl)throw Jl=0,$l=null,Error(r(185));ve(t,n,i),0!==(2&Tl)&&t===Pl||(t===Pl&&(0===(2&Tl)&&(Wl|=n),4===Nl&&lc(t,Dl)),ac(t,i),1===n&&0===Tl&&0===(1&e.mode)&&(Hl=Jt()+500,Ba&&Ua()))}function ac(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,r=t.pendingLanes;0<r;){var s=31-se(r),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&i)||(a[s]=pe(o,e)):l<=e&&(t.expiredLanes|=o),r&=~o}}(t,e);var i=de(t,t===Pl?Dl:0);if(0===i)null!==n&&Yt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Yt(n),1===e)0===t.tag?function(t){Ba=!0,za(t)}(cc.bind(null,t)):za(cc.bind(null,t)),sa((function(){0===(6&Tl)&&Ua()})),n=null;else{switch(ye(i)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Pc(n,rc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rc(t,e){if(Zl=-1,tc=0,0!==(6&Tl))throw Error(r(327));var n=t.callbackNode;if(Sc()&&t.callbackNode!==n)return null;var i=de(t,t===Pl?Dl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=vc(t,i);else{e=i;var a=Tl;Tl|=2;var s=gc();for(Pl===t&&Dl===e||(Vl=null,Hl=Jt()+500,pc(t,e));;)try{wc();break}catch(l){fc(t,l)}kr(),El.current=s,Tl=a,null!==Rl?e=0:(Pl=null,Dl=0,e=Nl)}if(0!==e){if(2===e&&(0!==(a=fe(t))&&(i=a,e=sc(t,a))),1===e)throw n=Fl,pc(t,0),lc(t,i),ac(t,Jt()),n;if(6===e)lc(t,i);else{if(a=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var a=n[i],r=a.getSnapshot;a=a.value;try{if(!oi(r(),a))return!1}catch(o){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(a)&&(2===(e=vc(t,i))&&(0!==(s=fe(t))&&(i=s,e=sc(t,s))),1===e))throw n=Fl,pc(t,0),lc(t,i),ac(t,Jt()),n;switch(t.finishedWork=a,t.finishedLanes=i,e){case 0:case 1:throw Error(r(345));case 2:case 5:Ac(t,zl,Vl);break;case 3:if(lc(t,i),(130023424&i)===i&&10<(e=Ul+500-Jt())){if(0!==de(t,0))break;if(((a=t.suspendedLanes)&i)!==i){ec(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=ia(Ac.bind(null,t,zl,Vl),e);break}Ac(t,zl,Vl);break;case 4:if(lc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,a=-1;0<i;){var o=31-se(i);s=1<<o,(o=e[o])>a&&(a=o),i&=~s}if(i=a,10<(i=(120>(i=Jt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_l(i/1960))-i)){t.timeoutHandle=ia(Ac.bind(null,t,zl,Vl),i);break}Ac(t,zl,Vl);break;default:throw Error(r(329))}}}return ac(t,Jt()),t.callbackNode===n?rc.bind(null,t):null}function sc(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(pc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=zl,zl=n,null!==e&&oc(e)),t}function oc(t){null===zl?zl=t:zl.push.apply(zl,t)}function lc(t,e){for(e&=~Bl,e&=~Wl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-se(e),i=1<<n;t[n]=-1,e&=~i}}function cc(t){if(0!==(6&Tl))throw Error(r(327));Sc();var e=de(t,0);if(0===(1&e))return ac(t,Jt()),null;var n=vc(t,e);if(0!==t.tag&&2===n){var i=fe(t);0!==i&&(e=i,n=sc(t,i))}if(1===n)throw n=Fl,pc(t,0),lc(t,e),ac(t,Jt()),n;if(6===n)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ac(t,zl,Vl),ac(t,Jt()),null}function uc(t,e){var n=Tl;Tl|=1;try{return t(e)}finally{0===(Tl=n)&&(Hl=Jt()+500,Ba&&Ua())}}function hc(t){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&Sc();var e=Tl;Tl|=1;var n=Ml.transition,i=we;try{if(Ml.transition=null,we=1,t)return t()}finally{we=i,Ml.transition=n,0===(6&(Tl=e))&&Ua()}}function dc(){Ll=Il.current,_a(Il)}function pc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,aa(n)),null!==Rl)for(n=Rl.return;null!==n;){var i=n;switch(er(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&La();break;case 3:as(),_a(Ta),_a(Ma),us();break;case 5:ss(i);break;case 4:as();break;case 13:case 19:_a(os);break;case 10:Ar(i.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=t,Rl=t=Ic(t.current,null),Dl=Ll=e,Nl=0,Fl=null,Bl=Wl=Ol=0,zl=jl=null,null!==Er){for(e=0;e<Er.length;e++)if(null!==(i=(n=Er[e]).interleaved)){n.interleaved=null;var a=i.next,r=n.pending;if(null!==r){var s=r.next;r.next=a,i.next=s}n.pending=i}Er=null}return t}function fc(t,e){for(;;){var n=Rl;try{if(kr(),hs.current=ro,vs){for(var i=fs.memoizedState;null!==i;){var a=i.queue;null!==a&&(a.pending=null),i=i.next}vs=!1}if(ps=0,ms=gs=fs=null,bs=!1,ws=0,Cl.current=null,null===n||null===n.return){Nl=1,Fl=e,Rl=null;break}t:{var s=t,o=n.return,l=n,c=e;if(e=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=vo(o);if(null!==f){f.flags&=-257,bo(f,o,l,0,e),1&f.mode&&mo(s,u,e),c=u;var g=(e=f).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){mo(s,u,e),mc();break t}c=Error(r(426))}else if(ar&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bo(v,o,l,0,e),fr(co(c,l));break t}}s=c=co(c,l),4!==Nl&&(Nl=2),null===jl?jl=[s]:jl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e,Fr(s,fo(0,c,e));break t;case 1:l=c;var b=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Xl||!Xl.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e,Fr(s,go(s,l,e));break t}}s=s.return}while(null!==s)}kc(n)}catch(y){e=y,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function gc(){var t=El.current;return El.current=ro,null===t?ro:t}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Pl||0===(268435455&Ol)&&0===(268435455&Wl)||lc(Pl,Dl)}function vc(t,e){var n=Tl;Tl|=2;var i=gc();for(Pl===t&&Dl===e||(Vl=null,pc(t,e));;)try{bc();break}catch(a){fc(t,a)}if(kr(),Tl=n,El.current=i,null!==Rl)throw Error(r(261));return Pl=null,Dl=0,Nl}function bc(){for(;null!==Rl;)yc(Rl)}function wc(){for(;null!==Rl&&!Kt();)yc(Rl)}function yc(t){var e=xl(t.alternate,t,Ll);t.memoizedProps=t.pendingProps,null===e?kc(t):Rl=e,Cl.current=null}function kc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Yo(n,e,Ll)))return void(Rl=n)}else{if(null!==(n=Ko(n,e)))return n.flags&=32767,void(Rl=n);if(null===t)return Nl=6,void(Rl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Rl=e);Rl=e=t}while(null!==e);0===Nl&&(Nl=5)}function Ac(t,e,n){var i=we,a=Ml.transition;try{Ml.transition=null,we=1,function(t,e,n,i){do{Sc()}while(null!==Kl);if(0!==(6&Tl))throw Error(r(327));n=t.finishedWork;var a=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-se(n),r=1<<a;e[a]=0,i[a]=-1,t[a]=-1,n&=~r}}(t,s),t===Pl&&(Rl=Pl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Pc(ee,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Ml.transition,Ml.transition=null;var o=we;we=1;var l=Tl;Tl|=4,Cl.current=null,function(t,e){if(ta=Ve,pi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(k){n=null;break t}var o=0,l=-1,c=-1,u=0,h=0,d=t,p=null;e:for(;;){for(var f;d!==n||0!==a&&3!==d.nodeType||(l=o+a),d!==s||0!==i&&3!==d.nodeType||(c=o+i),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===t)break e;if(p===n&&++u===a&&(l=o),p===s&&++h===i&&(c=o),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ea={focusedElem:t,selectionRange:n},Ve=!1,Zo=e;null!==Zo;)if(t=(e=Zo).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Zo=t;else for(;null!==Zo;){e=Zo;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?m:mr(e.type,m),v);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=e.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(r(163))}}catch(k){_c(e,e.return,k)}if(null!==(t=e.sibling)){t.return=e.return,Zo=t;break}Zo=e.return}g=nl,nl=!1}(t,n),vl(n,t),fi(ea),Ve=!!ta,ea=ta=null,t.current=n,wl(n,t,a),Qt(),Tl=l,we=o,Ml.transition=s}else t.current=n;if(Yl&&(Yl=!1,Kl=t,Ql=a),s=t.pendingLanes,0===s&&(Xl=null),function(t){if(re&&"function"===typeof re.onCommitFiberRoot)try{re.onCommitFiberRoot(ae,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ac(t,Jt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)a=e[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(Gl)throw Gl=!1,t=ql,ql=null,t;0!==(1&Ql)&&0!==t.tag&&Sc(),s=t.pendingLanes,0!==(1&s)?t===$l?Jl++:(Jl=0,$l=t):Jl=0,Ua()}(t,e,n,i)}finally{Ml.transition=a,we=i}return null}function Sc(){if(null!==Kl){var t=ye(Ql),e=Ml.transition,n=we;try{if(Ml.transition=null,we=16>t?16:t,null===Kl)var i=!1;else{if(t=Kl,Kl=null,Ql=0,0!==(6&Tl))throw Error(r(331));var a=Tl;for(Tl|=4,Zo=t.current;null!==Zo;){var s=Zo,o=s.child;if(0!==(16&Zo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:il(8,h,s)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var p=(h=Zo).sibling,f=h.return;if(sl(h),h===u){Zo=null;break}if(null!==p){p.return=f,Zo=p;break}Zo=f}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Zo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Zo=o;else t:for(;null!==Zo;){if(0!==(2048&(s=Zo).flags))switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Zo=b;break t}Zo=s.return}}var w=t.current;for(Zo=w;null!==Zo;){var y=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Zo=y;else t:for(o=w;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(A){_c(l,l.return,A)}if(l===o){Zo=null;break t}var k=l.sibling;if(null!==k){k.return=l.return,Zo=k;break t}Zo=l.return}}if(Tl=a,Ua(),re&&"function"===typeof re.onPostCommitFiberRoot)try{re.onPostCommitFiberRoot(ae,t)}catch(A){}i=!0}return i}finally{we=n,Ml.transition=e}}return!1}function xc(t,e,n){t=Ir(t,e=fo(0,e=co(n,e),1),1),e=ec(),null!==t&&(ve(t,1,e),ac(t,e))}function _c(t,e,n){if(3===t.tag)xc(t,t,n);else for(;null!==e;){if(3===e.tag){xc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Xl||!Xl.has(i))){e=Ir(e,t=go(e,t=co(n,t),1),1),t=ec(),null!==e&&(ve(e,1,t),ac(e,t));break}}e=e.return}}function Ec(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=ec(),t.pingedLanes|=t.suspendedLanes&n,Pl===t&&(Dl&n)===n&&(4===Nl||3===Nl&&(130023424&Dl)===Dl&&500>Jt()-Ul?pc(t,0):Bl|=n),ac(t,e)}function Cc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=ec();null!==(t=Tr(t,e))&&(ve(t,e,n),ac(t,n))}function Mc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Cc(t,n)}function Tc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,a=t.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(e),Cc(t,n)}function Pc(t,e){return Xt(t,e)}function Rc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(t,e,n,i){return new Rc(t,e,n,i)}function Lc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ic(t,e){var n=t.alternate;return null===n?((n=Dc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nc(t,e,n,i,a,s){var o=2;if(i=t,"function"===typeof t)Lc(t)&&(o=1);else if("string"===typeof t)o=5;else t:switch(t){case S:return Fc(n.children,a,s,e);case x:o=8,a|=8;break;case _:return(t=Dc(12,n,e,2|a)).elementType=_,t.lanes=s,t;case T:return(t=Dc(13,n,e,a)).elementType=T,t.lanes=s,t;case P:return(t=Dc(19,n,e,a)).elementType=P,t.lanes=s,t;case L:return Oc(n,a,s,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case E:o=10;break t;case C:o=9;break t;case M:o=11;break t;case R:o=14;break t;case D:o=16,i=null;break t}throw Error(r(130,null==t?t:typeof t,""))}return(e=Dc(o,n,e,a)).elementType=t,e.type=i,e.lanes=s,e}function Fc(t,e,n,i){return(t=Dc(7,t,i,e)).lanes=n,t}function Oc(t,e,n,i){return(t=Dc(22,t,i,e)).elementType=L,t.lanes=n,t.stateNode={isHidden:!1},t}function Wc(t,e,n){return(t=Dc(6,t,null,e)).lanes=n,t}function Bc(t,e,n){return(e=Dc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jc(t,e,n,i,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(t,e,n,i,a,r,s,o,l){return t=new jc(t,e,n,o,l),1===e?(e=1,!0===r&&(e|=8)):e=0,r=Dc(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rr(r),t}function Uc(t){if(!t)return Ca;t:{if(Ut(t=t._reactInternals)!==t||1!==t.tag)throw Error(r(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Da(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(r(171))}if(1===t.tag){var n=t.type;if(Da(n))return Na(t,n,e)}return e}function Hc(t,e,n,i,a,r,s,o,l){return(t=zc(n,i,!0,t,0,r,0,o,l)).context=Uc(null),n=t.current,(r=Lr(i=ec(),a=nc(n))).callback=void 0!==e&&null!==e?e:null,Ir(n,r,a),t.current.lanes=a,ve(t,a,i),ac(t,i),t}function Vc(t,e,n,i){var a=e.current,r=ec(),s=nc(a);return n=Uc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Lr(r,s)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Ir(a,e,s))&&(ic(t,a,s,r),Nr(t,a,s)),s}function Gc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function qc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Xc(t,e){qc(t,e),(t=t.alternate)&&qc(t,e)}xl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ta.current)yo=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return yo=!1,function(t,e,n){switch(e.tag){case 3:Po(e),pr();break;case 5:rs(e);break;case 1:Da(e.type)&&Fa(e);break;case 4:is(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,a=e.memoizedProps.value;Ea(vr,i._currentValue),i._currentValue=a;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Ea(os,1&os.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Wo(t,e,n):(Ea(os,1&os.current),null!==(t=Go(t,e,n))?t.sibling:null);Ea(os,1&os.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Ho(t,e,n);e.flags|=128}if(null!==(a=e.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(os,os.current),i)break;return null;case 22:case 23:return e.lanes=0,_o(t,e,n)}return Go(t,e,n)}(t,e,n);yo=0!==(131072&t.flags)}else yo=!1,ar&&0!==(1048576&e.flags)&&Za(e,qa,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Vo(t,e),t=e.pendingProps;var a=Ra(e,Ma.current);xr(e,n),a=Ss(null,e,i,t,a,n);var s=xs();return e.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Da(i)?(s=!0,Fa(e)):s=!1,e.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Rr(e),a.updater=zr,e.stateNode=a,a._reactInternals=e,Gr(e,i,t,n),e=To(null,e,i,!0,s,n)):(e.tag=0,ar&&s&&tr(e),ko(null,e,a,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Vo(t,e),t=e.pendingProps,i=(a=i._init)(i._payload),e.type=i,a=e.tag=function(t){if("function"===typeof t)return Lc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===M)return 11;if(t===R)return 14}return 2}(i),t=mr(i,t),a){case 0:e=Co(null,e,i,t,n);break t;case 1:e=Mo(null,e,i,t,n);break t;case 11:e=Ao(null,e,i,t,n);break t;case 14:e=So(null,e,i,mr(i.type,t),n);break t}throw Error(r(306,i,""))}return e;case 0:return i=e.type,a=e.pendingProps,Co(t,e,i,a=e.elementType===i?a:mr(i,a),n);case 1:return i=e.type,a=e.pendingProps,Mo(t,e,i,a=e.elementType===i?a:mr(i,a),n);case 3:t:{if(Po(e),null===t)throw Error(r(387));i=e.pendingProps,a=(s=e.memoizedState).element,Dr(t,e),Or(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,256&e.flags){e=Ro(t,e,i,n,a=co(Error(r(423)),e));break t}if(i!==a){e=Ro(t,e,i,n,a=co(Error(r(424)),e));break t}for(ir=ca(e.stateNode.containerInfo.firstChild),nr=e,ar=!0,rr=null,n=Jr(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pr(),i===a){e=Go(t,e,n);break t}ko(t,e,i,n)}e=e.child}return e;case 5:return rs(e),null===t&&cr(e),i=e.type,a=e.pendingProps,s=null!==t?t.memoizedProps:null,o=a.children,na(i,a)?o=null:null!==s&&na(i,s)&&(e.flags|=32),Eo(t,e),ko(t,e,o,n),e.child;case 6:return null===t&&cr(e),null;case 13:return Wo(t,e,n);case 4:return is(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Qr(e,null,i,n):ko(t,e,i,n),e.child;case 11:return i=e.type,a=e.pendingProps,Ao(t,e,i,a=e.elementType===i?a:mr(i,a),n);case 7:return ko(t,e,e.pendingProps,n),e.child;case 8:case 12:return ko(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,a=e.pendingProps,s=e.memoizedProps,o=a.value,Ea(vr,i._currentValue),i._currentValue=o,null!==s)if(oi(s.value,o)){if(s.children===a.children&&!Ta.current){e=Go(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=Lr(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Sr(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===e.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(r(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Sr(o,n,e),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}ko(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,i=e.pendingProps.children,xr(e,n),i=i(a=_r(a)),e.flags|=1,ko(t,e,i,n),e.child;case 14:return a=mr(i=e.type,e.pendingProps),So(t,e,i,a=mr(i.type,a),n);case 15:return xo(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,a=e.pendingProps,a=e.elementType===i?a:mr(i,a),Vo(t,e),e.tag=1,Da(i)?(t=!0,Fa(e)):t=!1,xr(e,n),Hr(e,i,a),Gr(e,i,a,n),To(null,e,i,!0,t,n);case 19:return Ho(t,e,n);case 22:return _o(t,e,n)}throw Error(r(156,e.tag))};var Yc="function"===typeof reportError?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}function Qc(t){this._internalRoot=t}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function $c(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zc(){}function tu(t,e,n,i,a){var r=n._reactRootContainer;if(r){var s=r;if("function"===typeof a){var o=a;a=function(){var t=Gc(s);o.call(t)}}Vc(e,s,t,a)}else s=function(t,e,n,i,a){if(a){if("function"===typeof i){var r=i;i=function(){var t=Gc(s);r.call(t)}}var s=Hc(e,i,t,0,null,!1,0,"",Zc);return t._reactRootContainer=s,t[fa]=s.current,Ui(8===t.nodeType?t.parentNode:t),hc(),s}for(;a=t.lastChild;)t.removeChild(a);if("function"===typeof i){var o=i;i=function(){var t=Gc(l);o.call(t)}}var l=zc(t,0,!1,null,0,!1,0,"",Zc);return t._reactRootContainer=l,t[fa]=l.current,Ui(8===t.nodeType?t.parentNode:t),hc((function(){Vc(e,l,n,i)})),l}(n,e,t,a,i);return Gc(s)}Qc.prototype.render=Kc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(r(409));Vc(t,e,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hc((function(){Vc(null,t,null,null)})),e[fa]=null}},Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=xe();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Le.length&&0!==e&&e<Le[n].priority;n++);Le.splice(n,0,t),0===n&&Oe(t)}},ke=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(be(e,1|n),ac(e,Jt()),0===(6&Tl)&&(Hl=Jt()+500,Ua()))}break;case 13:hc((function(){var e=Tr(t,1);if(null!==e){var n=ec();ic(e,t,1,n)}})),Xc(t,1)}},Ae=function(t){if(13===t.tag){var e=Tr(t,134217728);if(null!==e)ic(e,t,134217728,ec());Xc(t,134217728)}},Se=function(t){if(13===t.tag){var e=nc(t),n=Tr(t,e);if(null!==n)ic(n,t,e,ec());Xc(t,e)}},xe=function(){return we},_e=function(t,e){var n=we;try{return we=t,e()}finally{we=n}},At=function(t,e,n){switch(e){case"input":if($(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var a=ka(i);if(!a)throw Error(r(90));X(i),$(i,a)}}}break;case"textarea":rt(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Mt=uc,Tt=hc;var eu={usingClientEntryPoint:!1,Events:[wa,ya,ka,Et,Ct,uc]},nu={findFiberByHostInstance:ba,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Gt(t))?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{ae=au.inject(iu),re=au}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(e))throw Error(r(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Jc(t))throw Error(r(299));var n=!1,i="",a=Yc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(a=e.onRecoverableError)),e=zc(t,1,!1,null,0,n,0,i,a),t[fa]=e.current,Ui(8===t.nodeType?t.parentNode:t),new Kc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(r(188));throw t=Object.keys(t).join(","),Error(r(268,t))}return t=null===(t=Gt(e))?null:t.stateNode},e.flushSync=function(t){return hc(t)},e.hydrate=function(t,e,n){if(!$c(e))throw Error(r(200));return tu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Jc(t))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,a=!1,s="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),e=Hc(e,null,t,1,null!=n?n:null,a,0,s,o),t[fa]=e.current,Ui(t),i)for(t=0;t<i.length;t++)a=(a=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new Qc(e)},e.render=function(t,e,n){if(!$c(e))throw Error(r(200));return tu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!$c(t))throw Error(r(40));return!!t._reactRootContainer&&(hc((function(){tu(null,null,t,!1,(function(){t._reactRootContainer=null,t[fa]=null}))})),!0)},e.unstable_batchedUpdates=uc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!$c(n))throw Error(r(200));if(null==t||void 0===t._reactInternals)throw Error(r(38));return tu(t,e,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"},250:(t,e,n)=>{"use strict";var i=n(164);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},164:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(463)},374:(t,e,n)=>{"use strict";var i=n(791),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,r={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)s.call(e,i)&&!l.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===r[i]&&(r[i]=e[i]);return{$$typeof:a,type:t,key:c,ref:u,props:r,_owner:o.current}}e.jsx=c,e.jsxs=c},117:(t,e)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}function b(){}function w(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=v.prototype;var y=w.prototype=new b;y.constructor=w,g(y,v.prototype),y.isPureReactComponent=!0;var k=Array.isArray,A=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function _(t,e,i){var a,r={},s=null,o=null;if(null!=e)for(a in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(s=""+e.key),e)A.call(e,a)&&!x.hasOwnProperty(a)&&(r[a]=e[a]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(a in l=t.defaultProps)void 0===r[a]&&(r[a]=l[a]);return{$$typeof:n,type:t,key:s,ref:o,props:r,_owner:S.current}}function E(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var C=/\/+/g;function M(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function T(t,e,a,r,s){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l=!1;if(null===t)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=t),t=""===r?"."+M(l,0):r,k(s)?(a="",null!=t&&(a=t.replace(C,"$&/")+"/"),T(s,e,a,"",(function(t){return t}))):null!=s&&(E(s)&&(s=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=""===r?".":r+":",k(t))for(var c=0;c<t.length;c++){var u=r+M(o=t[c],c);l+=T(o,e,a,u,s)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(o=t.next()).done;)l+=T(o=o.value,e,a,u=r+M(o,c++),s);else if("object"===o)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function P(t,e,n){if(null==t)return t;var i=[],a=0;return T(t,i,"","",(function(t){return e.call(n,t,a++)})),i}function R(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var D={current:null},L={transition:null},I={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};e.Children={map:P,forEach:function(t,e,n){P(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return P(t,(function(){e++})),e},toArray:function(t){return P(t,(function(t){return t}))||[]},only:function(t){if(!E(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=a,e.Profiler=s,e.PureComponent=w,e.StrictMode=r,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=g({},t.props),r=t.key,s=t.ref,o=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,o=S.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)A.call(e,c)&&!x.hasOwnProperty(c)&&(a[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)a.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:t.type,key:r,ref:s,props:a,_owner:o}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=_,e.createFactory=function(t){var e=_.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=L.transition;L.transition={};try{t()}finally{L.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return D.current.useCallback(t,e)},e.useContext=function(t){return D.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return D.current.useDeferredValue(t)},e.useEffect=function(t,e){return D.current.useEffect(t,e)},e.useId=function(){return D.current.useId()},e.useImperativeHandle=function(t,e,n){return D.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return D.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return D.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return D.current.useMemo(t,e)},e.useReducer=function(t,e,n){return D.current.useReducer(t,e,n)},e.useRef=function(t){return D.current.useRef(t)},e.useState=function(t){return D.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return D.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return D.current.useTransition()},e.version="18.2.0"},791:(t,e,n)=>{"use strict";t.exports=n(117)},184:(t,e,n)=>{"use strict";t.exports=n(374)},813:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,a=t[i];if(!(0<r(a,e)))break t;t[i]=e,t[n]=a,n=i}}function i(t){return 0===t.length?null:t[0]}function a(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,a=t.length,s=a>>>1;i<s;){var o=2*(i+1)-1,l=t[o],c=o+1,u=t[c];if(0>r(l,n))c<a&&0>r(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[o]=n,i=o);else{if(!(c<a&&0>r(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function r(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function y(t){for(var e=i(u);null!==e;){if(null===e.callback)a(u);else{if(!(e.startTime<=t))break;a(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function k(t){if(m=!1,y(t),!g)if(null!==i(c))g=!0,L(A);else{var e=i(u);null!==e&&I(k,e.startTime-t)}}function A(t,n){g=!1,m&&(m=!1,b(E),E=-1),f=!0;var r=p;try{for(y(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!T());){var s=d.callback;if("function"===typeof s){d.callback=null,p=d.priorityLevel;var o=s(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof o?d.callback=o:d===i(c)&&a(c),y(n)}else a(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&I(k,h.startTime-n),l=!1}return l}finally{d=null,p=r,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,_=null,E=-1,C=5,M=-1;function T(){return!(e.unstable_now()-M<C)}function P(){if(null!==_){var t=e.unstable_now();M=t;var n=!0;try{n=_(!0,t)}finally{n?S():(x=!1,_=null)}}else x=!1}if("function"===typeof w)S=function(){w(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=P,S=function(){D.postMessage(null)}}else S=function(){v(P,0)};function L(t){_=t,x||(x=!0,S())}function I(t,n){E=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,L(A))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,a,r){var s=e.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return t={id:h++,callback:a,priorityLevel:t,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>s?(t.sortIndex=r,n(u,t),null===i(c)&&t===i(u)&&(m?(b(E),E=-1):m=!0,I(k,r-s))):(t.sortIndex=o,n(c,t),g||f||(g=!0,L(A))),t},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},296:(t,e,n)=>{"use strict";t.exports=n(813)},391:t=>{"use strict";var e=function(){};t.exports=e},386:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/pdf.worker.min.8517fb2e3605cdc56296.mjs"},418:(t,e)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function a(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=s(t,r(n)))}return t}function r(t){if("string"===typeof t||"number"===typeof t)return t;if("object"!==typeof t)return"";if(Array.isArray(t))return a.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)i.call(t,n)&&t[n]&&(e=s(e,n));return e}function s(t,e){return e?t?t+" "+e:t+e:t}t.exports?(a.default=a,t.exports=a):void 0===(n=function(){return a}.apply(e,[]))||(t.exports=n)}()}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(i,a){if(1&a&&(i=this(i)),8&a)return i;if("object"===typeof i&&i){if(4&a&&i.__esModule)return i;if(16&a&&"function"===typeof i.then)return i}var r=Object.create(null);n.r(r);var s={};t=t||[null,e({}),e([]),e(e)];for(var o=2&a&&i;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((t=>s[t]=()=>i[t]));return s.default=()=>i,n.d(r,s),r}})(),n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,i)=>(n.f[i](t,e),e)),[])),n.u=t=>"static/js/"+t+".48bc3d2f.chunk.js",n.miniCssF=t=>{},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="site:";n.l=(i,a,r,s)=>{if(t[i])t[i].push(a);else{var o,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+r){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",e+r),o.src=i),t[i]=[a];var d=(e,n)=>{o.onerror=o.onload=null,clearTimeout(p);var a=t[i];if(delete t[i],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((t=>t(n))),e)return e(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/resume-site/",(()=>{n.b=document.baseURI||self.location.href;var t={179:0};n.f.j=(e,i)=>{var a=n.o(t,e)?t[e]:void 0;if(0!==a)if(a)i.push(a[2]);else{var r=new Promise(((n,i)=>a=t[e]=[n,i]));i.push(a[2]=r);var s=n.p+n.u(e),o=new Error;n.l(s,(i=>{if(n.o(t,e)&&(0!==(a=t[e])&&(t[e]=void 0),a)){var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;o.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,a[1](o)}}),"chunk-"+e,e)}};var e=(e,i)=>{var a,r,s=i[0],o=i[1],l=i[2],c=0;if(s.some((e=>0!==t[e]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(e&&e(i);c<s.length;c++)r=s[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0},i=self.webpackChunksite=self.webpackChunksite||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{"use strict";var t={};n.r(t),n.d(t,{sO:()=>Jv,bM:()=>ai,Tu:()=>Xd,PDFDataRangeTransport:()=>Tf,AB:()=>lf,Me:()=>kf});var e,i=n(791),a=n.t(i,2),r=n(250),s=n(164),o=n.t(s,2);function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(e||(e={}));const c="popstate";function u(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function h(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function d(t,e){return{usr:t.state,key:t.key,idx:e}}function p(t,e,n,i){return void 0===n&&(n=null),l({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?g(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function f(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function g(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function m(t,n,i,a){void 0===a&&(a={});let{window:r=document.defaultView,v5Compat:s=!1}=a,o=r.history,h=e.Pop,g=null,m=v();function v(){return(o.state||{idx:null}).idx}function b(){h=e.Pop;let t=v(),n=null==t?null:t-m;m=t,g&&g({action:h,location:y.location,delta:n})}function w(t){let e="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof t?t:f(t);return u(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==m&&(m=0,o.replaceState(l({},o.state,{idx:m}),""));let y={get action(){return h},get location(){return t(r,o)},listen(t){if(g)throw new Error("A history only accepts one active listener");return r.addEventListener(c,b),g=t,()=>{r.removeEventListener(c,b),g=null}},createHref:t=>n(r,t),createURL:w,encodeLocation(t){let e=w(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,n){h=e.Push;let a=p(y.location,t,n);i&&i(a,t),m=v()+1;let l=d(a,m),c=y.createHref(a);try{o.pushState(l,"",c)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;r.location.assign(c)}s&&g&&g({action:h,location:y.location,delta:1})},replace:function(t,n){h=e.Replace;let a=p(y.location,t,n);i&&i(a,t),m=v();let r=d(a,m),l=y.createHref(a);o.replaceState(r,"",l),s&&g&&g({action:h,location:y.location,delta:0})},go:t=>o.go(t)};return y}var v;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(t,e,n){void 0===n&&(n="/");let i=D(("string"===typeof e?g(e):e).pathname||"/",n);if(null==i)return null;let a=w(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(a);let r=null;for(let s=0;null==r&&s<a.length;++s)r=T(a[s],R(i));return r}function w(t,e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i="");let a=(t,a,r)=>{let s={relativePath:void 0===r?t.path||"":r,caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};s.relativePath.startsWith("/")&&(u(s.relativePath.startsWith(i),'Absolute route path "'+s.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(i.length));let o=O([i,s.relativePath]),l=n.concat(s);t.children&&t.children.length>0&&(u(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(t.children,e,l,o)),(null!=t.path||t.index)&&e.push({path:o,score:M(o,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let i of y(t.path))a(t,e,i);else a(t,e)})),e}function y(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,a=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===i.length)return a?[r,""]:[r];let s=y(i.join("/")),o=[];return o.push(...s.map((t=>""===t?r:[r,t].join("/")))),a&&o.push(...s),o.map((e=>t.startsWith("/")&&""===e?"/":e))}const k=/^:\w+$/,A=3,S=2,x=1,_=10,E=-2,C=t=>"*"===t;function M(t,e){let n=t.split("/"),i=n.length;return n.some(C)&&(i+=E),e&&(i+=S),n.filter((t=>!C(t))).reduce(((t,e)=>t+(k.test(e)?A:""===e?x:_)),i)}function T(t,e){let{routesMeta:n}=t,i={},a="/",r=[];for(let s=0;s<n.length;++s){let t=n[s],o=s===n.length-1,l="/"===a?e:e.slice(a.length)||"/",c=P({path:t.relativePath,caseSensitive:t.caseSensitive,end:o},l);if(!c)return null;Object.assign(i,c.params);let u=t.route;r.push({params:i,pathname:O([a,c.pathname]),pathnameBase:W(O([a,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(a=O([a,c.pathnameBase]))}return r}function P(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);h("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(i.push({paramName:"*"}),a+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==t&&"/"!==t&&(a+="(?:(?=\\/|$))");let r=new RegExp(a,e?void 0:"i");return[r,i]}(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let r=a[0],s=r.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:i.reduce(((t,e,n)=>{let{paramName:i,isOptional:a}=e;if("*"===i){let t=o[n]||"";s=r.slice(0,r.length-t.length).replace(/(.)\/+$/,"$1")}const l=o[n];return t[i]=a&&!l?void 0:function(t,e){try{return decodeURIComponent(t)}catch(n){return h(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),t}}(l||"",i),t}),{}),pathname:r,pathnameBase:s,pattern:t}}function R(t){try{return decodeURI(t)}catch(e){return h(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function D(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function L(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function N(t,e){let n=I(t);return e?n.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)):n.map((t=>t.pathnameBase))}function F(t,e,n,i){let a;void 0===i&&(i=!1),"string"===typeof t?a=g(t):(a=l({},t),u(!a.pathname||!a.pathname.includes("?"),L("?","pathname","search",a)),u(!a.pathname||!a.pathname.includes("#"),L("#","pathname","hash",a)),u(!a.search||!a.search.includes("#"),L("#","search","hash",a)));let r,s=""===t||""===a.pathname,o=s?"/":a.pathname;if(null==o)r=n;else{let t=e.length-1;if(!i&&o.startsWith("..")){let e=o.split("/");for(;".."===e[0];)e.shift(),t-=1;a.pathname=e.join("/")}r=t>=0?e[t]:"/"}let c=function(t,e){void 0===e&&(e="/");let{pathname:n,search:i="",hash:a=""}="string"===typeof t?g(t):t,r=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:r,search:B(i),hash:j(a)}}(a,r),h=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}const O=t=>t.join("/").replace(/\/\/+/g,"/"),W=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",j=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function z(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const U=["post","put","patch","delete"],H=(new Set(U),["get",...U]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},V.apply(this,arguments)}const G=i.createContext(null);const q=i.createContext(null);const X=i.createContext(null);const Y=i.createContext(null);const K=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=i.createContext(null);function J(){return null!=i.useContext(Y)}function $(){return J()||u(!1),i.useContext(Y).location}function Z(t){i.useContext(X).static||i.useLayoutEffect(t)}function tt(){let{isDataRoute:t}=i.useContext(K);return t?function(){let{router:t}=ut(lt.UseNavigateStable),e=dt(ct.UseNavigateStable),n=i.useRef(!1);return Z((()=>{n.current=!0})),i.useCallback((function(i,a){void 0===a&&(a={}),n.current&&("number"===typeof i?t.navigate(i):t.navigate(i,V({fromRouteId:e},a)))}),[t,e])}():function(){J()||u(!1);let t=i.useContext(G),{basename:e,future:n,navigator:a}=i.useContext(X),{matches:r}=i.useContext(K),{pathname:s}=$(),o=JSON.stringify(N(r,n.v7_relativeSplatPath)),l=i.useRef(!1);return Z((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void a.go(n);let r=F(n,JSON.parse(o),s,"path"===i.relative);null==t&&"/"!==e&&(r.pathname="/"===r.pathname?e:O([e,r.pathname])),(i.replace?a.replace:a.push)(r,i.state,i)}),[e,a,o,s,t])}()}function et(t,e){let{relative:n}=void 0===e?{}:e,{future:a}=i.useContext(X),{matches:r}=i.useContext(K),{pathname:s}=$(),o=JSON.stringify(N(r,a.v7_relativeSplatPath));return i.useMemo((()=>F(t,JSON.parse(o),s,"path"===n)),[t,o,s,n])}function nt(t,n,a,r){J()||u(!1);let{navigator:s}=i.useContext(X),{matches:o}=i.useContext(K),l=o[o.length-1],c=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,p=$();if(n){var f;let t="string"===typeof n?g(n):n;"/"===h||(null==(f=t.pathname)?void 0:f.startsWith(h))||u(!1),d=t}else d=p;let m=d.pathname||"/",v=b(t,{pathname:"/"===h?m:m.slice(h.length)||"/"});let w=ot(v&&v.map((t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:O([h,s.encodeLocation?s.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?h:O([h,s.encodeLocation?s.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),o,a,r);return n&&w?i.createElement(Y.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},w):w}function it(){let t=function(){var t;let e=i.useContext(Q),n=ht(ct.UseRouteError),a=dt(ct.UseRouteError);if(void 0!==e)return e;return null==(t=n.errors)?void 0:t[a]}(),e=z(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},e),n?i.createElement("pre",{style:r},n):null,null)}const at=i.createElement(it,null);class rt extends i.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?i.createElement(K.Provider,{value:this.props.routeContext},i.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function st(t){let{routeContext:e,match:n,children:a}=t,r=i.useContext(G);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(K.Provider,{value:e},a)}function ot(t,e,n,a){var r;if(void 0===e&&(e=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==t){var s;if(null==(s=n)||!s.errors)return null;t=n.matches}let o=t,l=null==(r=n)?void 0:r.errors;if(null!=l){let t=o.findIndex((t=>t.route.id&&(null==l?void 0:l[t.route.id])));t>=0||u(!1),o=o.slice(0,Math.min(o.length,t+1))}let c=!1,h=-1;if(n&&a&&a.v7_partialHydration)for(let i=0;i<o.length;i++){let t=o[i];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(h=i),t.route.id){let{loaderData:e,errors:i}=n,a=t.route.loader&&void 0===e[t.route.id]&&(!i||void 0===i[t.route.id]);if(t.route.lazy||a){c=!0,o=h>=0?o.slice(0,h+1):[o[0]];break}}}return o.reduceRight(((t,a,r)=>{let s,u=!1,d=null,p=null;var f;n&&(s=l&&a.route.id?l[a.route.id]:void 0,d=a.route.errorElement||at,c&&(h<0&&0===r?(f="route-fallback",!1||pt[f]||(pt[f]=!0),u=!0,p=null):h===r&&(u=!0,p=a.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,r+1)),m=()=>{let e;return e=s?d:u?p:a.route.Component?i.createElement(a.route.Component,null):a.route.element?a.route.element:t,i.createElement(st,{match:a,routeContext:{outlet:t,matches:g,isDataRoute:null!=n},children:e})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===r)?i.createElement(rt,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var lt=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lt||{}),ct=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ct||{});function ut(t){let e=i.useContext(G);return e||u(!1),e}function ht(t){let e=i.useContext(q);return e||u(!1),e}function dt(t){let e=function(t){let e=i.useContext(K);return e||u(!1),e}(),n=e.matches[e.matches.length-1];return n.route.id||u(!1),n.route.id}const pt={};a.startTransition;function ft(t){u(!1)}function gt(t){let{basename:n="/",children:a=null,location:r,navigationType:s=e.Pop,navigator:o,static:l=!1,future:c}=t;J()&&u(!1);let h=n.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:h,navigator:o,static:l,future:V({v7_relativeSplatPath:!1},c)})),[h,c,o,l]);"string"===typeof r&&(r=g(r));let{pathname:p="/",search:f="",hash:m="",state:v=null,key:b="default"}=r,w=i.useMemo((()=>{let t=D(p,h);return null==t?null:{location:{pathname:t,search:f,hash:m,state:v,key:b},navigationType:s}}),[h,p,f,m,v,b,s]);return null==w?null:i.createElement(X.Provider,{value:d},i.createElement(Y.Provider,{children:a,value:w}))}function mt(t){let{children:e,location:n}=t;return nt(vt(e),n)}new Promise((()=>{}));i.Component;function vt(t,e){void 0===e&&(e=[]);let n=[];return i.Children.forEach(t,((t,a)=>{if(!i.isValidElement(t))return;let r=[...e,a];if(t.type===i.Fragment)return void n.push.apply(n,vt(t.props.children,r));t.type!==ft&&u(!1),t.props.index&&t.props.children&&u(!1);let s={id:t.props.id||r.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=vt(t.props.children,r)),n.push(s)})),n}function bt(){return bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bt.apply(this,arguments)}function wt(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const yt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const kt=a.startTransition;o.flushSync;function At(t){let{basename:e,children:n,future:a,window:r}=t,s=i.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:r,v5Compat:!0})&&(o={}),m((function(t,e){let{pathname:n,search:i,hash:a}=t.location;return p("",{pathname:n,search:i,hash:a},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:f(e)}),null,o)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=a||{},d=i.useCallback((t=>{h&&kt?kt((()=>u(t))):u(t)}),[u,h]);return i.useLayoutEffect((()=>l.listen(d)),[l,d]),i.createElement(gt,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:a})}const St="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,xt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=i.forwardRef((function(t,e){let n,{onClick:a,relative:r,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:d,unstable_viewTransition:p}=t,g=wt(t,yt),{basename:m}=i.useContext(X),v=!1;if("string"===typeof h&&xt.test(h)&&(n=h,St))try{let t=new URL(window.location.href),e=h.startsWith("//")?new URL(t.protocol+h):new URL(h),n=D(e.pathname,m);e.origin===t.origin&&null!=n?h=n+e.search+e.hash:v=!0}catch(y){}let b=function(t,e){let{relative:n}=void 0===e?{}:e;J()||u(!1);let{basename:a,navigator:r}=i.useContext(X),{hash:s,pathname:o,search:l}=et(t,{relative:n}),c=o;return"/"!==a&&(c="/"===o?a:O([a,o])),r.createHref({pathname:c,search:l,hash:s})}(h,{relative:r}),w=function(t,e){let{target:n,replace:a,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:l}=void 0===e?{}:e,c=tt(),u=$(),h=et(t,{relative:o});return i.useCallback((e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,n)){e.preventDefault();let n=void 0!==a?a:f(u)===f(h);c(t,{replace:n,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:l})}}),[u,c,h,a,r,n,t,s,o,l])}(h,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,unstable_viewTransition:p});return i.createElement("a",bt({},g,{href:n||b,onClick:v||s?a:function(t){a&&a(t),t.defaultPrevented||w(t)},ref:e,target:c}))}));var Et,Ct;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Et||(Et={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Ct||(Ct={}));var Mt,Tt=n(7),Pt=n.n(Tt),Rt=n(418),Dt=n.n(Rt);function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function It(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt;return e?t.split(" ").map((function(t){return e[t]||t})).join(" "):t}var Nt={};var Ft="object"===("undefined"===typeof window?"undefined":Lt(window))&&window.Element||function(){};Pt().oneOfType([Pt().string,Pt().func,function(t,e,n){if(!(t[e]instanceof Ft))return new Error("Invalid prop `"+e+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},Pt().shape({current:Pt().any})]);var Ot=Pt().oneOfType([Pt().func,Pt().string,Pt().shape({$$typeof:Pt().symbol,render:Pt().func}),Pt().arrayOf(Pt().oneOfType([Pt().func,Pt().string,Pt().shape({$$typeof:Pt().symbol,render:Pt().func})]))]);"undefined"===typeof window||!window.document||window.document.createElement;function Wt(t){var e=Lt(t);return null!=t&&("object"===e||"function"===e)}var Bt=["className","cssModule","fluid","tag"];function jt(){return jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jt.apply(this,arguments)}function zt(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var Ut={tag:Ot,fluid:Pt().oneOfType([Pt().bool,Pt().string]),className:Pt().string,cssModule:Pt().object};function Ht(t){var e=t.className,n=t.cssModule,a=t.fluid,r=t.tag,s=void 0===r?"div":r,o=zt(t,Bt),l="container";!0===a?l="container-fluid":a&&(l="container-".concat(a));var c=It(Dt()(e,l),n);return i.createElement(s,jt({},o,{className:c}))}Ht.propTypes=Ut;const Vt=Ht;var Gt=["className","cssModule","noGutters","tag","widths"];function qt(){return qt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qt.apply(this,arguments)}function Xt(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var Yt,Kt,Qt=["xs","sm","md","lg","xl","xxl"],Jt=Pt().oneOfType([Pt().number,Pt().string]),$t={tag:Ot,noGutters:(Yt=Pt().bool,Kt="Please use Bootstrap 5 gutter utility classes. https://getbootstrap.com/docs/5.0/layout/gutters/",function(t,e,n){var i;null!==t[e]&&"undefined"!==typeof t[e]&&(i='"'.concat(e,'" property of "').concat(n,'" has been deprecated.\n').concat(Kt),Nt[i]||("undefined"!==typeof console&&console.error(i),Nt[i]=!0));for(var a=arguments.length,r=new Array(a>3?a-3:0),s=3;s<a;s++)r[s-3]=arguments[s];return Yt.apply(void 0,[t,e,n].concat(r))}),className:Pt().string,cssModule:Pt().object,xs:Jt,sm:Jt,md:Jt,lg:Jt,xl:Jt,xxl:Jt,widths:Pt().array};function Zt(t){var e=t.className,n=t.cssModule,a=t.noGutters,r=t.tag,s=void 0===r?"div":r,o=t.widths,l=void 0===o?Qt:o,c=Xt(t,Gt),u=[];l.forEach((function(e,n){var i=t[e];if(delete c[e],i){var a=!n;u.push(a?"row-cols-".concat(i):"row-cols-".concat(e,"-").concat(i))}}));var h=It(Dt()(e,a?"gx-0":null,"row",u),n);return i.createElement(s,qt({},c,{className:h}))}Zt.propTypes=$t;const te=Zt;var ee=["className","cssModule","widths","tag"];function ne(){return ne=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ne.apply(this,arguments)}function ie(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var re=["xs","sm","md","lg","xl","xxl"],se=Pt().oneOfType([Pt().number,Pt().string]),oe=Pt().oneOfType([Pt().bool,Pt().number,Pt().string,Pt().shape({size:Pt().oneOfType([Pt().bool,Pt().number,Pt().string]),order:se,offset:se})]),le={tag:Ot,xs:oe,sm:oe,md:oe,lg:oe,xl:oe,xxl:oe,className:Pt().string,cssModule:Pt().object,widths:Pt().array},ce=function(t,e,n){return!0===n||""===n?t?"col":"col-".concat(e):"auto"===n?t?"col-auto":"col-".concat(e,"-auto"):t?"col-".concat(n):"col-".concat(e,"-").concat(n)};function ue(t){var e=t.className,n=t.cssModule,a=t.widths,r=void 0===a?re:a,s=t.tag,o=void 0===s?"div":s,l=function(t,e){var n=t,i=[];return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:re).forEach((function(t,a){var r=n[t];if(delete n[t],r||""===r){var s=!a;if(Wt(r)){var o,l=s?"-":"-".concat(t,"-"),c=ce(s,t,r.size);i.push(It(Dt()((ae(o={},c,r.size||""===r.size),ae(o,"order".concat(l).concat(r.order),r.order||0===r.order),ae(o,"offset".concat(l).concat(r.offset),r.offset||0===r.offset),o)),e))}else{var u=ce(s,t,r);i.push(u)}}})),{colClasses:i,modifiedAttributes:n}}(ie(t,ee),n,r),c=l.modifiedAttributes,u=l.colClasses;u.length||u.push("col");var h=It(Dt()(e,u),n);return i.createElement(o,ne({},c,{className:h}))}ue.propTypes=le;const he=ue,de=n.p+"static/media/github.cb218f44e20683a54494.png",pe=n.p+"static/media/linkedin.ce57aaffbfbffc186745.png",fe=n.p+"static/media/itch.b7e32da355f80f48aa40.png",ge=n.p+"static/media/Danny_Resume.2c6527c7e0d5d0bda891.pdf";var me=n(184);class ve extends i.Component{constructor(){super(...arguments),this.state={activeItem:0},this.getClassNames=t=>t===this.state.activeItem?" active-bar-item":""}render(){let t=30;return(0,me.jsx)(Vt,{className:"menu-bar-container",children:(0,me.jsx)(Vt,{className:"menu-bar",children:(0,me.jsxs)(te,{className:"menu-bar",children:[(0,me.jsx)(he,{className:"menu-bar-item-container",children:(0,me.jsx)(_t,{to:"/",className:"menu-bar-item"+this.getClassNames(0),onClick:()=>this.setState({activeItem:0}),children:"About"})}),(0,me.jsx)(he,{className:"menu-bar-item-container",children:(0,me.jsx)(_t,{to:"/experience",className:"menu-bar-item"+this.getClassNames(1),onClick:()=>this.setState({activeItem:1}),children:"Experience"})}),(0,me.jsx)(he,{className:"menu-bar-item-container",children:(0,me.jsx)(_t,{to:"/projects",className:"menu-bar-item"+this.getClassNames(2),onClick:()=>this.setState({activeItem:2}),children:"Projects"})}),(0,me.jsx)(he,{className:"menu-bar-item-container",children:(0,me.jsx)(_t,{to:"/resume",className:"menu-bar-item"+this.getClassNames(3),onClick:()=>this.setState({activeItem:3}),children:"Resume"})}),(0,me.jsx)(he,{className:"menu-bar-item-container",children:(0,me.jsx)("a",{href:"https://github.com/DannyGramowski",className:"icon",target:"_blank",rel:"noreferrer",children:(0,me.jsx)("img",{src:de,width:t,height:.941*t,alt:"github"})})}),(0,me.jsx)(he,{className:"menu-bar-item-container",children:(0,me.jsx)("a",{href:"https://www.linkedin.com/in/daniel-gramowski-2b8391253/",className:"icon",target:"_blank",rel:"noreferrer",children:(0,me.jsx)("img",{src:pe,width:t,height:32.361,alt:"linkedin"})})}),(0,me.jsx)(he,{className:"menu-bar-item-container",children:(0,me.jsx)("a",{href:"https://dannytga.itch.io/",className:"icon",target:"_blank",rel:"noreferrer",children:(0,me.jsx)("img",{src:fe,width:t,height:30,alt:"itch.io"})})})]})})})}}var be=["className","cssModule","tag","active","disabled","action","color"];function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},we.apply(this,arguments)}function ye(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var ke={action:Pt().bool,active:Pt().bool,className:Pt().string,cssModule:Pt().object,color:Pt().string,disabled:Pt().bool,tag:Ot},Ae=function(t){t.preventDefault()};function Se(t){var e=t.className,n=t.cssModule,a=t.tag,r=void 0===a?"li":a,s=t.active,o=t.disabled,l=t.action,c=t.color,u=ye(t,be),h=It(Dt()(e,!!s&&"active",!!o&&"disabled",!!l&&"list-group-item-action",!!c&&"list-group-item-".concat(c),"list-group-item"),n);return o&&(u.onClick=Ae),i.createElement(r,we({},u,{className:h}))}Se.propTypes=ke;const xe=Se,_e=n.p+"static/media/danny_suit.9210329aef2e088ab556.jpg";class Ee extends i.Component{constructor(){super(...arguments),this.state={projectText:"",onLeft:!0},this.createSkill=(t,e,n)=>(0,me.jsxs)(xe,{className:"skill-item skill",onMouseEnter:()=>this.setState({projectText:e,onLeft:n}),onMouseLeave:()=>this.setState({projectText:"",onLeft:n}),children:[t,""!==e?(0,me.jsx)("span",{className:"skill-tooltip "+(n?"left-tooltip":"right-tooltip"),children:e}):(0,me.jsx)(Vt,{})]})}render(){return(0,me.jsx)(Vt,{className:"main-page",children:(0,me.jsx)(Vt,{className:"center",children:(0,me.jsxs)(he,{className:"page-container",children:[(0,me.jsx)(te,{className:"center blurb-container",children:(0,me.jsxs)(he,{children:[(0,me.jsx)(te,{children:(0,me.jsx)(Vt,{className:"name-text",children:"Daniel Gramowski"})}),(0,me.jsxs)(te,{className:"d-flex",children:[(0,me.jsx)(he,{className:"w-auto",children:(0,me.jsx)(Vt,{className:"danny-image-container",style:{marginBottom:"2vh"},children:(0,me.jsx)("img",{src:_e,className:"danny-image",alt:" of Danny"})})}),(0,me.jsx)(he,{className:"d-flex align-items-center",children:(0,me.jsx)(Vt,{className:"blurb-text",children:"I am a senior software engineering student at RIT. I believe high quality software is made by dedicated developers in a highly collaborative environment. Exceptional developers and team collaboration are needed to thrive. I am a naturally curious developer that enjoys learning about new ideas and solving interesting problems."})})]})]})}),(0,me.jsxs)(te,{className:"skills-section-container",children:[(0,me.jsx)(Vt,{className:"skills-text",children:"Skills"}),(0,me.jsxs)(te,{className:"d-flex center-horiz",children:[(0,me.jsxs)(he,{className:"skills-col text-end",children:[(0,me.jsx)("div",{className:"skill-item skill-header",children:"Languages"}),this.createSkill("C#","BracketBarn, Nutriapp, Poker-bot, Too Deep, Ghost Jazz, Kalaras Last Defense",!0),this.createSkill("Java","AquaVybes",!0),this.createSkill("Python","Aurora Machine, BidiiNet, IDEA Card, Poker-bot, BunchNotes",!0),this.createSkill("C/C++","QWER-KEY, Personal Software Engineering (class)",!0),this.createSkill("SQL","Aurora Machine, BracketBarn",!0),this.createSkill("JavaScript/Typescript","Aurora Machine, Resume website, IDEA Card, Nutriapp, BunchNotes, AquaVybes",!0),this.createSkill("Rust","Poker-bot",!0)]}),(0,me.jsxs)(he,{className:"skills-col",children:[(0,me.jsx)("div",{className:"skill-item skill-header",children:"Projects Used In"}),(0,me.jsx)("div",{className:"\n                                    project-text-container \n                                    ".concat(this.state.projectText?"visible":""),children:(0,me.jsx)("div",{className:"project-text ".concat(this.state.onLeft?"border-left-accent":"border-right-accent"),children:this.state.projectText})})]}),(0,me.jsxs)(he,{className:"skills-col",children:[(0,me.jsx)("div",{className:"skill-item skill-header",children:"Miscellaneous"}),this.createSkill("Angular","IDEA Card, AquaVybes",!1),this.createSkill("React","Resume website, Web Engineering (class)",!1),this.createSkill("Docker","Aurora Machine, BracketBarn, BidiiNet",!1),this.createSkill("FastAPI","Aurora Machine, IDEA Card, BunchNotes",!1),this.createSkill("ASP Net Core","BracketBarn, Nutriapp",!1),this.createSkill("TensorFlow","Trained Terrain",!1),this.createSkill("PostgreSQL","Aurora Machine, BracketBarn, BunchNotes",!1),this.createSkill("Unity","Poker-bot, Too Deep, Ghost Jazz, Kalaras Last Defense",!1),this.createSkill("Odoo","Aurora Machine",!1)]})]}),(0,me.jsx)(Vt,{})]}),(0,me.jsx)(te,{})]})})})}}var Ce=["className","cssModule","variant","innerRef"];function Me(){return Me=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Me.apply(this,arguments)}function Te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Pe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Re(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var De={active:Pt().bool,"aria-label":Pt().string,onClick:Pt().func,variant:Pt().oneOf(["white"]),className:Pt().string,cssModule:Pt().object,innerRef:Pt().oneOfType([Pt().object,Pt().string,Pt().func])};function Le(t){var e=t.className,n=(t.cssModule,t.variant),a=t.innerRef,r=Re(t,Ce),s=It(Dt()(e,"btn-close",n&&"btn-close-".concat(n)));return i.createElement("button",Me({ref:a,type:"button",className:s},function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(n),!0).forEach((function(e){Pe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({"aria-label":"close"},r)))}Le.propTypes=De;const Ie=Le;var Ne=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function Fe(){return Fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fe.apply(this,arguments)}function Oe(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var We={active:Pt().bool,"aria-label":Pt().string,block:Pt().bool,children:Pt().node,className:Pt().string,cssModule:Pt().object,close:Pt().bool,color:Pt().string,disabled:Pt().bool,innerRef:Pt().oneOfType([Pt().object,Pt().func,Pt().string]),onClick:Pt().func,outline:Pt().bool,size:Pt().string,tag:Ot};function Be(t){var e=(0,i.useCallback)((function(e){if(!t.disabled)return t.onClick?t.onClick(e):void 0;e.preventDefault()}),[t.onClick,t.disabled]),n=t.active,a=t["aria-label"],r=t.block,s=t.className,o=t.close,l=t.cssModule,c=t.color,u=void 0===c?"secondary":c,h=t.outline,d=t.size,p=t.tag,f=void 0===p?"button":p,g=t.innerRef,m=Oe(t,Ne);if(o)return i.createElement(Ie,m);var v="btn".concat(h?"-outline":"","-").concat(u),b=It(Dt()(s,"btn",v,!!d&&"btn-".concat(d),!!r&&"d-block w-100",{active:n,disabled:t.disabled}),l);return m.href&&"button"===f&&(f="a"),i.createElement(f,Fe({type:"button"===f&&m.onClick?"button":void 0},m,{className:b,ref:g,onClick:e,"aria-label":a}))}Be.propTypes=We;const je=Be;class ze extends i.Component{render(){const{projectName:t,description:e,date:n,backgroundColor:i,textColor:a,projectImage:r,url:s}=this.props.projectData;return console.log(this.props.projectData),(0,me.jsxs)(Vt,{className:"gallery-project",style:{backgroundColor:i,color:a},children:[(0,me.jsx)(he,{className:"slide-button-container justify-content-start",children:(0,me.jsx)(je,{className:"slide-button",onClick:this.props.slideFunc(!1),style:{backgroundColor:i,color:a},children:"<"})}),(0,me.jsxs)(he,{className:"middle-col",children:[(0,me.jsxs)(Vt,{children:[(0,me.jsxs)(te,{className:"header-row",children:[(0,me.jsx)("img",{src:r,alt:""}),(0,me.jsx)("span",{className:"project-name",children:t})]}),(0,me.jsx)(te,{className:"description-row",children:(0,me.jsx)("span",{className:"description-text",children:e})})]}),s&&""!==s&&(0,me.jsx)("a",{className:"view-project",href:s,target:"_blank",rel:"noopener noreferrer",children:"View Project"}),(0,me.jsxs)(Vt,{className:"date-text",children:[(0,me.jsx)("span",{children:"Project Date:\xa0"}),n]})]}),(0,me.jsx)(he,{className:"slide-button-container justify-content-end",children:(0,me.jsx)(je,{className:"slide-button",onClick:this.props.slideFunc(!0),style:{backgroundColor:i,color:a},children:">"})})]})}}const Ue=n.p+"static/media/AquaVybes.498698925a3a0735cf7c.png",He=n.p+"static/media/ghost-jazz-logo.9781c710075914b9bf6c.png",Ve=n.p+"static/media/Ideacard.6cf3d904171573c49d2b.png",Ge=n.p+"static/media/KalarasTransparent.25d04310e95079c7dbe1.png",qe=n.p+"static/media/Nutriapp.b8a6524e45666e3381aa.png",Xe=n.p+"static/media/TrainedTerrain.0b61aa4bdd71052bd33c.png",Ye=n.p+"static/media/QWER-KEY.739ec94d5a16d3de4c32.png",Ke=n.p+"static/media/poker-bot.206872005e1861aa4771.png",Qe=n.p+"static/media/bidii_net.8b805e508eaebf01c2df.png",Je=n.p+"static/media/bracket-barn.0ee4cac934f7f4040edf.png";n.p;class $e extends i.Component{constructor(){super(...arguments),this.state={activeProjectId:0},this.projectData=[{projectName:"BracketBarn",description:"Overhauling a legacy regional racquetball tournament management system using ASP.NET Core, PostgreSQL, and Vue with a professional mentor. Set up CI pipeline and integration test infrastructure to maintain high code quality and reliability. Developed with raw SQL to gain better understanding of ORM\u2019s, and maintain complete control of the system",date:"Dec. 2025 - Present",backgroundColor:"#ffffff",textColor:"#1B9AAA",projectImage:Je,url:""},{projectName:"BidiiNet",description:"Executing the full-stack development of a job board for African Universities as a capstone project using Django and Svelte. The project modernizes higher education hiring workflows while accounting for cultural nuances and internationalization requirements. Constructing a solid foundation and comprehensive documentation to facilitate team transfer for next year.",date:"Sept. 2025 - Present",backgroundColor:"#228B22",textColor:"#080808",projectImage:Qe,url:""},{projectName:"LyricLense",description:"Built a cloud-native app that generates AI album art from Spotify playlists. Used S3 buckets, API Gateway, Lambda, Bedrock, Comprehend, and Dynamo AWS services to extract track lyrics, process them through a generative model, and store the final image in the cloud.",date:"Sept. 2025 - Dec. 2025",backgroundColor:"#000000",textColor:"#FFFFFF",projectImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABBCAYAAABsK9I8AAAEdElEQVR4AeybW4hNURjHZw9yiZFb7h5IIikRRSRyy2VEXqbkliYlD6ZIIbk8KJGU5P4iRSHmYaZG0riVS+QSE4OaImLcHjSM4/ed5mjmtL6z1jn7nNkzp6XvN3uv7/v2Wuv7n7XP2WqvwgL/z6iAF8YoS0FB5MLEYrHeUAqnYT/MUubaqu5IhUGEhVRbB0dhFZRBFf7r0InzyCwyYSh8OFVfha6QbDNwVEBkFpkwVHwAUtlMxBufKiGXsawKQyFFYFoBphpmm5xJvjlJbWOTMXtCF2MwQ2dWhGFS6+AZc3gD7zivgNGcp7JuqYJNsT5NR+OBMTZCDUEZ9y3n5TCCdmgLLQwTOcEsjsEY6A39YC48Jxb2FyZGP0aj70sEDsFI6AX9YQHUEJvEMZSFEoYJrGD0taDZRXJcVoZ2vdFPnxsILAGTSU2XyQn1qyadmDp39a23JBYRXwbZtlJLhwOJu3yHkWa2FsKg8nQogzWQ8juCeECXg8BmcovZcpzjjNuDZCmcQ0qTxwE1gX46wizYDCthWPPkuDA4R8ETAjdgP5wE+Y44y9FoQRDI/S8Y4zl0ygci2Ib4qyVQ62RitVAF++AMyI/GYY5xKySpM2f3YSwkWwnxy8nOiNuhPgzqGcz878JQSLYNxOULPf5/pZ1Eu4NmxSRP0II592d/gCOWLuURoJfcSvMtiRKWn0E55gOLHYpYJMLIs4ctN6tPlbbB2kC8SIRxuWddctpAPVmbQkyEyVpv+dSRF0b5NL0wXhhFAcXtV4wXRlFAcfsV44VRFFDcfsV4YRQFFLdfMeGFUXrIU7dfMcoH64XxwigKKG6/YrwwigKK268YL4yigOL2K8YLoyiguP2K8cIoCihuv2K8MIoCijuvVoxSY0ZuL4wimxfGC6MooLj9ikkhjIs4LjnKEO3S3UEKfu0w9U8OOe0l5ZvDRGtFGNs7adLPcfmTJ9g2dzQEQVBeyJ/zFFwJmq0m54cWbG9+atnFnB+BZsUSkBVTQPI8GjvgAyRM3vudT0zegU34Mjm6vJObTr/Z6E/e8z3IoJ8hYbc5mUK98X1ScWFwiDi7OQ4B2bBQRMI4iCfh08xlkr+0izP0N3Ddb8jYqEtul010MADk5cwe+KbCHdpx+y+MtAg0wldwvXUey3UWrlniaYWZmwj91OGiW7Yc+voD9fAzObeFMMlBh/YWS041g1ZbcjIJb7VcVMm4Lh+a2k0oYRj8BT0vBZM9wJmTF6cZ9x59l4DJbuJcDqEslDAyMpOUDVWyiWo77XNwCpbinwiutySXGE2dH33LWLIfYBtXyrmMW4x/GoQdN76XgH7DGRP5CHugBNYGQSBi2Tp9b0sg/hJUY6w62AuJca+oyWkG1E8kzX4ySZetP7brLtgSchWPUhjZ9SKbPLXaylgJLo/v2vWh/JEJQ9GNzHwiXITmVk+jlLjt0Z203FlkwkhJFP8FZM9kT9qyJ0p2xPbFJ7tycUVnkQqTKBshvsNDeAXqlr1Efmsc24QwrVFoumP8AwAA//9D6Bs1AAAABklEQVQDAFc1HJI6btQ7AAAAAElFTkSuQmCC",url:"https://github.com/LyricsLens/LyricLens"},{projectName:"Poker-bot",description:"Built poker in Unity to support hosting a tournament of poker bots that connect through a socket. Provided comprehensive technical documentation and starter code, then invited software engineering friends to build their own bots to compete against each other.",date:"July. 2025 - Aug. 2025",backgroundColor:"#091938",textColor:"#F7F8F7",projectImage:Ke,url:"https://github.com/DannyGramowski/Bunch-A-Bets"},{projectName:"QWER-KEY",description:"Turned TV remote, rotary phone, cat piano, and Etch-A-Sketch into functioning USB keyboards to present at Imagine RIT. Used a Raspberry Pi Pico to determine user inputs then send mapped keypress across attached USB cable.",date:"Sept. 2024 - April 2025",backgroundColor:"#4b6858",textColor:"#46acc2",projectImage:Ye,url:"https://github.com/DannyGramowski/Keyboards"},{projectName:"IDEACard",description:"Website built as submission for Google Developer Student Club Solution Challenge to solve 1 of the 17 United Nations sustainability goals. People with disabilities can fill in their disabilities and desired accommodations, then they can export their information to give to managers and hiring managers to help alleviate some of the stigma and misinformation surrounding disabilities.",date:"Jan. 2024 - Feb. 2024",backgroundColor:"#32435F",textColor:"#ffffff",projectImage:Ve,url:"https://github.com/DannyGramowski/dvcard"},{projectName:"Trained Terrain",description:"Converts a 2d topography map to a 3D representation using machine learning. Scraped and processed height data and maps from government websites to train the model. The goal of the project was to learn machine learning and tensorflow.",date:"May 2023 - Jan. 2024",backgroundColor:"#22401b",textColor:"#e10e0e",projectImage:Xe,url:""},{projectName:"Nutriapp",description:"Created a web app that allows a user to track weight, calories, and workouts as well as make recipes and meals from a list of ingredients. I worked on a team of 5 to implement the app using a C# backend and svelte frontend. Responsible for serializing all of the data and allow it to be imported and exported as csv, json, and xml.",date:"Sept. 2023 - Dec. 2023",backgroundColor:"#386641",textColor:"#ffffff",projectImage:qe,url:""},{projectName:"Ghost Jazz",description:"Built a rhythm game for the 2023 Game Developers Club Halloween Game Jam. Composed one of the two songs and gathered the instrument data and build timeline system for syncing music notes with visuals.",date:"Oct. 2023",backgroundColor:"#0dd091",textColor:"#3c3b3b",projectImage:He,url:""},{projectName:"AquaVybes",description:"Built an online e-store that sold custom flavored water for introduction to software engineering class using Spring backend and Angular frontend. Used scrum to organize the project and meet deadlines. Responsible for setting up user and admin log in, user feedback, and setting up product data.",date:"Jan. 2023 - May 2023",backgroundColor:"#ccfffc",textColor:"#0195de",projectImage:Ue,url:""},{projectName:"BunchNotes",description:"Built BunchNotes a note sharing platform for Brickhack 9 at RIT. Responsible for setting up APIs to hook up the database and frontend. Used FastAPI, Postgres, and React.",date:"Feb. 2023",backgroundColor:"#f7efb2",textColor:"#000000",projectImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGA0lEQVR4nO1bW1AURxRFKz9J/vKRz/znJx/5ykeqqDCzlM6sIJlZwSgaHwmJMcoKFGqRLIoPoqIWDyUBFcMjAgJRDGJ8pHi4yEsEgiCCuFEBQZD4Agnhpu6uPTOr+5iZMi4te6puFTV9l+1z+t7u292zAQEqYDAsfZvhhFDGaNrA8kI8bcZwgpnlTSFGo/GtAI2Yw3CmOJYXxlheBOqNE++zvBiDvLwyt1gscxleLPB5p/8HS0pOmfQqAmMfeflDy1Z/A/vSMiHrSB51hv3G/iv5YDoHeMp5ZdinpB6EyclJoBnY/z37Dzilg9HdnIAThjzya6knT4A8IlfJkcDMF4yuBeCEWOK0P/0neJ2A6eA1DRheSCROR/MLgTb09t2ExcujYEXUOrg7NOzUhnwkAXgh8bUUIDsnTyL5a/np2SdAZvZRiWRx6UmnNr8A+f4IAH8K8P45APyTIO9fBcC/DPL+OiDRXwi5gr8S5OVS+Of8IqANmVk5cilcVq6jEuTE7cSpoLAEaEN65iGJZNnJCu0CsJyQ4k5BGrA3Vd7z/1Z5VocAvJBBnE6cqgTakJySKpE8e75KTwSIh4jT6d/PA23YujNFIllVY9UVAfnE6dwf1UAbErYkSyStlxr1bIfFEuJUXVsHtCE+YatEsunyFT0RIFYQp0sNzUAbouMSJJJt7R26VoF64vTn1S6gDSu/Wi+RvNFn0yWAjTj1Dwzq6sTkvw7zBRaGL5dIjo39rVmAOQwvThCn8fEJTV8+NQ1QfB0grhYgpgbgcAfAvXF4pZcfBqPJ3vfgBYtgenpamwDBwaZ3iINRWKK5A0XdAOZqZ9tsBbA9gFcCvAcg/V8U+cUL7V4FYLnw95UXolpQP+hMfIPi7+/qAEY9BNPlIYCMNoBtDQCpVwCa7uqhD9B57bpEMOrbWO0CBHGffkIc1sclqP7i2w8dYU8Il/QA9I45Rp88290MMD7l/DmcJ3Kuvhg1aH3O6asKdfWNEsFN32/TIQAvRhAHy7Zdqr50YgpgR6Pc8X0tjrkA0X0fILZGbstsl9ue/AOQ1uqaPEbP7UfaBaioPCcR/CElTbsADCcmEIeMHw+r+tLj1+WOb7oIMPzEud3a70wuvRWgbgBgp0I0tNwugIHHjvDvGZM/j3rhMzTnKc3ztdiR3F+0C8ByQh5xKK84o0oAzF1ComXItU/5DdcjTQzb3ZFD4sTP29xgSdoFnsp47xHAC03EoaW1XZUAdx45Rg9H1RPO2BxLo5I4pofVy+e0CLAiSi6CrnX3aBZgDssJD4nDyMgovGygWKU9jokPR33ouXRxBZICzV5SYGpqCuaFRtj7jrXA48dPtAnAGk3vkcYQUyTQhlu3+yVyEcu+dOnjUQCDUQgmjWvNG4E2KJfAuM1btAvAcMI60oinKrSh8PgJiVzqgSwdAvBiLmnEf0YbkpL3grcVzPMcwAs9pLG9oxNoA74XRPrfe6NPmwAGQ9i7pGFeaDhMTGjbBfoauGIpN3G4ImgSgFW8G7gmOh5oQ621XiIWuynRrZ9bARjFZUjawWygDfhKLOn/oZx8t34eIkC8IJWQF5zP0mlAzEaLROxiXYM2AQIDA99gOfEBabjT76U2nWHAfA8RIyViI6P3tQkQZAz7kDwUl6x64RhppgNrfrWHOC4FYHhxCXm42bIdaINyC7x7X4Z2AQycsJQ8xEsFmjB8bwTCIj53exOkLgUWCB+Qh3iS2tnVDTTgpu0WrP7aLBHCrbC79d/7KsDJlyF82Gewc08qFBSVwrHishlnuOTheR8OlrJ4U1O9uhUgyB4FdP44av7CxVCl8g7T414gyL4aCG2+JqTW8NAjPiEJ+mx/qU4br0diFotlLms0fWzfGnPCDoYXk5Xm6x9AoeUfK7G/+DAwqP3yQNXdoCcA5VC+PsNwgnlWCfD06SQsXblGTiPOxM8aAZA8FkmK8B/9yGR6UzVx+9zAmSJ9vQTqMQx7p5F3WLSmkWd4cZmvZ/2XZXj0p+r3w0rg6NNPXBh9NvLayAc8SwHcMzy/LFJhnGDGX4m6yvn/AIANVTPTkKQNAAAAAElFTkSuQmCC",url:""},{projectName:"Kalara's Defense",description:"Fully release tower defense game built in Unity. I did everything including music composition, 3D modeling, and programming.",date:"Sept. 2020 - Apr. 2021",backgroundColor:"#ec4242",textColor:"#fff5e0",projectImage:Ge,url:"https://dannytga.itch.io/kalaras-last-defense"}]}componentDidMount(){this.projectData.forEach((t=>{(new Image).src=t.projectImage}))}slide(t){let e=this.state.activeProjectId;console.log("slide",t,e),t?(e++,e>=this.projectData.length&&(e-=this.projectData.length)):(e--,e<0&&(e+=this.projectData.length)),this.setState({activeProjectId:e})}render(){return(0,me.jsx)(Vt,{className:"w-100 p-0",children:(0,me.jsx)(ze,{projectData:this.projectData[this.state.activeProjectId],slideFunc:t=>()=>this.slide(t)},this.state.activeProjectId)})}}class Ze extends i.Component{render(){return(0,me.jsx)(Vt,{className:"project-page",children:(0,me.jsx)($e,{})})}}const tn=n.p+"static/media/aurora-machine-logo.5d14723eecf5b6204a6e.png",en=n.p+"static/media/rit-logo.2e6c7d0c69920f93e917.png";class nn extends i.Component{render(){return(0,me.jsxs)("div",{children:[(0,me.jsx)("strong",{className:"experience-text",children:"Experience"}),(0,me.jsxs)("div",{className:"company-list",children:[(0,me.jsxs)(Vt,{className:"company-card",children:[(0,me.jsxs)(te,{className:"company-name-row",children:[(0,me.jsx)("img",{src:tn}),(0,me.jsx)("strong",{className:"company-name",children:"Aurora Machine"}),(0,me.jsx)("span",{className:"spacer"})]}),(0,me.jsxs)(te,{className:"company-position-row",children:[(0,me.jsx)("strong",{className:"company-position-name",children:"Software Engineering Intern"}),(0,me.jsx)("span",{className:"company-date",children:"May 2024 - Present"})]}),(0,me.jsxs)(te,{className:"company-skills-row",children:[(0,me.jsx)("strong",{children:"Skills:\xa0"}),(0,me.jsx)("span",{children:"Python, JavaScript, Odoo"})]}),(0,me.jsx)("div",{className:"company-work-text",children:"Working with a team to migrate the company ERP to Odoo. Also enhancing odoo by providing custom modules to better suit the needs of the company. Responsible for the projects from requirements gathering, through development into deployment. Also training new co-ops on the system as well as providing leadership within the development team."})]}),(0,me.jsxs)(Vt,{className:"company-card",children:[(0,me.jsxs)(te,{className:"company-name-row",children:[(0,me.jsx)("img",{src:en}),(0,me.jsx)("strong",{className:"company-name",children:"Rochester Institute of Technology"}),(0,me.jsx)("span",{className:"spacer"})]}),(0,me.jsxs)(te,{className:"company-position-row",children:[(0,me.jsx)("strong",{className:"company-position-name",children:"Supplemental Instruction Leader"}),(0,me.jsx)("span",{className:"company-date",children:"Jan. 2023 - May 2024"})]}),(0,me.jsxs)(te,{className:"company-skills-row",children:[(0,me.jsx)("strong",{children:"Skills:\xa0"}),(0,me.jsx)("span",{children:"Teaching, Marketing, Organization"})]}),(0,me.jsx)("div",{className:"company-work-text",children:"Planned and led weekly review sessions for Software Development 1 and 2. Drove student collaboration with interactive activities and peer programming instead of lecturing. Used Socratic teaching method to provide deeper understanding, increase engagement and build community."})]})]})]})}}function an(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function rn(t,e){return function(t,e){if(e.set)return"__destrObj"in e||(e.__destrObj={set value(n){e.set.call(t,n)}}),e.__destrObj;if(!e.writable)throw new TypeError("attempted to set read only private field");return e}(t,an(t,e,"set"))}function sn(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function on(t,e){sn(t,e),e.add(t)}function ln(t,e,n){sn(t,e),e.set(t,n)}function cn(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function un(t,e){return e.get?e.get.call(t):e.value}function hn(t,e){return un(t,an(t,e,"get"))}function dn(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function pn(t,e,n){return dn(t,an(t,e,"set"),n),n}function fn(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}function gn(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function mn(t,e,n,i){return fn(t,e),gn(n,"set"),dn(t,n,i),i}function vn(t,e,n){return fn(t,e),gn(n,"get"),un(t,n)}function bn(t){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bn(t)}function wn(t){var e=function(t,e){if("object"!=bn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=bn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bn(e)?e:String(e)}function yn(t,e,n){return(e=wn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kn(t,e,n){return fn(t,e),n}let An,Sn,xn,_n;var En,Cn,Mn,Tn,Pn,Rn,Dn,Ln,In,Nn,Fn,On,Wn,Bn,jn,zn,Un,Hn,Vn,Gn,qn;const Xn="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),Yn=[.001,0,0,.001,0,0],Kn=1.35,Qn=1,Jn=2,$n=4,Zn=16,ti=32,ei=64,ni=128,ii=256,ai={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ri="pdfjs_internal_editor_",si={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},oi={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},li=0,ci=1,ui=2,hi=3,di=3,pi=4,fi={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},gi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},mi=1,vi=2,bi=3,wi=4,yi=5,ki={ERRORS:0,WARNINGS:1,INFOS:5},Ai={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Si=0,xi=1,_i=2,Ei=3;let Ci=ki.WARNINGS;function Mi(t){Number.isInteger(t)&&(Ci=t)}function Ti(){return Ci}function Pi(t){Ci>=ki.INFOS&&console.info("Info: ".concat(t))}function Ri(t){Ci>=ki.WARNINGS&&console.warn("Warning: ".concat(t))}function Di(t){throw new Error(t)}function Li(t,e){t||Di(e)}function Ii(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);(null===e||void 0===e?void 0:e.length)>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=decodeURIComponent(escape(t))}catch{}}const i=e?URL.parse(t,e):URL.parse(t);return function(t){switch(null===t||void 0===t?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i)?i:null}function Ni(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=URL.parse(t);return i?(i.hash=e,i.href):n&&Ii(t,"http://example.com")?t.split("#",1)[0]+"".concat(e?"#".concat(e):""):""}function Fi(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Oi=function(){function t(t,e){this.message=t,this.name=e}return t.prototype=new Error,t.constructor=t,t}();class Wi extends Oi{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Bi extends Oi{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class ji extends Oi{constructor(t){super(t,"InvalidPDFException")}}class zi extends Oi{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class Ui extends Oi{constructor(t){super(t,"FormatError")}}class Hi extends Oi{constructor(t){super(t,"AbortException")}}function Vi(t){"object"===typeof t&&void 0!==(null===t||void 0===t?void 0:t.length)||Di("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let a=0;a<e;a+=n){const r=Math.min(a+n,e),s=t.subarray(a,r);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function Gi(t){"string"!==typeof t&&Di("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}class qi{static get isLittleEndian(){return Fi(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return Fi(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return Fi(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return Fi(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:t,userAgent:e}=navigator;return Fi(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return Fi(this,"isCSSRoundSupported",null===(t=globalThis.CSS)||void 0===t||null===(e=t.supports)||void 0===e?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Xi=Array.from(Array(256).keys(),(t=>t.toString(16).padStart(2,"0")));class Yi{static makeHexColor(t,e,n){return"#".concat(Xi[t]).concat(Xi[e]).concat(Xi[n])}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t[n],a=t[n+1];t[n]=i*e[0]+a*e[2]+e[4],t[n+1]=i*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=e[0],a=e[1],r=e[2],s=e[3],o=e[4],l=e[5];for(let c=0;c<6;c+=2){const e=t[n+c],u=t[n+c+1];t[n+c]=e*i+u*r+o,t[n+c+1]=e*a+u*s+l}}static applyInverseTransform(t,e){const n=t[0],i=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-i*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-n*e[1]+i*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,n){const i=e[0],a=e[1],r=e[2],s=e[3],o=e[4],l=e[5],c=t[0],u=t[1],h=t[2],d=t[3];let p=i*c+o,f=p,g=i*h+o,m=g,v=s*u+l,b=v,w=s*d+l,y=w;if(0!==a||0!==r){const t=a*c,e=a*h,n=r*u,i=r*d;p+=n,m+=n,g+=i,f+=i,v+=t,y+=t,w+=e,b+=e}n[0]=Math.min(n[0],p,g,f,m),n[1]=Math.min(n[1],v,w,b,y),n[2]=Math.max(n[2],p,g,f,m),n[3]=Math.max(n[3],v,w,b,y)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],i=t[1],a=t[2],r=t[3],s=n**2+i**2,o=n*a+i*r,l=a**2+r**2,c=(s+l)/2,u=Math.sqrt(c**2-(s*l-o**2));e[0]=Math.sqrt(c+u||1),e[1]=Math.sqrt(c-u||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),r=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>r?null:[n,a,i,r]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,i,a){a[0]=Math.min(a[0],t,n),a[1]=Math.min(a[1],e,i),a[2]=Math.max(a[2],t,n),a[3]=Math.max(a[3],e,i)}static bezierBoundingBox(t,e,n,i,a,r,s,o,l){l[0]=Math.min(l[0],t,s),l[1]=Math.min(l[1],e,o),l[2]=Math.max(l[2],t,s),l[3]=Math.max(l[3],e,o),kn(this,Yi,Qi).call(this,t,n,a,s,e,i,r,o,3*(3*(n-a)-t+s),6*(t-2*n+a),3*(n-t),l),kn(this,Yi,Qi).call(this,t,n,a,s,e,i,r,o,3*(3*(i-r)-e+o),6*(e-2*i+r),3*(i-e),l)}}function Ki(t,e,n,i,a,r,s,o,l,c){if(l<=0||l>=1)return;const u=1-l,h=l*l,d=h*l,p=u*(u*(u*t+3*l*e)+3*h*n)+d*i,f=u*(u*(u*a+3*l*r)+3*h*s)+d*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)}function Qi(t,e,n,i,a,r,s,o,l,c,u,h){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&kn(this,En,Ki).call(this,t,e,n,i,a,r,s,o,-u/c,h));const d=c**2-4*u*l;if(d<0)return;const p=Math.sqrt(d),f=2*l;kn(this,En,Ki).call(this,t,e,n,i,a,r,s,o,(-c+p)/f,h),kn(this,En,Ki).call(this,t,e,n,i,a,r,s,o,(-c-p)/f,h)}En=Yi;let Ji=null,$i=null;function Zi(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),Vi(t)}const ta="pdfjs_internal_id_";function ea(t,e,n){return Math.min(Math.max(t,e),n)}function na(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(Vi(t))}"function"!==typeof Promise.try&&(Promise.try=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return new Promise((e=>{e(t(...n))}))}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(t){return t.reduce(((t,e)=>t+e),0)});class ia{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};return function t(n){var i;if(!n)return;let a=null;const r=n.name;if("#text"===r)a=n.value;else{if(!ia.shouldBuildText(r))return;null!==n&&void 0!==n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?a=n.attributes.textContent:n.value&&(a=n.value)}if(null!==a&&e.push({str:a}),n.children)for(const e of n.children)t(e)}(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}class aa{static setupStorage(t,e,n,i,a){const r=i.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==r.value&&(t.textContent=r.value),"print"===a)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(r.value===n.attributes.xfaOn?t.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===a)break;t.addEventListener("change",(t=>{i.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==r.value&&t.setAttribute("value",r.value),"print"===a)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==r.value){t.setAttribute("value",r.value);for(const t of n.children)t.attributes.value===r.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}t.addEventListener("input",(t=>{const n=t.target.options,a=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(e,{value:a})}))}}static setAttributes(t){let{html:e,element:n,storage:i=null,intent:a,linkService:r}=t;const{attributes:s}=n,o=e instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(a));for(const[l,c]of Object.entries(s))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&e.setAttribute(l,c)}o&&r.addLinkAttributes(e,s.href,s.newWindow),i&&s.dataId&&this.setupStorage(e,s.dataId,n,i)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,a=t.intent||"display",r=document.createElement(i.name);i.attributes&&this.setAttributes({html:r,element:i,intent:a,linkService:n});const s="richText"!==a,o=t.div;if(o.append(r),t.viewport){const e="matrix(".concat(t.viewport.transform.join(","),")");o.style.transform=e}s&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const t=document.createTextNode(i.value);r.append(t),s&&ia.shouldBuildText(i.name)&&l.push(t)}return{textDivs:l}}const c=[[i,-1,r]];for(;c.length>0;){var u,h;const[t,i,r]=c.at(-1);if(i+1===t.children.length){c.pop();continue}const o=t.children[++c.at(-1)[1]];if(null===o)continue;const{name:d}=o;if("#text"===d){const t=document.createTextNode(o.value);l.push(t),r.append(t);continue}const p=null!==o&&void 0!==o&&null!==(u=o.attributes)&&void 0!==u&&u.xmlns?document.createElementNS(o.attributes.xmlns,d):document.createElement(d);if(r.append(p),o.attributes&&this.setAttributes({html:p,element:o,storage:e,intent:a,linkService:n}),(null===(h=o.children)||void 0===h?void 0:h.length)>0)c.push([o,-1,p]);else if(o.value){const t=document.createTextNode(o.value);s&&ia.shouldBuildText(d)&&l.push(t),p.append(t)}}for(const d of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}const ra="http://www.w3.org/2000/svg";class sa{}async function oa(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(pa(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE)if(200!==a.status&&0!==a.status)i(new Error(a.statusText));else{switch(e){case"arraybuffer":case"blob":case"json":return void n(a.response)}n(a.responseText)}},a.send(null)}))}Cn=sa,yn(sa,"CSS",96),yn(sa,"PDF",72),yn(sa,"PDF_TO_CSS_UNITS",Cn.CSS/Cn.PDF);class la{constructor(t){let{viewBox:e,userUnit:n,scale:i,rotation:a,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}=t;this.viewBox=e,this.userUnit=n,this.scale=i,this.rotation=a,this.offsetX=r,this.offsetY=s,i*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,h,d,p,f,g,m,v;switch(a%=360,a<0&&(a+=360),a){case 180:u=-1,h=0,d=0,p=1;break;case 90:u=0,h=1,d=1,p=0;break;case 270:u=0,h=-1,d=-1,p=0;break;case 0:u=1,h=0,d=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,p=-p),0===u?(f=Math.abs(c-e[1])*i+r,g=Math.abs(l-e[0])*i+s,m=(e[3]-e[1])*i,v=(e[2]-e[0])*i):(f=Math.abs(l-e[0])*i+r,g=Math.abs(c-e[1])*i+s,m=(e[2]-e[0])*i,v=(e[3]-e[1])*i),this.transform=[u*i,h*i,d*i,p*i,f-u*i*l-d*i*c,g-h*i*l-p*i*c],this.width=m,this.height=v}get rawDims(){const t=this.viewBox;return Fi(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new la({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:a})}convertToViewportPoint(t,e){const n=[t,e];return Yi.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];Yi.applyTransform(e,this.transform);const n=[t[2],t[3]];return Yi.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return Yi.applyInverseTransform(n,this.transform),n}}class ca extends Oi{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(t,"RenderingCancelledException"),this.extraDelay=e}}function ua(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function ha(t){return"string"===typeof t&&/\.pdf$/i.test(t)}class da{constructor(){yn(this,"started",Object.create(null)),yn(this,"times",[])}time(t){t in this.started&&Ri("Timer is already running for ".concat(t)),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ri("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:a}of this.times)t.push("".concat(n.padEnd(e)," ").concat(a-i,"ms\n"));return t.join("")}}function pa(t,e){const n=e?URL.parse(t,e):URL.parse(t);return"http:"===(null===n||void 0===n?void 0:n.protocol)||"https:"===(null===n||void 0===n?void 0:n.protocol)}function fa(t){t.preventDefault()}function ga(t){t.preventDefault(),t.stopPropagation()}class ma{static toDateObject(t){if(t instanceof Date)return t;if(!t||"string"!==typeof t)return null;vn(this,ma,va)||mn(this,ma,va,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=vn(this,ma,va).exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let r=parseInt(e[4],10);r=r>=0&&r<=23?r:0;let s=parseInt(e[5],10);s=s>=0&&s<=59?s:0;let o=parseInt(e[6],10);o=o>=0&&o<=59?o:0;const l=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(r+=c,s+=u):"+"===l&&(r-=c,s-=u),new Date(Date.UTC(n,i,a,r,s,o))}}var va={writable:!0,value:void 0};function ba(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((t=>parseInt(t))):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((t=>parseInt(t))).slice(0,3):(Ri('Not a valid color format: "'.concat(t,'"')),[0,0,0])}function wa(t){const{a:e,b:n,c:i,d:a,e:r,f:s}=t.getTransform();return[e,n,i,a,r,s]}function ya(t){const{a:e,b:n,c:i,d:a,e:r,f:s}=t.getTransform().invertSelf();return[e,n,i,a,r,s]}function ka(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof la){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:r}=t,s=qi.isCSSRoundSupported,o="var(--total-scale-factor) * ".concat(i,"px"),l="var(--total-scale-factor) * ".concat(a,"px"),c=s?"round(down, ".concat(o,", var(--scale-round-x))"):"calc(".concat(o,")"),u=s?"round(down, ".concat(l,", var(--scale-round-y))"):"calc(".concat(l,")");n&&e.rotation%180!==0?(r.width=u,r.height=c):(r.width=c,r.height=u)}i&&t.setAttribute("data-main-rotation",e.rotation)}class Aa{constructor(){const{pixelRatio:t}=Aa;this.sx=t,this.sy=t}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,r=1/0,s=1/0,o=1/0;(n=Aa.capPixels(n,a))>0&&(r=Math.sqrt(n/(t*e))),-1!==i&&(s=i/t,o=i/e);const l=Math.min(r,s,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Sa=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class xa{static get isDarkMode(){var t,e;return Fi(this,"isDarkMode",!(null===(t=window)||void 0===t||null===(e=t.matchMedia)||void 0===e||!e.call(t,"(prefers-color-scheme: dark)").matches))}}function _a(t,e){const n=t[0]/255,i=t[1]/255,a=t[2]/255,r=Math.max(n,i,a),s=Math.min(n,i,a),o=(r+s)/2;if(r===s)e[0]=e[1]=0;else{const t=r-s;switch(e[1]=o<.5?t/(r+s):t/(2-r-s),r){case n:e[0]=60*((i-a)/t+(i<a?6:0));break;case i:e[0]=60*((a-n)/t+2);break;case a:e[0]=60*((n-i)/t+4)}}e[2]=o}function Ea(t,e){const n=t[0],i=t[1],a=t[2],r=(1-Math.abs(2*a-1))*i,s=r*(1-Math.abs(n/60%2-1)),o=a-r/2;switch(Math.floor(n/60)){case 0:e[0]=r+o,e[1]=s+o,e[2]=o;break;case 1:e[0]=s+o,e[1]=r+o,e[2]=o;break;case 2:e[0]=o,e[1]=r+o,e[2]=s+o;break;case 3:e[0]=o,e[1]=s+o,e[2]=r+o;break;case 4:e[0]=s+o,e[1]=o,e[2]=r+o;break;case 5:case 6:e[0]=r+o,e[1]=o,e[2]=s+o}}function Ca(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function Ma(t,e,n){Ea(t,n),n.map(Ca);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];Ea(e,n),n.map(Ca);const a=.2126*n[0]+.7152*n[1]+.0722*n[2];return i>a?(i+.05)/(a+.05):(a+.05)/(i+.05)}const Ta=new Map;function Pa(t,e){let{html:n,dir:i,className:a}=t;const r=document.createDocumentFragment();if("string"===typeof n){const t=document.createElement("p");t.dir=i||"auto";const e=n.split(/(?:\r\n?|\n)/);for(let n=0,i=e.length;n<i;++n){const a=e[n];t.append(document.createTextNode(a)),n<i-1&&t.append(document.createElement("br"))}r.append(t)}else aa.render({xfaHtml:n,div:r,intent:"richText"});r.firstChild.classList.add("richText",a),e.append(r)}var Ra=new WeakMap,Da=new WeakMap,La=new WeakMap,Ia=new WeakMap,Na=new WeakMap,Fa=new WeakMap,Oa=new WeakMap,Wa=new WeakMap,Ba=new WeakSet,ja=new WeakSet,za=new WeakSet,Ua=new WeakMap;class Ha{constructor(t){ln(this,Ua,{get:Ya,set:void 0}),on(this,za),on(this,ja),on(this,Ba),ln(this,Ra,{writable:!0,value:null}),ln(this,Da,{writable:!0,value:null}),ln(this,La,{writable:!0,value:void 0}),ln(this,Ia,{writable:!0,value:null}),ln(this,Na,{writable:!0,value:null}),ln(this,Fa,{writable:!0,value:null}),ln(this,Oa,{writable:!0,value:null}),ln(this,Wa,{writable:!0,value:null}),pn(this,La,t),vn(Ha,Ha,Ka)||mn(Ha,Ha,Ka,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=pn(this,Ra,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=hn(this,La)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",fa,{signal:e}),t.addEventListener("pointerdown",kn(Ha,Ha,Va),{signal:e}));const n=pn(this,Ia,document.createElement("div"));n.className="buttons",t.append(n);const i=hn(this,La).toolbarPosition;if(i){const{style:e}=t,n="ltr"===hn(this,La)._uiManager.direction?1-i[0]:i[0];e.insetInlineEnd="".concat(100*n,"%"),e.top="calc(".concat(100*i[1],"% + var(--editor-toolbar-vert-offset))")}return t}get div(){return hn(this,Ra)}hide(){var t;hn(this,Ra).classList.add("hidden"),null===(t=hn(this,Da))||void 0===t||t.hideDropdown()}show(){var t,e;hn(this,Ra).classList.remove("hidden"),null===(t=hn(this,Na))||void 0===t||t.shown(),null===(e=hn(this,Fa))||void 0===e||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=hn(this,La),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",vn(Ha,Ha,Ka)[t]),cn(this,za,Xa).call(this,n)&&n.addEventListener("click",(t=>{e.delete()}),{signal:e._signal}),hn(this,Ia).append(n)}async addAltText(t){const e=await t.render();cn(this,za,Xa).call(this,e),hn(this,Ia).append(e,hn(this,Ua)),pn(this,Na,t)}addComment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(hn(this,Fa))return;const n=t.renderForToolbar();if(!n)return;cn(this,za,Xa).call(this,n);const i=pn(this,Oa,hn(this,Ua));e?(hn(this,Ia).insertBefore(n,e),hn(this,Ia).insertBefore(i,e)):hn(this,Ia).append(n,i),pn(this,Fa,t),t.toolbar=this}addColorPicker(t){if(hn(this,Da))return;pn(this,Da,t);const e=t.renderButton();cn(this,za,Xa).call(this,e),hn(this,Ia).append(e,hn(this,Ua))}async addEditSignatureButton(t){const e=pn(this,Wa,await t.renderEditButton(hn(this,La)));cn(this,za,Xa).call(this,e),hn(this,Ia).append(e,hn(this,Ua))}removeButton(t){var e,n;if("comment"===t)null===(e=hn(this,Fa))||void 0===e||e.removeToolbarCommentButton(),pn(this,Fa,null),null===(n=hn(this,Oa))||void 0===n||n.remove(),pn(this,Oa,null)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e)}}async addButtonBefore(t,e,n){const i=hn(this,Ia).querySelector(n);i&&"comment"===t&&this.addComment(e,i)}updateEditSignatureButton(t){hn(this,Wa)&&(hn(this,Wa).title=t)}remove(){var t;hn(this,Ra).remove(),null===(t=hn(this,Da))||void 0===t||t.destroy(),pn(this,Da,null)}}function Va(t){t.stopPropagation()}function Ga(t){hn(this,La)._focusEventsAllowed=!1,ga(t)}function qa(t){hn(this,La)._focusEventsAllowed=!0,ga(t)}function Xa(t){const e=hn(this,La)._uiManager._signal;return e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("focusin",cn(this,Ba,Ga).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",cn(this,ja,qa).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",fa,{signal:e}),!0)}function Ya(){const t=document.createElement("div");return t.className="divider",t}var Ka={writable:!0,value:null},Qa=new WeakMap,Ja=new WeakMap,$a=new WeakMap,Za=new WeakSet,tr=new WeakSet,er=new WeakSet;class nr{constructor(t){on(this,er),on(this,tr),on(this,Za),ln(this,Qa,{writable:!0,value:null}),ln(this,Ja,{writable:!0,value:null}),ln(this,$a,{writable:!0,value:void 0}),pn(this,$a,t)}show(t,e,n){const[i,a]=cn(this,tr,ar).call(this,e,n),{style:r}=hn(this,Ja)||pn(this,Ja,cn(this,Za,ir).call(this));t.append(hn(this,Ja)),r.insetInlineEnd="".concat(100*i,"%"),r.top="calc(".concat(100*a,"% + var(--editor-toolbar-vert-offset))")}hide(){hn(this,Ja).remove()}}function ir(){const t=pn(this,Ja,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=hn(this,$a)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",fa,{signal:e});const n=pn(this,Qa,document.createElement("div"));return n.className="buttons",t.append(n),hn(this,$a).hasCommentManager()&&cn(this,er,rr).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",(()=>{hn(this,$a).commentSelection("floating_button")})),cn(this,er,rr).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",(()=>{hn(this,$a).highlightSelection("floating_button")})),t}function ar(t,e){let n=0,i=0;for(const a of t){const t=a.y+a.height;if(t<n)continue;const r=a.x+(e?a.width:0);t>n?(i=r,n=t):e?r>i&&(i=r):r<i&&(i=r)}return[e?1-i:i,n]}function rr(t,e,n,i){const a=document.createElement("button");a.classList.add("basic",t),a.tabIndex=0,a.setAttribute("data-l10n-id",e);const r=document.createElement("span");a.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id",n);const s=hn(this,$a)._signal;s instanceof AbortSignal&&!s.aborted&&(a.addEventListener("contextmenu",fa,{signal:s}),a.addEventListener("click",i,{signal:s})),hn(this,Qa).append(a)}function sr(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}var or=new WeakMap;class lr{constructor(){ln(this,or,{writable:!0,value:0})}get id(){var t,e;return"".concat(ri).concat((pn(this,or,(t=hn(this,or),e=t++,t)),e))}}var cr=new WeakMap,ur=new WeakMap,hr=new WeakMap,dr=new WeakSet;class pr{constructor(){on(this,dr),ln(this,cr,{writable:!0,value:Zi()}),ln(this,ur,{writable:!0,value:0}),ln(this,hr,{writable:!0,value:null})}static get _isSVGFittingCanvas(){const t=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Fi(this,"_isSVGFittingCanvas",e.decode().then((()=>(t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0]))))}async getFromFile(t){const{lastModified:e,name:n,size:i,type:a}=t;return cn(this,dr,fr).call(this,"".concat(e,"_").concat(n,"_").concat(i,"_").concat(a),t)}async getFromUrl(t){return cn(this,dr,fr).call(this,t,t)}async getFromBlob(t,e){const n=await e;return cn(this,dr,fr).call(this,t,n)}async getFromId(t){hn(this,hr)||pn(this,hr,new Map);const e=hn(this,hr).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:t}=e;return delete e.blobPromise,this.getFromBlob(e.id,t)}return this.getFromUrl(e.url)}getFromCanvas(t,e){var n,i,a;hn(this,hr)||pn(this,hr,new Map);let r=hn(this,hr).get(t);if(null!==(a=r)&&void 0!==a&&a.bitmap)return r.refCounter+=1,r;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),r={bitmap:s.transferToImageBitmap(),id:"image_".concat(hn(this,cr),"_").concat((pn(this,ur,(n=hn(this,ur),i=n++,n)),i)),refCounter:1,isSvg:!1},hn(this,hr).set(t,r),hn(this,hr).set(r.id,r),r}getSvgUrl(t){const e=hn(this,hr).get(t);return null!==e&&void 0!==e&&e.isSvg?e.svgUrl:null}deleteId(t){var e;hn(this,hr)||pn(this,hr,new Map);const n=hn(this,hr).get(t);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:i}=n;if(!n.url&&!n.file){const t=new OffscreenCanvas(i.width,i.height);t.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=t.convertToBlob()}null===(e=i.close)||void 0===e||e.call(i),n.bitmap=null}isValidId(t){return t.startsWith("image_".concat(hn(this,cr),"_"))}}async function fr(t,e){var n;hn(this,hr)||pn(this,hr,new Map);let i=hn(this,hr).get(t);if(null===i)return null;if(null!==(n=i)&&void 0!==n&&n.bitmap)return i.refCounter+=1,i;try{var a,r;let t;if(i||(i={bitmap:null,id:"image_".concat(hn(this,cr),"_").concat((pn(this,ur,(a=hn(this,ur),r=a++,a)),r)),refCounter:0,isSvg:!1}),"string"===typeof e?(i.url=e,t=await oa(e,"blob")):e instanceof File?t=i.file=e:e instanceof Blob&&(t=e),"image/svg+xml"===t.type){const e=Mn._isSVGFittingCanvas,n=new FileReader,a=new Image,r=new Promise(((t,r)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,t()},n.onload=async()=>{const t=i.svgUrl=n.result;a.src=await e?"".concat(t,"#svgView(preserveAspectRatio(none))"):t},a.onerror=n.onerror=r}));n.readAsDataURL(t),await r}else i.bitmap=await createImageBitmap(t);i.refCounter=1}catch(s){Ri(s),i=null}return hn(this,hr).set(t,i),i&&hn(this,hr).set(i.id,i),i}Mn=pr;var gr=new WeakMap,mr=new WeakMap,vr=new WeakMap,br=new WeakMap;class wr{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;ln(this,gr,{writable:!0,value:[]}),ln(this,mr,{writable:!0,value:!1}),ln(this,vr,{writable:!0,value:void 0}),ln(this,br,{writable:!0,value:-1}),pn(this,vr,t)}add(t){let{cmd:e,undo:n,post:i,mustExec:a,type:r=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}=t;if(a&&e(),hn(this,mr))return;const l={cmd:e,undo:n,post:i,type:r};if(-1===hn(this,br))return hn(this,gr).length>0&&(hn(this,gr).length=0),pn(this,br,0),void hn(this,gr).push(l);if(s&&hn(this,gr)[hn(this,br)].type===r)return o&&(l.undo=hn(this,gr)[hn(this,br)].undo),void(hn(this,gr)[hn(this,br)]=l);const c=hn(this,br)+1;c===hn(this,vr)?hn(this,gr).splice(0,1):(pn(this,br,c),c<hn(this,gr).length&&hn(this,gr).splice(c)),hn(this,gr).push(l)}undo(){if(-1===hn(this,br))return;pn(this,mr,!0);const{undo:t,post:e}=hn(this,gr)[hn(this,br)];t(),null===e||void 0===e||e(),pn(this,mr,!1),pn(this,br,hn(this,br)-1)}redo(){if(hn(this,br)<hn(this,gr).length-1){pn(this,br,hn(this,br)+1),pn(this,mr,!0);const{cmd:t,post:e}=hn(this,gr)[hn(this,br)];t(),null===e||void 0===e||e(),pn(this,mr,!1)}}hasSomethingToUndo(){return-1!==hn(this,br)}hasSomethingToRedo(){return hn(this,br)<hn(this,gr).length-1}cleanType(t){if(-1!==hn(this,br)){for(let e=hn(this,br);e>=0;e--)if(hn(this,gr)[e].type!==t)return hn(this,gr).splice(e+1,hn(this,br)-e),void pn(this,br,e);hn(this,gr).length=0,pn(this,br,-1)}}destroy(){pn(this,gr,null)}}var yr=new WeakSet;class kr{constructor(t){on(this,yr),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=qi.platform;for(const[n,i,a={}]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),{callback:i,options:a}),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,{callback:i,options:a}),this.allKeys.add(t.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(cn(this,yr,Ar).call(this,e));if(!n)return;const{callback:i,options:{bubbles:a=!1,args:r=[],checker:s=null}}=n;s&&!s(t,e)||(i.bind(t,...r,e)(),a||ga(e))}}function Ar(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}class Sr{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return function(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,ba(i))}e.remove()}(t),Fi(this,"_colors",t)}convert(t){const e=ba(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every(((t,n)=>t===e[n])))return Sr._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Yi.makeHexColor(...e):t}}yn(Sr,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var xr=new WeakMap,_r=new WeakMap,Er=new WeakMap,Cr=new WeakMap,Mr=new WeakMap,Tr=new WeakMap,Pr=new WeakMap,Rr=new WeakMap,Dr=new WeakMap,Lr=new WeakMap,Ir=new WeakMap,Nr=new WeakMap,Fr=new WeakMap,Or=new WeakMap,Wr=new WeakMap,Br=new WeakMap,jr=new WeakMap,zr=new WeakMap,Ur=new WeakMap,Hr=new WeakMap,Vr=new WeakMap,Gr=new WeakMap,qr=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,Kr=new WeakMap,Qr=new WeakMap,Jr=new WeakMap,$r=new WeakMap,Zr=new WeakMap,ts=new WeakMap,es=new WeakMap,ns=new WeakMap,is=new WeakMap,as=new WeakMap,rs=new WeakMap,ss=new WeakMap,os=new WeakMap,ls=new WeakMap,cs=new WeakMap,us=new WeakMap,hs=new WeakMap,ds=new WeakMap,ps=new WeakMap,fs=new WeakMap,gs=new WeakMap,ms=new WeakMap,vs=new WeakMap,bs=new WeakMap,ws=new WeakSet,ys=new WeakSet,ks=new WeakSet,As=new WeakSet,Ss=new WeakSet,xs=new WeakSet,_s=new WeakSet,Es=new WeakSet,Cs=new WeakSet,Ms=new WeakSet,Ts=new WeakSet,Ps=new WeakSet,Rs=new WeakSet,Ds=new WeakSet,Ls=new WeakSet,Is=new WeakSet,Ns=new WeakSet,Fs=new WeakSet,Os=new WeakMap,Ws=new WeakSet,Bs=new WeakSet;class js{static get _keyboardManager(){const t=js.prototype,e=t=>hn(t,gs).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl(),n=(t,e)=>{let{target:n}=e;if(n instanceof HTMLInputElement){const{type:t}=n;return"text"!==t&&"number"!==t}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Fi(this,"_keyboardManager",new kr([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&hn(t,gs).contains(n)&&!t.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&hn(t,gs).contains(document.activeElement)}}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}constructor(t,e,n,i,a,r,s,o,l,c,u,h,d,p,f,g){on(this,Bs),on(this,Ws),ln(this,Os,{get:ro,set:void 0}),on(this,Fs),on(this,Ns),on(this,Is),on(this,Ls),on(this,Ds),on(this,Rs),on(this,Ps),on(this,Ts),on(this,Ms),on(this,Cs),on(this,Es),on(this,_s),on(this,xs),on(this,Ss),on(this,As),on(this,ks),on(this,ys),on(this,ws),ln(this,xr,{writable:!0,value:new AbortController}),ln(this,_r,{writable:!0,value:null}),ln(this,Er,{writable:!0,value:null}),ln(this,Cr,{writable:!0,value:new Map}),ln(this,Mr,{writable:!0,value:new Map}),ln(this,Tr,{writable:!0,value:null}),ln(this,Pr,{writable:!0,value:null}),ln(this,Rr,{writable:!0,value:null}),ln(this,Dr,{writable:!0,value:new wr}),ln(this,Lr,{writable:!0,value:null}),ln(this,Ir,{writable:!0,value:null}),ln(this,Nr,{writable:!0,value:null}),ln(this,Fr,{writable:!0,value:0}),ln(this,Or,{writable:!0,value:new Set}),ln(this,Wr,{writable:!0,value:null}),ln(this,Br,{writable:!0,value:null}),ln(this,jr,{writable:!0,value:new Set}),yn(this,"_editorUndoBar",null),ln(this,zr,{writable:!0,value:!1}),ln(this,Ur,{writable:!0,value:!1}),ln(this,Hr,{writable:!0,value:!1}),ln(this,Vr,{writable:!0,value:null}),ln(this,Gr,{writable:!0,value:null}),ln(this,qr,{writable:!0,value:null}),ln(this,Xr,{writable:!0,value:null}),ln(this,Yr,{writable:!0,value:!1}),ln(this,Kr,{writable:!0,value:null}),ln(this,Qr,{writable:!0,value:new lr}),ln(this,Jr,{writable:!0,value:!1}),ln(this,$r,{writable:!0,value:!1}),ln(this,Zr,{writable:!0,value:!1}),ln(this,ts,{writable:!0,value:null}),ln(this,es,{writable:!0,value:null}),ln(this,ns,{writable:!0,value:null}),ln(this,is,{writable:!0,value:null}),ln(this,as,{writable:!0,value:null}),ln(this,rs,{writable:!0,value:si.NONE}),ln(this,ss,{writable:!0,value:new Set}),ln(this,os,{writable:!0,value:null}),ln(this,ls,{writable:!0,value:null}),ln(this,cs,{writable:!0,value:null}),ln(this,us,{writable:!0,value:null}),ln(this,hs,{writable:!0,value:null}),ln(this,ds,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}}),ln(this,ps,{writable:!0,value:[0,0]}),ln(this,fs,{writable:!0,value:null}),ln(this,gs,{writable:!0,value:null}),ln(this,ms,{writable:!0,value:null}),ln(this,vs,{writable:!0,value:null}),ln(this,bs,{writable:!0,value:null});const m=this._signal=hn(this,xr).signal;pn(this,gs,t),pn(this,ms,e),pn(this,vs,n),pn(this,Tr,i),pn(this,Lr,a),pn(this,ls,r),pn(this,hs,o),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:m}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),s._on("setpreference",this.onSetPreference.bind(this),{signal:m}),s._on("switchannotationeditorparams",(t=>this.updateParams(t.type,t.value)),{signal:m}),window.addEventListener("pointerdown",(()=>{pn(this,$r,!0)}),{capture:!0,signal:m}),window.addEventListener("pointerup",(()=>{pn(this,$r,!1)}),{capture:!0,signal:m}),cn(this,xs,qs).call(this),cn(this,Rs,Zs).call(this),cn(this,Cs,Ks).call(this),pn(this,Pr,o.annotationStorage),pn(this,Vr,o.filterFactory),pn(this,cs,l),pn(this,Xr,c||null),pn(this,zr,u),pn(this,Ur,h),pn(this,Hr,d),pn(this,as,p||null),this.viewParameters={realScale:sa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=!1!==g,null===a||void 0===a||a.setSidebarUiManager(this)}destroy(){var t,e,n,i,a,r,s,o,l;null===(t=hn(this,bs))||void 0===t||t.resolve(),pn(this,bs,null),null===(e=hn(this,xr))||void 0===e||e.abort(),pn(this,xr,null),this._signal=null;for(const c of hn(this,Mr).values())c.destroy();hn(this,Mr).clear(),hn(this,Cr).clear(),hn(this,jr).clear(),null===(n=hn(this,is))||void 0===n||n.clear(),pn(this,_r,null),hn(this,ss).clear(),hn(this,Dr).destroy(),null===(i=hn(this,Tr))||void 0===i||i.destroy(),null===(a=hn(this,Lr))||void 0===a||a.destroy(),null===(r=hn(this,ls))||void 0===r||r.destroy(),null===(s=hn(this,Kr))||void 0===s||s.hide(),pn(this,Kr,null),null===(o=hn(this,ns))||void 0===o||o.destroy(),pn(this,ns,null),pn(this,Er,null),hn(this,Gr)&&(clearTimeout(hn(this,Gr)),pn(this,Gr,null)),hn(this,fs)&&(clearTimeout(hn(this,fs)),pn(this,fs,null)),null===(l=this._editorUndoBar)||void 0===l||l.destroy(),pn(this,hs,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return hn(this,as)}get useNewAltTextFlow(){return hn(this,Ur)}get useNewAltTextWhenAddingImage(){return hn(this,Hr)}get hcmFilter(){return Fi(this,"hcmFilter",hn(this,cs)?hn(this,Vr).addHCMFilter(hn(this,cs).foreground,hn(this,cs).background):"none")}get direction(){return Fi(this,"direction",getComputedStyle(hn(this,gs)).direction)}get _highlightColors(){return Fi(this,"_highlightColors",hn(this,Xr)?new Map(hn(this,Xr).split(",").map((t=>((t=t.split("=").map((t=>t.trim())))[1]=t[1].toUpperCase(),t)))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Fi(this,"highlightColors",null);const e=new Map,n=!!hn(this,cs);for(const[i,a]of t){const t=i.endsWith("_HCM");n&&t?e.set(i.replace("_HCM",""),a):n||t||e.set(i,a)}return Fi(this,"highlightColors",e)}get highlightColorNames(){return Fi(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(t=>t.reverse()))):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),pn(this,Nr,t)}setMainHighlightColorPicker(t){pn(this,ns,t)}editAltText(t){var e;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(e=hn(this,Tr))||void 0===e||e.editAltText(this,t,n)}hasCommentManager(){return!!hn(this,Lr)}editComment(t,e,n,i){var a;null===(a=hn(this,Lr))||void 0===a||a.showDialog(this,t,e,n,i)}selectComment(t,e){const n=hn(this,Mr).get(t),i=null===n||void 0===n?void 0:n.getEditorByUID(e);null===i||void 0===i||i.toggleComment(!0,!0)}updateComment(t){var e;null===(e=hn(this,Lr))||void 0===e||e.updateComment(t.getData())}updatePopupColor(t){var e;null===(e=hn(this,Lr))||void 0===e||e.updatePopupColor(t)}removeComment(t){var e;null===(e=hn(this,Lr))||void 0===e||e.removeComments([t.uid])}toggleComment(t,e){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;null===(n=hn(this,Lr))||void 0===n||n.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){var n;return t&&(null===(n=hn(this,Lr))||void 0===n?void 0:n.makeCommentColor(t,e))||null}getCommentDialogElement(){var t;return(null===(t=hn(this,Lr))||void 0===t?void 0:t.dialogElement)||null}async waitForEditorsRendered(t){if(hn(this,Mr).has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),i=n=>{n.pageNumber===t&&(this._eventBus._off("editorsrendered",i),e())};this._eventBus.on("editorsrendered",i),await n}getSignature(t){var e;null===(e=hn(this,ls))||void 0===e||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return hn(this,ls)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference(t){let{name:e,value:n}=t;if("enableNewAltTextWhenAddingImage"===e)pn(this,Hr,n)}onPageChanging(t){let{pageNumber:e}=t;pn(this,Fr,e-1)}focusMainContainer(){hn(this,gs).focus()}findParent(t,e){for(const n of hn(this,Mr).values()){const{x:i,y:a,width:r,height:s}=n.div.getBoundingClientRect();if(t>=i&&t<=i+r&&e>=a&&e<=a+s)return n}return null}disableUserSelect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];hn(this,ms).classList.toggle("noUserSelect",t)}addShouldRescale(t){hn(this,jr).add(t)}removeShouldRescale(t){hn(this,jr).delete(t)}onScaleChanging(t){var e;let{scale:n}=t;this.commitOrRemove(),this.viewParameters.realScale=n*sa.PDF_TO_CSS_UNITS;for(const i of hn(this,jr))i.onScaleChanging();null===(e=hn(this,Nr))||void 0===e||e.onScaleChanging()}onRotationChanging(t){let{pagesRotation:e}=t;this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:s}=n,o=n.toString(),l=cn(this,ws,zs).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(l);if(!c)return;n.empty();const u=cn(this,ys,Us).call(this,l),h=hn(this,rs)===si.NONE,d=()=>{const n=null===u||void 0===u?void 0:u.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:c,anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:s,text:o});h&&this.showAllEditors("highlight",!0,!0),e&&(null===n||void 0===n||n.editComment())};h?this.switchToMode(si.HIGHLIGHT,d):d()}commentSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.highlightSelection(t,!0)}getAndRemoveDataFromAnnotationStorage(t){if(!hn(this,Pr))return null;const e="".concat(ri).concat(t),n=hn(this,Pr).getRawValue(e);return n&&hn(this,Pr).remove(e),n}addToAnnotationStorage(t){t.isEmpty()||!hn(this,Pr)||hn(this,Pr).has(t.id)||hn(this,Pr).setValue(t.id,t)}a11yAlert(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=hn(this,vs);n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,hn(this,Yr)&&(pn(this,Yr,!1),cn(this,Ss,Gs).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of hn(this,ss))if(e.div.contains(t)){pn(this,es,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!hn(this,es))return;const[t,e]=hn(this,es);pn(this,es,null),e.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),e.focus()}addEditListeners(){cn(this,Cs,Ks).call(this),cn(this,Ts,Js).call(this)}removeEditListeners(){cn(this,Ms,Qs).call(this),cn(this,Ps,$s).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of hn(this,Br))if(n.isHandlingMimeForPasting(e))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}drop(t){for(const e of t.dataTransfer.items)for(const n of hn(this,Br))if(n.isHandlingMimeForPasting(e.type))return n.paste(e,this.currentLayer),void t.preventDefault()}copy(t){var e;if(t.preventDefault(),null===(e=hn(this,_r))||void 0===e||e.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of hn(this,ss)){const t=i.serialize(!0);t&&n.push(t)}0!==n.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const t of hn(this,Br))if(t.isHandlingMimeForPasting(r.type))return void t.paste(r,this.currentLayer);let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){return void Ri('paste: "'.concat(a.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const t=[];for(const r of n){const e=await i.deserialize(r);if(!e)return;t.push(e)}const e=()=>{for(const e of t)cn(this,Fs,ao).call(this,e);cn(this,Bs,oo).call(this,t)},a=()=>{for(const e of t)e.remove()};this.addCommands({cmd:e,undo:a,mustExec:!0})}catch(a){Ri('paste: "'.concat(a.message,'".'))}}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),hn(this,rs)===si.NONE||this.isEditorHandlingKeyboard||js._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,hn(this,Yr)&&(pn(this,Yr,!1),cn(this,Ss,Gs).call(this,"main_toolbar")))}onEditingAction(t){let{name:e}=t;switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}setEditingState(t){t?(cn(this,_s,Xs).call(this),cn(this,Ts,Js).call(this),cn(this,Ds,to).call(this,{isEditing:hn(this,rs)!==si.NONE,isEmpty:cn(this,Ws,so).call(this),hasSomethingToUndo:hn(this,Dr).hasSomethingToUndo(),hasSomethingToRedo:hn(this,Dr).hasSomethingToRedo(),hasSelectedEditor:!1})):(cn(this,Es,Ys).call(this),cn(this,Ps,$s).call(this),cn(this,Ds,to).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!hn(this,Br)){pn(this,Br,t);for(const t of hn(this,Br))cn(this,Ls,eo).call(this,t.defaultPropertiesToUpdate)}}getId(){return hn(this,Qr).id}get currentLayer(){return hn(this,Mr).get(hn(this,Fr))}getLayer(t){return hn(this,Mr).get(t)}get currentPageIndex(){return hn(this,Fr)}addLayer(t){hn(this,Mr).set(t.pageIndex,t),hn(this,Jr)?t.enable():t.disable()}removeLayer(t){hn(this,Mr).delete(t.pageIndex)}async updateMode(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(hn(this,rs)!==t&&(!hn(this,bs)||(await hn(this,bs).promise,hn(this,bs)))){var o,l;if(pn(this,bs,Promise.withResolvers()),null===(e=hn(this,Nr))||void 0===e||e.commitOrRemove(),hn(this,rs)===si.POPUP)null===(o=hn(this,Lr))||void 0===o||o.hideSidebar();if(null===(n=hn(this,Lr))||void 0===n||n.destroyPopup(),pn(this,rs,t),t===si.NONE){var c;this.setEditingState(!1),cn(this,Ns,io).call(this);for(const t of hn(this,Cr).values())t.hideStandaloneCommentButton();return null===(c=this._editorUndoBar)||void 0===c||c.hide(),this.toggleComment(null),void hn(this,bs).resolve()}for(const t of hn(this,Cr).values())t.addStandaloneCommentButton();if(t===si.SIGNATURE)await(null===(l=hn(this,ls))||void 0===l?void 0:l.loadSignatures());this.setEditingState(!0),await cn(this,Is,no).call(this),this.unselectAll();for(const e of hn(this,Mr).values())e.updateMode(t);if(t===si.POPUP){var u;hn(this,Er)||pn(this,Er,await hn(this,hs).getAnnotationsByType(new Set(hn(this,Br).map((t=>t._editorType)))));const t=new Set,e=[];for(const n of hn(this,Cr).values()){const{annotationElementId:i,hasComment:a,deleted:r}=n;i&&t.add(i),a&&!r&&e.push(n.getData())}for(const n of hn(this,Er)){const{id:i,popupRef:a,contentsObj:r}=n;a&&null!==r&&void 0!==r&&r.str&&!t.has(i)&&!hn(this,Or).has(i)&&e.push(n)}null===(u=hn(this,Lr))||void 0===u||u.showSidebar(e)}if(!i)return a&&this.addNewEditorFromKeyboard(),void hn(this,bs).resolve();for(const t of hn(this,Cr).values())t.uid===i?(this.setSelected(t),s?t.editComment():r?t.enterInEditMode():t.focus()):t.unselect();hn(this,bs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==hn(this,rs)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(hn(this,Br)){switch(t){case oi.CREATE:return void this.currentLayer.addNewEditor(e);case oi.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(hn(this,us)||pn(this,us,new Map)).set(t,e),this.showAllEditors("highlight",e)}if(this.hasSelection)for(const n of hn(this,ss))n.updateParams(t,e);else for(const n of hn(this,Br))n.updateDefaultParams(t,e)}}showAllEditors(t,e){var n,i;for(const a of hn(this,Cr).values())a.editorType===t&&a.show(e);(null===(n=null===(i=hn(this,us))||void 0===i?void 0:i.get(oi.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==e&&cn(this,Ls,eo).call(this,[[oi.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(hn(this,Zr)!==t){pn(this,Zr,t);for(const e of hn(this,Mr).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}*getEditors(t){for(const e of hn(this,Cr).values())e.pageIndex===t&&(yield e)}getEditor(t){return hn(this,Cr).get(t)}addEditor(t){hn(this,Cr).set(t.id,t)}removeEditor(t){var e,n;(t.div.contains(document.activeElement)&&(hn(this,Gr)&&clearTimeout(hn(this,Gr)),pn(this,Gr,setTimeout((()=>{this.focusMainContainer(),pn(this,Gr,null)}),0))),hn(this,Cr).delete(t.id),t.annotationElementId)&&(null===(e=hn(this,is))||void 0===e||e.delete(t.annotationElementId));(this.unselect(t),t.annotationElementId&&hn(this,Or).has(t.annotationElementId))||(null===(n=hn(this,Pr))||void 0===n||n.remove(t.id))}addDeletedAnnotationElement(t){hn(this,Or).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return hn(this,Or).has(t)}removeDeletedAnnotationElement(t){hn(this,Or).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){hn(this,_r)!==t&&(pn(this,_r,t),t&&cn(this,Ls,eo).call(this,t.propertiesToUpdate))}updateUI(t){hn(this,Os)===t&&cn(this,Ls,eo).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){cn(this,Ls,eo).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(hn(this,ss).has(t))return hn(this,ss).delete(t),t.unselect(),void cn(this,Ds,to).call(this,{hasSelectedEditor:this.hasSelection});hn(this,ss).add(t),t.select(),cn(this,Ls,eo).call(this,t.propertiesToUpdate),cn(this,Ds,to).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),null===(e=hn(this,Nr))||void 0===e||e.commitOrRemove();for(const n of hn(this,ss))n!==t&&n.unselect();hn(this,ss).clear(),hn(this,ss).add(t),t.select(),cn(this,Ls,eo).call(this,t.propertiesToUpdate),cn(this,Ds,to).call(this,{hasSelectedEditor:!0})}isSelected(t){return hn(this,ss).has(t)}get firstSelectedEditor(){return hn(this,ss).values().next().value}unselect(t){t.unselect(),hn(this,ss).delete(t),cn(this,Ds,to).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==hn(this,ss).size}get isEnterHandled(){return 1===hn(this,ss).size&&this.firstSelectedEditor.isEnterHandled}undo(){var t;hn(this,Dr).undo(),cn(this,Ds,to).call(this,{hasSomethingToUndo:hn(this,Dr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:cn(this,Ws,so).call(this)}),null===(t=this._editorUndoBar)||void 0===t||t.hide()}redo(){hn(this,Dr).redo(),cn(this,Ds,to).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:hn(this,Dr).hasSomethingToRedo(),isEmpty:cn(this,Ws,so).call(this)})}addCommands(t){hn(this,Dr).add(t),cn(this,Ds,to).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:cn(this,Ws,so).call(this)})}cleanUndoStack(t){hn(this,Dr).cleanType(t)}delete(){var t;this.commitOrRemove();const e=null===(t=this.currentLayer)||void 0===t?void 0:t.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...hn(this,ss)],i=()=>{for(const t of n)cn(this,Fs,ao).call(this,t)};this.addCommands({cmd:()=>{var t;null===(t=this._editorUndoBar)||void 0===t||t.show(i,1===n.length?n[0].editorType:n.length);for(const e of n)e.remove()},undo:i,mustExec:!0})}commitOrRemove(){var t;null===(t=hn(this,_r))||void 0===t||t.commitOrRemove()}hasSomethingToControl(){return hn(this,_r)||this.hasSelection}selectAll(){for(const t of hn(this,ss))t.commit();cn(this,Bs,oo).call(this,hn(this,Cr).values())}unselectAll(){var t;if((!hn(this,_r)||(hn(this,_r).commitOrRemove(),hn(this,rs)===si.NONE))&&(null===(t=hn(this,Nr))||void 0===t||!t.commitOrRemove())&&this.hasSelection){for(const t of hn(this,ss))t.unselect();hn(this,ss).clear(),cn(this,Ds,to).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;hn(this,ps)[0]+=t,hn(this,ps)[1]+=e;const[n,i]=hn(this,ps),a=[...hn(this,ss)];hn(this,fs)&&clearTimeout(hn(this,fs)),pn(this,fs,setTimeout((()=>{pn(this,fs,null),hn(this,ps)[0]=hn(this,ps)[1]=0,this.addCommands({cmd:()=>{for(const t of a)hn(this,Cr).has(t.id)&&(t.translateInPage(n,i),t.translationDone())},undo:()=>{for(const t of a)hn(this,Cr).has(t.id)&&(t.translateInPage(-n,-i),t.translationDone())},mustExec:!1})}),1e3));for(const r of a)r.translateInPage(t,e),r.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),pn(this,Wr,new Map);for(const t of hn(this,ss))hn(this,Wr).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!hn(this,Wr))return!1;this.disableUserSelect(!1);const t=hn(this,Wr);pn(this,Wr,null);let e=!1;for(const[{x:i,y:a,pageIndex:r},s]of t)s.newX=i,s.newY=a,s.newPageIndex=r,e||(e=i!==s.savedX||a!==s.savedY||r!==s.savedPageIndex);if(!e)return!1;const n=(t,e,n,i)=>{if(hn(this,Cr).has(t.id)){const a=hn(this,Mr).get(i);a?t._setParentAndPosition(a,e,n):(t.pageIndex=i,t.x=e,t.y=n)}};return this.addCommands({cmd:()=>{for(const[e,{newX:i,newY:a,newPageIndex:r}]of t)n(e,i,a,r)},undo:()=>{for(const[e,{savedX:i,savedY:a,savedPageIndex:r}]of t)n(e,i,a,r)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(hn(this,Wr))for(const n of hn(this,Wr).keys())n.drag(t,e)}rebuild(t){if(null===t.parent){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return(null===(t=this.getActive())||void 0===t?void 0:t.shouldGetKeyboardEvents())||1===hn(this,ss).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return hn(this,_r)===t}getActive(){return hn(this,_r)}getMode(){return hn(this,rs)}isEditingMode(){return hn(this,rs)!==si.NONE}get imageManager(){return Fi(this,"imageManager",new pr)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,c=e.rangeCount;l<c;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:a,height:r}=t.getBoundingClientRect();let s;switch(t.getAttribute("data-main-rotation")){case"90":s=(t,e,s,o)=>({x:(e-i)/r,y:1-(t+s-n)/a,width:o/r,height:s/a});break;case"180":s=(t,e,s,o)=>({x:1-(t+s-n)/a,y:1-(e+o-i)/r,width:s/a,height:o/r});break;case"270":s=(t,e,s,o)=>({x:1-(e+o-i)/r,y:(t-n)/a,width:o/r,height:s/a});break;default:s=(t,e,s,o)=>({x:(t-n)/a,y:(e-i)/r,width:s/a,height:o/r})}const o=[];for(let l=0,c=e.rangeCount;l<c;l++){const t=e.getRangeAt(l);if(!t.collapsed)for(const{x:e,y:n,width:i,height:a}of t.getClientRects())0!==i&&0!==a&&o.push(s(e,n,i,a))}return 0===o.length?null:o}addChangedExistingAnnotation(t){let{annotationElementId:e,id:n}=t;(hn(this,Rr)||pn(this,Rr,new Map)).set(e,n)}removeChangedExistingAnnotation(t){var e;let{annotationElementId:n}=t;null===(e=hn(this,Rr))||void 0===e||e.delete(n)}renderAnnotationElement(t){var e;const n=null===(e=hn(this,Rr))||void 0===e?void 0:e.get(t.data.id);if(!n)return;const i=hn(this,Pr).getRawValue(n);i&&(hn(this,rs)!==si.NONE||i.hasBeenModified)&&i.renderAnnotationElement(t)}setMissingCanvas(t,e,n){var i;const a=null===(i=hn(this,is))||void 0===i?void 0:i.get(t);a&&(a.setCanvas(e,n),hn(this,is).delete(t))}addMissingCanvas(t,e){(hn(this,is)||pn(this,is,new Map)).set(t,e)}}function zs(t){let{anchorNode:e}=t;return e.nodeType===Node.TEXT_NODE?e.parentElement:e}function Us(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of hn(this,Mr).values())if(n.hasTextLayer(t))return n;return null}function Hs(){const t=document.getSelection();if(!t||t.isCollapsed)return;const e=cn(this,ws,zs).call(this,t).closest(".textLayer"),n=this.getSelectionBoxes(e);n&&(hn(this,Kr)||pn(this,Kr,new nr(this)),hn(this,Kr).show(e,n,"ltr"===this.direction))}function Vs(){var t;const e=document.getSelection();if(!e||e.isCollapsed){var n;if(hn(this,os))null===(n=hn(this,Kr))||void 0===n||n.hide(),pn(this,os,null),cn(this,Ds,to).call(this,{hasSelectedText:!1});return}const{anchorNode:i}=e;if(i===hn(this,os))return;const a=cn(this,ws,zs).call(this,e).closest(".textLayer");var r;if(a){if(null===(t=hn(this,Kr))||void 0===t||t.hide(),pn(this,os,i),cn(this,Ds,to).call(this,{hasSelectedText:!0}),(hn(this,rs)===si.HIGHLIGHT||hn(this,rs)===si.NONE)&&(hn(this,rs)===si.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),pn(this,Yr,this.isShiftKeyDown),!this.isShiftKeyDown)){const t=hn(this,rs)===si.HIGHLIGHT?cn(this,ys,Us).call(this,a):null;if(null===t||void 0===t||t.toggleDrawing(),hn(this,$r)){const e=new AbortController,n=this.combinedSignal(e),i=n=>{"pointerup"===n.type&&0!==n.button||(e.abort(),null===t||void 0===t||t.toggleDrawing(!0),"pointerup"===n.type&&cn(this,Ss,Gs).call(this,"main_toolbar"))};window.addEventListener("pointerup",i,{signal:n}),window.addEventListener("blur",i,{signal:n})}else null===t||void 0===t||t.toggleDrawing(!0),cn(this,Ss,Gs).call(this,"main_toolbar")}}else hn(this,os)&&(null===(r=hn(this,Kr))||void 0===r||r.hide(),pn(this,os,null),cn(this,Ds,to).call(this,{hasSelectedText:!1}))}function Gs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";hn(this,rs)===si.HIGHLIGHT?this.highlightSelection(t):hn(this,zr)&&cn(this,ks,Hs).call(this)}function qs(){document.addEventListener("selectionchange",cn(this,As,Vs).bind(this),{signal:this._signal})}function Xs(){if(hn(this,qr))return;pn(this,qr,new AbortController);const t=this.combinedSignal(hn(this,qr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}function Ys(){var t;null===(t=hn(this,qr))||void 0===t||t.abort(),pn(this,qr,null)}function Ks(){if(hn(this,ts))return;pn(this,ts,new AbortController);const t=this.combinedSignal(hn(this,ts));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}function Qs(){var t;null===(t=hn(this,ts))||void 0===t||t.abort(),pn(this,ts,null)}function Js(){if(hn(this,Ir))return;pn(this,Ir,new AbortController);const t=this.combinedSignal(hn(this,Ir));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}function $s(){var t;null===(t=hn(this,Ir))||void 0===t||t.abort(),pn(this,Ir,null)}function Zs(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}function to(t){Object.entries(t).some((t=>{let[e,n]=t;return hn(this,ds)[e]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(hn(this,ds),t)}),hn(this,rs)===si.HIGHLIGHT&&!1===t.hasSelectedEditor&&cn(this,Ls,eo).call(this,[[oi.HIGHLIGHT_FREE,!0]]))}function eo(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}async function no(){if(!hn(this,Jr)){pn(this,Jr,!0);const t=[];for(const e of hn(this,Mr).values())t.push(e.enable());await Promise.all(t);for(const e of hn(this,Cr).values())e.enable()}}function io(){if(this.unselectAll(),hn(this,Jr)){pn(this,Jr,!1);for(const t of hn(this,Mr).values())t.disable();for(const t of hn(this,Cr).values())t.disable()}}function ao(t){const e=hn(this,Mr).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}function ro(){let t=null;for(t of hn(this,ss));return t}function so(){if(0===hn(this,Cr).size)return!0;if(1===hn(this,Cr).size)for(const t of hn(this,Cr).values())return t.isEmpty();return!1}function oo(t){for(const e of hn(this,ss))e.unselect();hn(this,ss).clear();for(const e of t)e.isEmpty()||(hn(this,ss).add(e),e.select());cn(this,Ds,to).call(this,{hasSelectedEditor:this.hasSelection})}yn(js,"TRANSLATE_SMALL",1),yn(js,"TRANSLATE_BIG",10);var lo=new WeakMap,co=new WeakMap,uo=new WeakMap,ho=new WeakMap,po=new WeakMap,fo=new WeakMap,go=new WeakMap,mo=new WeakMap,vo=new WeakMap,bo=new WeakMap,wo=new WeakMap,yo=new WeakMap,ko=new WeakMap,Ao=new WeakSet;class So{constructor(t){on(this,Ao),ln(this,ko,{get:xo,set:void 0}),ln(this,lo,{writable:!0,value:null}),ln(this,co,{writable:!0,value:!1}),ln(this,uo,{writable:!0,value:null}),ln(this,ho,{writable:!0,value:null}),ln(this,po,{writable:!0,value:null}),ln(this,fo,{writable:!0,value:null}),ln(this,go,{writable:!0,value:!1}),ln(this,mo,{writable:!0,value:null}),ln(this,vo,{writable:!0,value:null}),ln(this,bo,{writable:!0,value:null}),ln(this,wo,{writable:!0,value:null}),ln(this,yo,{writable:!0,value:!1}),pn(this,vo,t),pn(this,yo,t._uiManager.useNewAltTextFlow),vn(So,So,Eo)||mn(So,So,Eo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){var e;null!==(e=So._l10n)&&void 0!==e||(So._l10n=t)}async render(){const t=pn(this,uo,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=pn(this,ho,document.createElement("span"));t.append(e),hn(this,yo)?(t.classList.add("new"),t.setAttribute("data-l10n-id",vn(So,So,Eo).missing),e.setAttribute("data-l10n-id",vn(So,So,Eo)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=hn(this,vo)._uiManager._signal;t.addEventListener("contextmenu",fa,{signal:n}),t.addEventListener("pointerdown",(t=>t.stopPropagation()),{signal:n});const i=t=>{t.preventDefault(),hn(this,vo)._uiManager.editAltText(hn(this,vo)),hn(this,yo)&&hn(this,vo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:hn(this,ko)}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(pn(this,go,!0),i(e))}),{signal:n}),await cn(this,Ao,_o).call(this),t}finish(){hn(this,uo)&&(hn(this,uo).focus({focusVisible:hn(this,go)}),pn(this,go,!1))}isEmpty(){return hn(this,yo)?null===hn(this,lo):!hn(this,lo)&&!hn(this,co)}hasData(){return hn(this,yo)?null!==hn(this,lo)||!!hn(this,bo):this.isEmpty()}get guessedText(){return hn(this,bo)}async setGuessedText(t){null===hn(this,lo)&&(pn(this,bo,t),pn(this,wo,await So._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),cn(this,Ao,_o).call(this))}toggleAltTextBadge(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;if(!hn(this,yo)||hn(this,lo))return null===(e=hn(this,mo))||void 0===e||e.remove(),void pn(this,mo,null);if(!hn(this,mo)){const t=pn(this,mo,document.createElement("div"));t.className="noAltTextBadge",hn(this,vo).div.append(t)}hn(this,mo).classList.toggle("hidden",!t)}serialize(t){let e=hn(this,lo);return t||hn(this,bo)!==e||(e=hn(this,wo)),{altText:e,decorative:hn(this,co),guessedText:hn(this,bo),textWithDisclaimer:hn(this,wo)}}get data(){return{altText:hn(this,lo),decorative:hn(this,co)}}set data(t){let{altText:e,decorative:n,guessedText:i,textWithDisclaimer:a,cancel:r=!1}=t;i&&(pn(this,bo,i),pn(this,wo,a)),hn(this,lo)===e&&hn(this,co)===n||(r||(pn(this,lo,e),pn(this,co,n)),cn(this,Ao,_o).call(this))}toggle(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];hn(this,uo)&&(!t&&hn(this,fo)&&(clearTimeout(hn(this,fo)),pn(this,fo,null)),hn(this,uo).disabled=!t)}shown(){hn(this,vo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:hn(this,ko)}})}destroy(){var t,e;null===(t=hn(this,uo))||void 0===t||t.remove(),pn(this,uo,null),pn(this,ho,null),pn(this,po,null),null===(e=hn(this,mo))||void 0===e||e.remove(),pn(this,mo,null)}}function xo(){return(hn(this,lo)?"added":null===hn(this,lo)&&this.guessedText&&"review")||"missing"}async function _o(){const t=hn(this,uo);if(!t)return;if(hn(this,yo)){var e,n;if(t.classList.toggle("done",!!hn(this,lo)),t.setAttribute("data-l10n-id",vn(Tn,Tn,Eo)[hn(this,ko)]),null===(e=hn(this,ho))||void 0===e||e.setAttribute("data-l10n-id",vn(Tn,Tn,Eo)["".concat(hn(this,ko),"-label")]),!hn(this,lo))return void(null===(n=hn(this,po))||void 0===n||n.remove())}else{var i;if(!hn(this,lo)&&!hn(this,co))return t.classList.remove("done"),void(null===(i=hn(this,po))||void 0===i||i.remove());t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let a=hn(this,po);if(!a){pn(this,po,a=document.createElement("span")),a.className="tooltip",a.setAttribute("role","tooltip"),a.id="alt-text-tooltip-".concat(hn(this,vo).id);const e=100,n=hn(this,vo)._uiManager._signal;n.addEventListener("abort",(()=>{clearTimeout(hn(this,fo)),pn(this,fo,null)}),{once:!0}),t.addEventListener("mouseenter",(()=>{pn(this,fo,setTimeout((()=>{pn(this,fo,null),hn(this,po).classList.add("show"),hn(this,vo)._reportTelemetry({action:"alt_text_tooltip"})}),e))}),{signal:n}),t.addEventListener("mouseleave",(()=>{var t;hn(this,fo)&&(clearTimeout(hn(this,fo)),pn(this,fo,null)),null===(t=hn(this,po))||void 0===t||t.classList.remove("show")}),{signal:n})}hn(this,co)?a.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(a.removeAttribute("data-l10n-id"),a.textContent=hn(this,lo)),a.parentNode||t.append(a);const r=hn(this,vo).getElementForAltText();null===r||void 0===r||r.setAttribute("aria-describedby",a.id)}Tn=So;var Eo={writable:!0,value:null};yn(So,"_l10n",null);var Co=new WeakMap,Mo=new WeakMap,To=new WeakMap,Po=new WeakMap,Ro=new WeakMap,Do=new WeakMap,Lo=new WeakMap,Io=new WeakMap,No=new WeakMap,Fo=new WeakMap,Oo=new WeakSet;class Wo{constructor(t){on(this,Oo),ln(this,Co,{writable:!0,value:null}),ln(this,Mo,{writable:!0,value:null}),ln(this,To,{writable:!0,value:!1}),ln(this,Po,{writable:!0,value:null}),ln(this,Ro,{writable:!0,value:null}),ln(this,Do,{writable:!0,value:null}),ln(this,Lo,{writable:!0,value:null}),ln(this,Io,{writable:!0,value:null}),ln(this,No,{writable:!0,value:!1}),ln(this,Fo,{writable:!0,value:null}),pn(this,Po,t)}renderForToolbar(){const t=pn(this,Mo,document.createElement("button"));return t.className="comment",cn(this,Oo,Bo).call(this,t,!1)}renderForStandalone(){const t=pn(this,Co,document.createElement("button"));t.className="annotationCommentButton";const e=hn(this,Po).commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd="calc(".concat(100*("ltr"===hn(this,Po)._uiManager.direction?1-e[0]:e[0]),"% - var(--comment-button-dim))"),n.top="calc(".concat(100*e[1],"% - var(--comment-button-dim))");const i=hn(this,Po).commentButtonColor;i&&(n.backgroundColor=i)}return cn(this,Oo,Bo).call(this,t,!0)}focusButton(){setTimeout((()=>{var t,e;null===(t=null!==(e=hn(this,Co))&&void 0!==e?e:hn(this,Mo))||void 0===t||t.focus()}),0)}onUpdatedColor(){if(!hn(this,Co))return;const t=hn(this,Po).commentButtonColor;t&&(hn(this,Co).style.backgroundColor=t),hn(this,Po)._uiManager.updatePopupColor(hn(this,Po))}get commentButtonWidth(){var t,e;return(null!==(t=null===(e=hn(this,Co))||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==t?t:0)/hn(this,Po).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(hn(this,Fo))return hn(this,Fo);if(!hn(this,Co))return null;const{x:t,y:e,height:n}=hn(this,Co).getBoundingClientRect(),{x:i,y:a,width:r,height:s}=hn(this,Po).parent.boundingClientRect;return[(t-i)/r,(e+n-a)/s]}set commentPopupPositionInLayer(t){pn(this,Fo,t)}hasDefaultPopupPosition(){return null===hn(this,Fo)}removeStandaloneCommentButton(){var t;null===(t=hn(this,Co))||void 0===t||t.remove(),pn(this,Co,null)}removeToolbarCommentButton(){var t;null===(t=hn(this,Mo))||void 0===t||t.remove(),pn(this,Mo,null)}setCommentButtonStates(t){let{selected:e,hasPopup:n}=t;hn(this,Co)&&(hn(this,Co).classList.toggle("selected",e),hn(this,Co).ariaExpanded=n)}edit(t){const e=this.commentPopupPositionInLayer;let n,i;if(e)[n,i]=e;else{[n,i]=hn(this,Po).commentButtonPosition;const{width:t,height:e,x:a,y:r}=hn(this,Po);n=a+n*t,i=r+i*e}const a=hn(this,Po).parent.boundingClientRect,{x:r,y:s,width:o,height:l}=a;hn(this,Po)._uiManager.editComment(hn(this,Po),r+n*o,s+i*l,{...t,parentDimensions:a})}finish(){hn(this,Mo)&&(hn(this,Mo).focus({focusVisible:hn(this,To)}),pn(this,To,!1))}isDeleted(){return hn(this,No)||""===hn(this,Lo)}isEmpty(){return null===hn(this,Lo)}hasBeenEdited(){return this.isDeleted()||hn(this,Lo)!==hn(this,Ro)}serialize(){return this.data}get data(){return{text:hn(this,Lo),richText:hn(this,Do),date:hn(this,Io),deleted:this.isDeleted()}}set data(t){if(t!==hn(this,Lo)&&pn(this,Do,null),null===t)return pn(this,Lo,""),void pn(this,No,!0);pn(this,Lo,t),pn(this,Io,new Date),pn(this,No,!1)}setInitialText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;pn(this,Ro,t),this.data=t,pn(this,Io,null),pn(this,Do,e)}shown(){}destroy(){var t,e;null===(t=hn(this,Mo))||void 0===t||t.remove(),pn(this,Mo,null),null===(e=hn(this,Co))||void 0===e||e.remove(),pn(this,Co,null),pn(this,Lo,""),pn(this,Do,null),pn(this,Io,null),pn(this,Po,null),pn(this,To,!1),pn(this,No,!1)}}function Bo(t,e){if(!hn(this,Po)._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[hn(this,Po)._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=hn(this,Po)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",fa,{signal:n}),e&&(t.addEventListener("focusin",(t=>{hn(this,Po)._focusEventsAllowed=!1,ga(t)}),{capture:!0,signal:n}),t.addEventListener("focusout",(t=>{hn(this,Po)._focusEventsAllowed=!0,ga(t)}),{capture:!0,signal:n})),t.addEventListener("pointerdown",(t=>t.stopPropagation()),{signal:n});const i=e=>{e.preventDefault(),t===hn(this,Mo)?this.edit():hn(this,Po).toggleComment(!0)};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(pn(this,To,!0),i(e))}),{signal:n}),t.addEventListener("pointerenter",(()=>{hn(this,Po).toggleComment(!1,!0)}),{signal:n}),t.addEventListener("pointerleave",(()=>{hn(this,Po).toggleComment(!1,!1)}),{signal:n}),t}var jo=new WeakMap,zo=new WeakMap,Uo=new WeakMap,Ho=new WeakMap,Vo=new WeakMap,Go=new WeakMap,qo=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,Ko=new WeakMap,Qo=new WeakMap,Jo=new WeakMap,$o=new WeakSet,Zo=new WeakSet,tl=new WeakSet;class el{constructor(t){let{container:e,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:r=null,onPinchEnd:s=null,signal:o}=t;on(this,tl),on(this,Zo),on(this,$o),ln(this,jo,{writable:!0,value:void 0}),ln(this,zo,{writable:!0,value:!1}),ln(this,Uo,{writable:!0,value:null}),ln(this,Ho,{writable:!0,value:void 0}),ln(this,Vo,{writable:!0,value:void 0}),ln(this,Go,{writable:!0,value:void 0}),ln(this,qo,{writable:!0,value:void 0}),ln(this,Xo,{writable:!0,value:null}),ln(this,Yo,{writable:!0,value:void 0}),ln(this,Ko,{writable:!0,value:null}),ln(this,Qo,{writable:!0,value:void 0}),ln(this,Jo,{writable:!0,value:null}),pn(this,jo,e),pn(this,Uo,i),pn(this,Ho,n),pn(this,Vo,a),pn(this,Go,r),pn(this,qo,s),pn(this,Qo,new AbortController),pn(this,Yo,AbortSignal.any([o,hn(this,Qo).signal])),e.addEventListener("touchstart",cn(this,$o,nl).bind(this),{passive:!1,signal:hn(this,Yo)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Aa.pixelRatio}destroy(){var t,e;null===(t=hn(this,Qo))||void 0===t||t.abort(),pn(this,Qo,null),null===(e=hn(this,Xo))||void 0===e||e.abort(),pn(this,Xo,null)}}function nl(t){var e,n;if(null!==(e=hn(this,Ho))&&void 0!==e&&e.call(this))return;if(1===t.touches.length){if(hn(this,Xo))return;const t=pn(this,Xo,new AbortController),e=AbortSignal.any([hn(this,Yo),t.signal]),n=hn(this,jo),i={capture:!0,signal:e,passive:!1},a=t=>{var e;"touch"===t.pointerType&&(null===(e=hn(this,Xo))||void 0===e||e.abort(),pn(this,Xo,null))};return n.addEventListener("pointerdown",(t=>{"touch"===t.pointerType&&(ga(t),a(t))}),i),n.addEventListener("pointerup",a,i),void n.addEventListener("pointercancel",a,i)}if(!hn(this,Jo)){var i;pn(this,Jo,new AbortController);const t=AbortSignal.any([hn(this,Yo),hn(this,Jo).signal]),e=hn(this,jo),n={signal:t,capture:!1,passive:!1};e.addEventListener("touchmove",cn(this,Zo,il).bind(this),n);const a=cn(this,tl,al).bind(this);e.addEventListener("touchend",a,n),e.addEventListener("touchcancel",a,n),n.capture=!0,e.addEventListener("pointerdown",ga,n),e.addEventListener("pointermove",ga,n),e.addEventListener("pointercancel",ga,n),e.addEventListener("pointerup",ga,n),null===(i=hn(this,Vo))||void 0===i||i.call(this)}if(ga(t),2!==t.touches.length||null!==(n=hn(this,Uo))&&void 0!==n&&n.call(this))return void pn(this,Ko,null);let[a,r]=t.touches;a.identifier>r.identifier&&([a,r]=[r,a]),pn(this,Ko,{touch0X:a.screenX,touch0Y:a.screenY,touch1X:r.screenX,touch1Y:r.screenY})}function il(t){var e;if(!hn(this,Ko)||2!==t.touches.length)return;ga(t);let[n,i]=t.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:a,screenY:r}=n,{screenX:s,screenY:o}=i,l=hn(this,Ko),{touch0X:c,touch0Y:u,touch1X:h,touch1Y:d}=l,p=h-c,f=d-u,g=s-a,m=o-r,v=Math.hypot(g,m)||1,b=Math.hypot(p,f)||1;if(!hn(this,zo)&&Math.abs(b-v)<=Pn.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=a,l.touch0Y=r,l.touch1X=s,l.touch1Y=o,!hn(this,zo))return void pn(this,zo,!0);const w=[(a+s)/2,(r+o)/2];null===(e=hn(this,Go))||void 0===e||e.call(this,w,b,v)}function al(t){if(!(t.touches.length>=2)){var e;if(hn(this,Jo))hn(this,Jo).abort(),pn(this,Jo,null),null===(e=hn(this,qo))||void 0===e||e.call(this);hn(this,Ko)&&(ga(t),pn(this,Ko,null),pn(this,zo,!1))}}Pn=el;var rl=new WeakMap,sl=new WeakMap,ol=new WeakMap,ll=new WeakMap,cl=new WeakMap,ul=new WeakMap,hl=new WeakMap,dl=new WeakMap,pl=new WeakMap,fl=new WeakMap,gl=new WeakMap,ml=new WeakMap,vl=new WeakMap,bl=new WeakMap,wl=new WeakMap,yl=new WeakMap,kl=new WeakMap,Al=new WeakMap,Sl=new WeakMap,xl=new WeakMap,_l=new WeakMap,El=new WeakMap,Cl=new WeakMap,Ml=new WeakMap,Tl=new WeakMap,Pl=new WeakMap,Rl=new WeakSet,Dl=new WeakSet,Ll=new WeakSet,Il=new WeakSet,Nl=new WeakSet,Fl=new WeakSet,Ol=new WeakSet,Wl=new WeakSet,Bl=new WeakSet,jl=new WeakSet,zl=new WeakSet,Ul=new WeakSet,Hl=new WeakSet,Vl=new WeakSet,Gl=new WeakSet,ql=new WeakSet,Xl=new WeakSet,Yl=new WeakSet;class Kl{static get _resizerKeyboardManager(){const t=Kl.prototype._resizeWithKeyboard,e=js.TRANSLATE_SMALL,n=js.TRANSLATE_BIG;return Fi(this,"_resizerKeyboardManager",new kr([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Kl.prototype._stopResizingWithKeyboard]]))}constructor(t){on(this,Yl),on(this,Xl),on(this,ql),on(this,Gl),on(this,Vl),on(this,Hl),on(this,Ul),on(this,zl),on(this,jl),on(this,Bl),on(this,Wl),on(this,Ol),on(this,Fl),on(this,Nl),on(this,Il),on(this,Ll),on(this,Dl),on(this,Rl),ln(this,rl,{writable:!0,value:null}),ln(this,sl,{writable:!0,value:null}),ln(this,ol,{writable:!0,value:null}),ln(this,ll,{writable:!0,value:null}),ln(this,cl,{writable:!0,value:null}),ln(this,ul,{writable:!0,value:!1}),ln(this,hl,{writable:!0,value:null}),ln(this,dl,{writable:!0,value:""}),ln(this,pl,{writable:!0,value:null}),ln(this,fl,{writable:!0,value:null}),ln(this,gl,{writable:!0,value:null}),ln(this,ml,{writable:!0,value:null}),ln(this,vl,{writable:!0,value:null}),ln(this,bl,{writable:!0,value:""}),ln(this,wl,{writable:!0,value:!1}),ln(this,yl,{writable:!0,value:null}),ln(this,kl,{writable:!0,value:!1}),ln(this,Al,{writable:!0,value:!1}),ln(this,Sl,{writable:!0,value:!1}),ln(this,xl,{writable:!0,value:null}),ln(this,_l,{writable:!0,value:0}),ln(this,El,{writable:!0,value:0}),ln(this,Cl,{writable:!0,value:null}),ln(this,Ml,{writable:!0,value:null}),yn(this,"isSelected",!1),yn(this,"_isCopy",!1),yn(this,"_editToolbar",null),yn(this,"_initialOptions",Object.create(null)),yn(this,"_initialData",null),yn(this,"_isVisible",!0),yn(this,"_uiManager",null),yn(this,"_focusEventsAllowed",!0),ln(this,Tl,{writable:!0,value:!1}),ln(this,Pl,{writable:!0,value:Kl._zIndex++}),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:r}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[a,r];const[s,o]=this.parentDimensions;this.x=t.x/s,this.y=t.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Fi(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new gc({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){var n;if(null!==(n=Kl._l10n)&&void 0!==n||(Kl._l10n=t),Kl._l10nResizer||(Kl._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==Kl._borderLineWidth)return;const i=getComputedStyle(document.documentElement);Kl._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Di("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return hn(this,Tl)}set _isDraggable(t){var e;pn(this,Tl,t),null===(e=this.div)||void 0===e||e.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=hn(this,Pl)}setParent(t){var e;null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(cn(this,Yl,fc).call(this),null===(e=hn(this,ml))||void 0===e||e.remove(),pn(this,ml,null));this.parent=t}focusin(t){this._focusEventsAllowed&&(hn(this,wl)?pn(this,wl,!1):this.parent.setSelected(this))}focusout(t){var e;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=t.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(t.preventDefault(),null!==(e=this.parent)&&void 0!==e&&e.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[a,r]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/a,this.y=(e+i)/r,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,i]=this.parentDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i),this._onTranslated()}translate(t,e){cn(this,Rl,Ql).call(this,this.parentDimensions,t,e)}translateInPage(t,e){hn(this,yl)||pn(this,yl,[this.x,this.y,this.width,this.height]),cn(this,Rl,Ql).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){hn(this,yl)||pn(this,yl,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,a]}=this;if(this.x+=t/i,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:t,y:e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,t,e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:s}=this;const[o,l]=this.getBaseTranslation();r+=o,s+=l;const{style:c}=n;c.left="".concat((100*r).toFixed(2),"%"),c.top="".concat((100*s).toFixed(2),"%"),this._onTranslating(r,s),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!hn(this,yl)&&(hn(this,yl)[0]!==this.x||hn(this,yl)[1]!==this.y)}get _hasBeenResized(){return!!hn(this,yl)&&(hn(this,yl)[2]!==this.width||hn(this,yl)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Kl,i=n/t,a=n/e;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:e},pageDimensions:[n,i]}=this;let{x:a,y:r,width:s,height:o}=this;if(s*=n,o*=i,a*=n,r*=i,this._mustFixPosition)switch(t){case 0:a=ea(a,0,n-s),r=ea(r,0,i-o);break;case 90:a=ea(a,0,n-o),r=ea(r,s,i);break;case 180:a=ea(a,s,n),r=ea(r,o,i);break;case 270:a=ea(a,o,n),r=ea(r,0,i-s)}this.x=a/=n,this.y=r/=i;const[l,c]=this.getBaseTranslation();a+=l,r+=c,e.left="".concat((100*a).toFixed(2),"%"),e.top="".concat((100*r).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(t,e){return kn(Kl,Kl,Jl).call(Kl,t,e,this.parentRotation)}pageTranslationToScreen(t,e){return kn(Kl,Kl,Jl).call(Kl,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width="".concat((100*e).toFixed(2),"%"),t.height="".concat((100*n).toFixed(2),"%")}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(1e4*t)/1e4}_onResizing(){}altTextFinish(){var t;null===(t=hn(this,ol))||void 0===t||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||hn(this,Al))return this._editToolbar;this._editToolbar=new Ha(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var t;null===(t=this._editToolbar)||void 0===t||t.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var t;null===(t=this._editToolbar)||void 0===t||t.removeButton("comment")}removeEditToolbar(){var t,e;null===(t=this._editToolbar)||void 0===t||t.remove(),this._editToolbar=null,null===(e=hn(this,ol))||void 0===e||e.destroy()}addContainer(t){var e;const n=null===(e=this._editToolbar)||void 0===e?void 0:e.div;n?n.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return hn(this,ol)||(So.initialize(Kl._l10n),pn(this,ol,new So(this)),hn(this,rl)&&(hn(this,ol).data=hn(this,rl),pn(this,rl,null))),hn(this,ol)}get altTextData(){var t;return null===(t=hn(this,ol))||void 0===t?void 0:t.data}set altTextData(t){hn(this,ol)&&(hn(this,ol).data=t)}get guessedAltText(){var t;return null===(t=hn(this,ol))||void 0===t?void 0:t.guessedText}async setGuessedAltText(t){var e;await(null===(e=hn(this,ol))||void 0===e?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return null===(e=hn(this,ol))||void 0===e?void 0:e.serialize(t)}hasAltText(){return!!hn(this,ol)&&!hn(this,ol).isEmpty()}hasAltTextData(){var t,e;return null!==(t=null===(e=hn(this,ol))||void 0===e?void 0:e.hasData())&&void 0!==t&&t}focusCommentButton(){var t;null===(t=hn(this,ll))||void 0===t||t.focusButton()}addCommentButton(){return hn(this,ll)||pn(this,ll,new Wo(this))}addStandaloneCommentButton(){hn(this,cl)?this._uiManager.isEditingMode()&&hn(this,cl).classList.remove("hidden"):this.hasComment&&(pn(this,cl,hn(this,ll).renderForStandalone()),this.div.append(hn(this,cl)))}removeStandaloneCommentButton(){hn(this,ll).removeStandaloneCommentButton(),pn(this,cl,null)}hideStandaloneCommentButton(){var t;null===(t=hn(this,cl))||void 0===t||t.classList.add("hidden")}get comment(){var t;const{data:{richText:e,text:n,date:i,deleted:a}}=hn(this,ll);return{text:n,richText:e,date:i,deleted:a,color:this.getNonHCMColor(),opacity:null!==(t=this.opacity)&&void 0!==t?t:1}}set comment(t){hn(this,ll)||pn(this,ll,new Wo(this)),hn(this,ll).data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData(t){let{comment:e,popupRef:n,richText:i}=t;if(!n)return;if(hn(this,ll)||pn(this,ll,new Wo(this)),hn(this,ll).setInitialText(e,i),!this.annotationElementId)return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){var t;return null===(t=hn(this,ll))||void 0===t?void 0:t.hasBeenEdited()}get hasDeletedComment(){var t;return null===(t=hn(this,ll))||void 0===t?void 0:t.isDeleted()}get hasComment(){return!!hn(this,ll)&&!hn(this,ll).isEmpty()&&!hn(this,ll).isDeleted()}async editComment(t){hn(this,ll)||pn(this,ll,new Wo(this)),hn(this,ll).edit(t)}toggleComment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){hn(this,ll).setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const e=180,n=100,[,,,i]=t.rect,[a]=this.pageDimensions,[r]=this.pageTranslation,s=r+a+1,o=i-n,l=s+e;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[s,o,l,i]}}}updateFromAnnotationLayer(t){let{popup:{contents:e,deleted:n}}=t;hn(this,ll).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var t;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=hn(this,ul)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),cn(this,Hl,cc).call(this);const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth="".concat((100*i/n).toFixed(2),"%"),e.style.maxHeight="".concat((100*n/i).toFixed(2),"%"));const[a,r]=this.getInitialTranslation();return this.translate(a,r),sr(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(hn(this,Ml)||pn(this,Ml,new el({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:cn(this,Wl,ac).bind(this),onPinching:cn(this,Bl,rc).bind(this),onPinchEnd:cn(this,jl,sc).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),null===(t=this._uiManager._editorUndoBar)||void 0===t||t.hide(),e}pointerdown(t){const{isMac:e}=qi.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():(pn(this,wl,!0),this._isDraggable?cn(this,Ul,lc).call(this,t):cn(this,zl,oc).call(this,t))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){hn(this,xl)&&clearTimeout(hn(this,xl)),pn(this,xl,setTimeout((()=>{var t;pn(this,xl,null),null===(t=this.parent)||void 0===t||t.moveEditorInDOM(this)}),0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[a,r]=this.pageDimensions,[s,o]=this.pageTranslation,l=t/i,c=e/i,u=this.x*a,h=this.y*r,d=this.width*a,p=this.height*r;switch(n){case 0:return[u+l+s,r-h-c-p+o,u+l+d+s,r-h-c+o];case 90:return[u+c+s,r-h+l+o,u+c+p+s,r-h+l+d+o];case 180:return[u-l-d+s,r-h+c+o,u-l+s,r-h+c+p+o];case 270:return[u-c-p+s,r-h-l-d+o,u-c+s,r-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,a,r]=t,s=a-n,o=r-i;switch(this.rotation){case 0:return[n,e-r,s,o];case 90:return[n,e-i,o,s];case 180:return[a,e-i,s,o];case 270:return[a,e-r,o,s];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Kl._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var t;null===(t=hn(this,ll))||void 0===t||t.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:i,deleted:a,richText:r},uid:s,pageIndex:o,creationDate:l,modificationDate:c}=this;return{id:s,pageIndex:o,rect:this.getPDFRect(),richText:r,contentsObj:{str:t},creationDate:l,modificationDate:n||c,popupRef:!a,color:e,opacity:i}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),pn(this,Al,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),pn(this,Al,!1),!0)}isInEditMode(){return hn(this,Al)}shouldGetKeyboardEvents(){return hn(this,Sl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:r}=window;return e<r&&i>0&&t<a&&n>0}rebuild(){cn(this,Hl,cc).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(t=this._initialData)||void 0===t?void 0:t.popupRef)||""}}serialize(){var t;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:(null===(t=this._initialData)||void 0===t?void 0:t.popupRef)||""}}static async deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});i.rotation=t.rotation,pn(i,rl,t.accessibilityData),i._isCopy=t.isCopy||!1;const[a,r]=i.pageDimensions,[s,o,l,c]=i.getRectInCurrentCoords(t.rect,r);return i.x=s/a,i.y=o/r,i.width=l/a,i.height=c/r,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var t,e;if(null===(t=hn(this,vl))||void 0===t||t.abort(),pn(this,vl,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),hn(this,xl)&&(clearTimeout(hn(this,xl)),pn(this,xl,null)),cn(this,Yl,fc).call(this),this.removeEditToolbar(),hn(this,Cl)){for(const t of hn(this,Cl).values())clearTimeout(t);pn(this,Cl,null)}this.parent=null,null===(e=hn(this,Ml))||void 0===e||e.destroy(),pn(this,Ml,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(cn(this,Ll,Zl).call(this),hn(this,pl).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return"ltr"===this._uiManager.direction?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,i,a,r]=this.getPDFRect();return[Kl._round(n+(a-n)*t),Kl._round(i+(r-i)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return hn(this,ll).commentPopupPositionInLayer}set commentPopupPosition(t){hn(this,ll).commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return hn(this,ll).hasDefaultPopupPosition()}get commentButtonWidth(){return hn(this,ll).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){hn(this,ll).setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),pn(this,gl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=hn(this,pl).children;if(!hn(this,sl)){pn(this,sl,Array.from(e));const t=cn(this,Vl,uc).bind(this),n=cn(this,Gl,hc).bind(this),i=this._uiManager._signal;for(const e of hn(this,sl)){const a=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",t,{signal:i}),e.addEventListener("blur",n,{signal:i}),e.addEventListener("focus",cn(this,ql,dc).bind(this,a),{signal:i}),e.setAttribute("data-l10n-id",Kl._l10nResizer[a])}}const n=hn(this,sl)[0];let i=0;for(const r of e){if(r===n)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(hn(this,sl).length/4);if(a!==i){if(a<i)for(let e=0;e<i-a;e++)hn(this,pl).append(hn(this,pl).firstChild);else if(a>i)for(let e=0;e<a-i;e++)hn(this,pl).firstChild.before(hn(this,pl).lastChild);let t=0;for(const n of e){const e=hn(this,sl)[t++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",Kl._l10nResizer[e])}}cn(this,Xl,pc).call(this,0),pn(this,Sl,!0),hn(this,pl).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){hn(this,Sl)&&cn(this,Ol,ic).call(this,hn(this,bl),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){cn(this,Yl,fc).call(this),this.div.focus()}select(){var t,e,n;this.isSelected&&this._editToolbar?this._editToolbar.show():(this.isSelected=!0,this.makeResizable(),null===(t=this.div)||void 0===t||t.classList.add("selectedEditor"),this._editToolbar?(null===(e=this._editToolbar)||void 0===e||e.show(),null===(n=hn(this,ol))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then((()=>{var t,e;null!==(t=this.div)&&void 0!==t&&t.classList.contains("selectedEditor")&&(null===(e=this._editToolbar)||void 0===e||e.show())})))}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout((()=>{var t;return null===(t=this.div)||void 0===t?void 0:t.focus({preventScroll:!0})}),0)}unselect(){var t,e,n,i,a;this.isSelected&&(this.isSelected=!1,null===(t=hn(this,pl))||void 0===t||t.classList.add("hidden"),null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(i=this._editToolbar)||void 0===i||i.hide(),null===(a=hn(this,ol))||void 0===a||a.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){"BUTTON"!==t.target.nodeName&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return hn(this,kl)}set isEditing(t){pn(this,kl,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){hn(this,Cl)||pn(this,Cl,new Map);const{action:e}=t;let n=hn(this,Cl).get(e);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(t),hn(this,Cl).delete(e),0===hn(this,Cl).size&&pn(this,Cl,null)}),Kl._telemetryTimeout),void hn(this,Cl).set(e,n)}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),pn(this,ul,!1)}disable(){this.div&&(this.div.tabIndex=-1),pn(this,ul,!0)}updateFakeAnnotationElement(t){if(hn(this,ml)||this.deleted)return this.deleted?(hn(this,ml).remove(),void pn(this,ml,null)):void((this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&hn(this,ml).updateEdited({rect:this.getPDFRect(),popup:this.comment}));pn(this,ml,t.addFakeAnnotation(this))}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const t=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}resetAnnotationElement(t){const{firstChild:e}=t.container;"DIV"===(null===e||void 0===e?void 0:e.nodeName)&&e.classList.contains("annotationContent")&&e.remove()}}function Ql(t,e,n){let[i,a]=t;[e,n]=this.screenToPageTranslation(e,n),this.x+=e/i,this.y+=n/a,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function Jl(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}function $l(t){switch(t){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}}function Zl(){if(hn(this,pl))return;pn(this,pl,document.createElement("div")),hn(this,pl).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const t=document.createElement("div");hn(this,pl).append(t),t.classList.add("resizer",n),t.setAttribute("data-resizer-name",n),t.addEventListener("pointerdown",cn(this,Il,tc).bind(this,n),{signal:e}),t.addEventListener("contextmenu",fa,{signal:e}),t.tabIndex=-1}this.div.prepend(hn(this,pl))}function tc(t,e){var n;e.preventDefault();const{isMac:i}=qi.platform;if(0!==e.button||e.ctrlKey&&i)return;null===(n=hn(this,ol))||void 0===n||n.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,pn(this,fl,[e.screenX,e.screenY]);const r=new AbortController,s=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",cn(this,Ol,ic).bind(this,t),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",ga,{passive:!1,signal:s}),window.addEventListener("contextmenu",fa,{signal:s}),pn(this,gl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{var t;r.abort(),this.parent.togglePointerEvents(!0),null===(t=hn(this,ol))||void 0===t||t.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=o,this.div.style.cursor=l,cn(this,Fl,nc).call(this)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}function ec(t,e,n,i){this.width=n,this.height=i,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}function nc(){if(!hn(this,gl))return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=hn(this,gl);pn(this,gl,null);const a=this.x,r=this.y,s=this.width,o=this.height;a===t&&r===e&&s===n&&o===i||this.addCommands({cmd:cn(this,Nl,ec).bind(this,a,r,s,o),undo:cn(this,Nl,ec).bind(this,t,e,n,i),mustExec:!0})}function ic(t,e){const[n,i]=this.parentDimensions,a=this.x,r=this.y,s=this.width,o=this.height,l=Rn.MIN_SIZE/n,c=Rn.MIN_SIZE/i,u=cn(this,Dl,$l).call(this,this.rotation),h=(t,e)=>[u[0]*t+u[2]*e,u[1]*t+u[3]*e],d=cn(this,Dl,$l).call(this,360-this.rotation);let p,f,g=!1,m=!1;switch(t){case"topLeft":g=!0,p=(t,e)=>[0,0],f=(t,e)=>[t,e];break;case"topMiddle":p=(t,e)=>[t/2,0],f=(t,e)=>[t/2,e];break;case"topRight":g=!0,p=(t,e)=>[t,0],f=(t,e)=>[0,e];break;case"middleRight":m=!0,p=(t,e)=>[t,e/2],f=(t,e)=>[0,e/2];break;case"bottomRight":g=!0,p=(t,e)=>[t,e],f=(t,e)=>[0,0];break;case"bottomMiddle":p=(t,e)=>[t/2,e],f=(t,e)=>[t/2,0];break;case"bottomLeft":g=!0,p=(t,e)=>[0,e],f=(t,e)=>[t,0];break;case"middleLeft":m=!0,p=(t,e)=>[0,e/2],f=(t,e)=>[t,e/2]}const v=p(s,o),b=f(s,o);let w=h(...b);const y=Rn._round(a+w[0]),k=Rn._round(r+w[1]);let A,S,x=1,_=1;if(e.fromKeyboard)({deltaX:A,deltaY:S}=e);else{const{screenX:t,screenY:n}=e,[i,a]=hn(this,fl);[A,S]=this.screenToPageTranslation(t-i,n-a),hn(this,fl)[0]=t,hn(this,fl)[1]=n}var E,C;if([A,S]=(E=A/n,C=S/i,[d[0]*E+d[2]*C,d[1]*E+d[3]*C]),g){const t=Math.hypot(s,o);x=_=Math.max(Math.min(Math.hypot(b[0]-v[0]-A,b[1]-v[1]-S)/t,1/s,1/o),l/s,c/o)}else m?x=ea(Math.abs(b[0]-v[0]-A),l,1)/s:_=ea(Math.abs(b[1]-v[1]-S),c,1)/o;const M=Rn._round(s*x),T=Rn._round(o*_);w=h(...f(M,T));const P=y-w[0],R=k-w[1];hn(this,yl)||pn(this,yl,[this.x,this.y,this.width,this.height]),this.width=M,this.height=T,this.x=P,this.y=R,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function ac(){var t;pn(this,gl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(t=hn(this,ol))||void 0===t||t.toggle(!1),this.parent.togglePointerEvents(!1)}function rc(t,e,n){let i=n/e*.7+1-.7;if(1===i)return;const a=cn(this,Dl,$l).call(this,this.rotation),r=(t,e)=>[a[0]*t+a[2]*e,a[1]*t+a[3]*e],[s,o]=this.parentDimensions,l=this.x,c=this.y,u=this.width,h=this.height,d=Rn.MIN_SIZE/s,p=Rn.MIN_SIZE/o;i=Math.max(Math.min(i,1/u,1/h),d/u,p/h);const f=Rn._round(u*i),g=Rn._round(h*i);if(f===u&&g===h)return;hn(this,yl)||pn(this,yl,[l,c,u,h]);const m=r(u/2,h/2),v=Rn._round(l+m[0]),b=Rn._round(c+m[1]),w=r(f/2,g/2);this.x=v-w[0],this.y=b-w[1],this.width=f,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function sc(){var t;null===(t=hn(this,ol))||void 0===t||t.toggle(!0),this.parent.togglePointerEvents(!0),cn(this,Fl,nc).call(this)}function oc(t){const{isMac:e}=qi.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}function lc(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),r={capture:!0,passive:!1,signal:a},s=t=>{i.abort(),pn(this,hl,null),pn(this,wl,!1),this._uiManager.endDragSession()||cn(this,zl,oc).call(this,t),n&&this._onStopDragging()};e&&(pn(this,_l,t.clientX),pn(this,El,t.clientY),pn(this,hl,t.pointerId),pn(this,dl,t.pointerType),window.addEventListener("pointermove",(t=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:e,clientY:i,pointerId:a}=t;if(a!==hn(this,hl))return void ga(t);const[r,s]=this.screenToPageTranslation(e-hn(this,_l),i-hn(this,El));pn(this,_l,e),pn(this,El,i),this._uiManager.dragSelectedEditors(r,s)}),r),window.addEventListener("touchmove",ga,r),window.addEventListener("pointerdown",(t=>{t.pointerType===hn(this,dl)&&(hn(this,Ml)||t.isPrimary)&&s(t),ga(t)}),r));const o=t=>{hn(this,hl)&&hn(this,hl)!==t.pointerId?ga(t):s(t)};window.addEventListener("pointerup",o,{signal:a}),window.addEventListener("blur",o,{signal:a})}function cc(){if(hn(this,vl)||!this.div)return;pn(this,vl,new AbortController);const t=this._uiManager.combinedSignal(hn(this,vl));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}function uc(t){Rn._resizerKeyboardManager.exec(this,t)}function hc(t){var e;hn(this,Sl)&&(null===(e=t.relatedTarget)||void 0===e?void 0:e.parentNode)!==hn(this,pl)&&cn(this,Yl,fc).call(this)}function dc(t){pn(this,bl,hn(this,Sl)?t:"")}function pc(t){if(hn(this,sl))for(const e of hn(this,sl))e.tabIndex=t}function fc(){pn(this,Sl,!1),cn(this,Xl,pc).call(this,-1),cn(this,Fl,nc).call(this)}Rn=Kl,yn(Kl,"_l10n",null),yn(Kl,"_l10nResizer",null),yn(Kl,"_borderLineWidth",-1),yn(Kl,"_colorManager",new Sr),yn(Kl,"_zIndex",1),yn(Kl,"_telemetryTimeout",1e3);class gc extends Kl{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const mc=3285377520,vc=4294901760,bc=65535;class wc{constructor(t){this.h1=t?4294967295&t:mc,this.h2=t?4294967295&t:mc}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let i=0,a=t.length;i<a;i++){const a=t.charCodeAt(i);a<=255?e[n++]=a:(e[n++]=a>>>8,e[n++]=255&a)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");e=t.slice(),n=e.byteLength}const i=n>>2,a=n-4*i,r=new Uint32Array(e.buffer,0,i);let s=0,o=0,l=this.h1,c=this.h2;const u=3432918353,h=461845907,d=11601,p=13715;for(let f=0;f<i;f++)1&f?(s=r[f],s=s*u&vc|s*d&bc,s=s<<15|s>>>17,s=s*h&vc|s*p&bc,l^=s,l=l<<13|l>>>19,l=5*l+3864292196):(o=r[f],o=o*u&vc|o*d&bc,o=o<<15|o>>>17,o=o*h&vc|o*p&bc,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(s=0,a){case 3:s^=e[4*i+2]<<16;case 2:s^=e[4*i+1]<<8;case 1:s^=e[4*i],s=s*u&vc|s*d&bc,s=s<<15|s>>>17,s=s*h&vc|s*p&bc,1&i?l^=s:c^=s}this.h1=l,this.h2=c}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&vc|36045*t&bc,e=4283543511*e&vc|(2950163797*(e<<16|t>>>16)&vc)>>>16,t^=e>>>1,t=444984403*t&vc|60499*t&bc,e=3301882366*e&vc|(3120437893*(e<<16|t>>>16)&vc)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const yc=Object.freeze({map:null,hash:"",transfer:void 0});var kc=new WeakMap,Ac=new WeakMap,Sc=new WeakMap,xc=new WeakMap,_c=new WeakSet;An=Symbol.iterator;class Ec{constructor(){on(this,_c),ln(this,kc,{writable:!0,value:!1}),ln(this,Ac,{writable:!0,value:null}),ln(this,Sc,{writable:!0,value:null}),ln(this,xc,{writable:!0,value:new Map}),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=hn(this,xc).get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return hn(this,xc).get(t)}remove(t){const e=hn(this,xc).get(t);if(void 0!==e&&(e instanceof Kl&&hn(this,Sc).delete(e.annotationElementId),hn(this,xc).delete(t),0===hn(this,xc).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor)){for(const t of hn(this,xc).values())if(t instanceof Kl)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=hn(this,xc).get(t);let i=!1;if(void 0!==n)for(const[a,r]of Object.entries(e))n[a]!==r&&(i=!0,n[a]=r);else i=!0,hn(this,xc).set(t,e);i&&cn(this,_c,Cc).call(this),e instanceof Kl&&((hn(this,Sc)||pn(this,Sc,new Map)).set(e.annotationElementId,e),"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type))}has(t){return hn(this,xc).has(t)}get size(){return hn(this,xc).size}resetModified(){hn(this,kc)&&(pn(this,kc,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new Tc(this)}get serializable(){if(0===hn(this,xc).size)return yc;const t=new Map,e=new wc,n=[],i=Object.create(null);let a=!1;for(const[r,s]of hn(this,xc)){const n=s instanceof Kl?s.serialize(!1,i):s;n&&(t.set(r,n),e.update("".concat(r,":").concat(JSON.stringify(n))),a||(a=!!n.bitmap))}if(a)for(const r of t.values())r.bitmap&&n.push(r.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:yc}get editorStats(){let t=null;const e=new Map;let n=0,i=0;for(const s of hn(this,xc).values()){var a;if(!(s instanceof Kl)){s.popup&&(s.popup.deleted?i+=1:n+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(n+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:l}=o;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=(a=t)[l]||(a[l]=new Map);for(const[t,e]of Object.entries(o)){var r;if("type"===t)continue;let n=c.get(t);n||(n=new Map,c.set(t,n));const i=null!==(r=n.get(e))&&void 0!==r?r:0;n.set(e,i+1)}}if((i>0||n>0)&&(t||(t=Object.create(null)),t.comments={deleted:i,edited:n}),!t)return null;for(const[s,o]of e)t[s]=o.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){pn(this,Ac,null)}updateEditor(t,e){var n;const i=null===(n=hn(this,Sc))||void 0===n?void 0:n.get(t);return!!i&&(i.updateFromAnnotationLayer(e),!0)}getEditor(t){var e;return(null===(e=hn(this,Sc))||void 0===e?void 0:e.get(t))||null}get modifiedIds(){if(hn(this,Ac))return hn(this,Ac);const t=[];if(hn(this,Sc))for(const e of hn(this,Sc).values())e.serialize()&&t.push(e.annotationElementId);return pn(this,Ac,{ids:new Set(t),hash:t.join(",")})}[An](){return hn(this,xc).entries()}}function Cc(){hn(this,kc)||(pn(this,kc,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var Mc=new WeakMap;class Tc extends Ec{constructor(t){super(),ln(this,Mc,{writable:!0,value:void 0});const{map:e,hash:n,transfer:i}=t.serializable,a=structuredClone(e,i?{transfer:i}:null);pn(this,Mc,{map:a,hash:n,transfer:i})}get print(){Di("Should not call PrintAnnotationStorage.print")}get serializable(){return hn(this,Mc)}get modifiedIds(){return Fi(this,"modifiedIds",{ids:new Set,hash:""})}}var Pc=new WeakMap;class Rc{constructor(t){let{ownerDocument:e=globalThis.document,styleElement:n=null}=t;ln(this,Pc,{writable:!0,value:new Set}),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),hn(this,Pc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(t){let{systemFontInfo:e,disableFontFace:n,_inspectFont:i}=t;if(e&&!hn(this,Pc).has(e.loadedName))if(Li(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:n,style:a}=e,r=new FontFace(t,n,a);this.addNativeFontFace(r);try{await r.load(),hn(this,Pc).add(t),null===i||void 0===i||i(e)}catch{Ri("Cannot load system font: ".concat(e.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(r)}}else Di("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void await this.loadSystemFont(t);if(this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw Ri("Failed to load font '".concat(e.family,"': '").concat(n,"'.")),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((e=>{const n=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,n)}))}}get isFontLoadingAPISupported(){var t;return Fi(this,"isFontLoadingAPISupported",!(null===(t=this._document)||void 0===t||!t.fonts))}get isSyncFontLoadingSupported(){return Fi(this,"isSyncFontLoadingSupported",Xn||qi.platform.isFirefox)}_queueLoadingCallback(t){const{loadingRequests:e}=this,n={done:!1,complete:function(){for(Li(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.length>0&&e[0].done;){const t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(n),n}get _loadTestFont(){return Fi(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e){function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,i){return t.substring(0,e)+i+t.substring(e+n)}let a,r;const s=this._document.createElement("canvas");s.width=1,s.height=1;const o=s.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let u=this._loadTestFont;u=i(u,976,c.length,c);const h=1482184792;let d=n(u,16);for(a=0,r=c.length-3;a<r;a+=4)d=d-h+n(c,a)|0;var p;a<c.length&&(d=d-h+n(c+"XXX",a)|0),u=i(u,16,4,(p=d,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f="url(data:font/opentype;base64,".concat(btoa(u),");"),g='@font-face {font-family:"'.concat(c,'";src:').concat(f,"}");this.insertRule(g);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const v of[t.loadedName,c]){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=v,m.append(t)}this._document.body.append(m),function t(e,n){if(++l>30)return Ri("Load test font never loaded."),void n();o.font="30px "+e,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(c,(()=>{m.remove(),e.complete()}))}}var Dc=new WeakMap;class Lc{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;ln(this,Dc,{writable:!0,value:void 0}),this.compiledGlyphs=Object.create(null),pn(this,Dc,t),this._inspectFont=e,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return null===(t=this._inspectFont)||void 0===t||t.call(this,this),e}createFontFaceRule(){var t;if(!this.data||this.disableFontFace)return null;const e="url(data:".concat(this.mimetype,";base64,").concat(na(this.data),");");let n;if(this.cssFontInfo){let t="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(t+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(t,"src:").concat(e,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(e,"}");return null===(t=this._inspectFont)||void 0===t||t.call(this,this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let i;try{i=t.get(n)}catch(r){Ri('getPathGenerator - ignoring character: "'.concat(r,'".'))}const a=new Path2D(i||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=a}get black(){return hn(this,Dc).black}get bold(){return hn(this,Dc).bold}get disableFontFace(){var t;return null!==(t=hn(this,Dc).disableFontFace)&&void 0!==t&&t}get fontExtraProperties(){var t;return null!==(t=hn(this,Dc).fontExtraProperties)&&void 0!==t&&t}get isInvalidPDFjsFont(){return hn(this,Dc).isInvalidPDFjsFont}get isType3Font(){return hn(this,Dc).isType3Font}get italic(){return hn(this,Dc).italic}get missingFile(){return hn(this,Dc).missingFile}get remeasure(){return hn(this,Dc).remeasure}get vertical(){return hn(this,Dc).vertical}get ascent(){return hn(this,Dc).ascent}get defaultWidth(){return hn(this,Dc).defaultWidth}get descent(){return hn(this,Dc).descent}get bbox(){return hn(this,Dc).bbox}get fontMatrix(){return hn(this,Dc).fontMatrix}get fallbackName(){return hn(this,Dc).fallbackName}get loadedName(){return hn(this,Dc).loadedName}get mimetype(){return hn(this,Dc).mimetype}get name(){return hn(this,Dc).name}get data(){return hn(this,Dc).data}clearData(){hn(this,Dc).clearData()}get cssFontInfo(){return hn(this,Dc).cssFontInfo}get systemFontInfo(){return hn(this,Dc).systemFontInfo}get defaultVMetrics(){return hn(this,Dc).defaultVMetrics}}function Ic(t){if("string"!==typeof t)return null;if(t.endsWith("/"))return t;throw new Error('Invalid factory url: "'.concat(t,'" must include trailing slash.'))}const Nc=t=>"object"===typeof t&&Number.isInteger(null===t||void 0===t?void 0:t.num)&&t.num>=0&&Number.isInteger(null===t||void 0===t?void 0:t.gen)&&t.gen>=0,Fc=function(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,a,...r]=n;if(!t(i)&&!Number.isInteger(i))return!1;if(!e(a))return!1;const s=r.length;let o=!0;switch(a.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;o=!1;break;default:return!1}for(const l of r)if(!("number"===typeof l||o&&null===l))return!1;return!0}.bind(null,Nc,(t=>"object"===typeof t&&"string"===typeof(null===t||void 0===t?void 0:t.name)));var Oc=new WeakMap,Wc=new WeakMap;class Bc{constructor(){ln(this,Oc,{writable:!0,value:new Map}),ln(this,Wc,{writable:!0,value:Promise.resolve()})}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};hn(this,Wc).then((()=>{for(const[t]of hn(this,Oc))t.call(this,n)}))}addEventListener(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted)return void Ri("LoopbackPort - cannot use an `aborted` signal.");const r=()=>this.removeEventListener(t,e);i=()=>a.removeEventListener("abort",r),a.addEventListener("abort",r)}hn(this,Oc).set(e,i)}removeEventListener(t,e){const n=hn(this,Oc).get(e);null===n||void 0===n||n(),hn(this,Oc).delete(e)}terminate(){for(const[,t]of hn(this,Oc))null===t||void 0===t||t();hn(this,Oc).clear()}}const jc=1,zc=2,Uc={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Hc(){}function Vc(t){if(t instanceof Hi||t instanceof ji||t instanceof Wi||t instanceof zi||t instanceof Bi)return t;switch(t instanceof Error||"object"===typeof t&&null!==t||Di('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Hi(t.message);case"InvalidPDFException":return new ji(t.message);case"PasswordException":return new Wi(t.message,t.code);case"ResponseException":return new zi(t.message,t.status,t.missing);case"UnknownErrorException":return new Bi(t.message,t.details)}return new Bi(t.message,t.toString())}var Gc=new WeakMap,qc=new WeakSet,Xc=new WeakSet,Yc=new WeakSet,Kc=new WeakSet;class Qc{constructor(t,e,n){on(this,Kc),on(this,Yc),on(this,Xc),on(this,qc),ln(this,Gc,{writable:!0,value:new AbortController}),this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",cn(this,qc,Jc).bind(this),{signal:hn(this,Gc).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(r){a.reject(r)}return a.promise}sendWithStream(t,e,n,i){const a=this.streamId++,r=this.sourceName,s=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[a]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:r,targetName:s,action:t,streamId:a,data:e,desiredSize:n.desiredSize},i),l.promise},pull:t=>{const e=Promise.withResolvers();return this.streamControllers[a].pullCall=e,o.postMessage({sourceName:r,targetName:s,stream:Uc.PULL,streamId:a,desiredSize:t.desiredSize}),e.promise},cancel:t=>{Li(t instanceof Error,"cancel must have a valid reason");const e=Promise.withResolvers();return this.streamControllers[a].cancelCall=e,this.streamControllers[a].isClosed=!0,o.postMessage({sourceName:r,targetName:s,stream:Uc.CANCEL,streamId:a,reason:Vc(t)}),e.promise}},n)}destroy(){var t;null===(t=hn(this,Gc))||void 0===t||t.abort(),pn(this,Gc,null)}}function Jc(t){let{data:e}=t;if(e.targetName!==this.sourceName)return;if(e.stream)return void cn(this,Yc,Zc).call(this,e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error("Cannot resolve callback ".concat(t));if(delete this.callbackCapabilities[t],e.callback===jc)n.resolve(e.data);else{if(e.callback!==zc)throw new Error("Unexpected callback case");n.reject(Vc(e.reason))}return}const n=this.actionHandler[e.action];if(!n)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){const t=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(n,e.data).then((function(n){a.postMessage({sourceName:t,targetName:i,callback:jc,callbackId:e.callbackId,data:n})}),(function(n){a.postMessage({sourceName:t,targetName:i,callback:zc,callbackId:e.callbackId,reason:Vc(n)})}))}else e.streamId?cn(this,Xc,$c).call(this,e):n(e.data)}function $c(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,a=this.comObj,r=this,s=this.actionHandler[t.action],o={enqueue(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=r,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:Uc.ENQUEUE,streamId:e,chunk:t},s)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:Uc.CLOSE,streamId:e}),delete r.streamSinks[e])},error(t){Li(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:Uc.ERROR,streamId:e,reason:Vc(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[e]=o,Promise.try(s,t.data,o).then((function(){a.postMessage({sourceName:n,targetName:i,stream:Uc.START_COMPLETE,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:n,targetName:i,stream:Uc.START_COMPLETE,streamId:e,reason:Vc(t)})}))}function Zc(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,a=this.comObj,r=this.streamControllers[e],s=this.streamSinks[e];switch(t.stream){case Uc.START_COMPLETE:t.success?r.startCall.resolve():r.startCall.reject(Vc(t.reason));break;case Uc.PULL_COMPLETE:t.success?r.pullCall.resolve():r.pullCall.reject(Vc(t.reason));break;case Uc.PULL:if(!s){a.postMessage({sourceName:n,targetName:i,stream:Uc.PULL_COMPLETE,streamId:e,success:!0});break}s.desiredSize<=0&&t.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=t.desiredSize,Promise.try(s.onPull||Hc).then((function(){a.postMessage({sourceName:n,targetName:i,stream:Uc.PULL_COMPLETE,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:n,targetName:i,stream:Uc.PULL_COMPLETE,streamId:e,reason:Vc(t)})}));break;case Uc.ENQUEUE:if(Li(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(t.chunk);break;case Uc.CLOSE:if(Li(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),cn(this,Kc,tu).call(this,r,e);break;case Uc.ERROR:Li(r,"error should have stream controller"),r.controller.error(Vc(t.reason)),cn(this,Kc,tu).call(this,r,e);break;case Uc.CANCEL_COMPLETE:t.success?r.cancelCall.resolve():r.cancelCall.reject(Vc(t.reason)),cn(this,Kc,tu).call(this,r,e);break;case Uc.CANCEL:if(!s)break;const o=Vc(t.reason);Promise.try(s.onCancel||Hc,o).then((function(){a.postMessage({sourceName:n,targetName:i,stream:Uc.CANCEL_COMPLETE,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:n,targetName:i,stream:Uc.CANCEL_COMPLETE,streamId:e,reason:Vc(t)})})),s.sinkCapability.reject(o),s.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async function tu(t,e){var n,i,a;await Promise.allSettled([null===(n=t.startCall)||void 0===n?void 0:n.promise,null===(i=t.pullCall)||void 0===i?void 0:i.promise,null===(a=t.cancelCall)||void 0===a?void 0:a.promise]),delete this.streamControllers[e]}var eu=new WeakMap;class nu{constructor(t){let{enableHWA:e=!1}=t;ln(this,eu,{writable:!0,value:!1}),pn(this,eu,e)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!hn(this,eu)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Di("Abstract method `_createCanvas` called.")}}class iu extends nu{constructor(t){let{ownerDocument:e=globalThis.document,enableHWA:n=!1}=t;super({enableHWA:n}),this._document=e}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class au{constructor(t){let{baseUrl:e=null,isCompressed:n=!0}=t;this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then((t=>({cMapData:t,isCompressed:this.isCompressed}))).catch((t=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}async _fetch(t){Di("Abstract method `_fetch` called.")}}class ru extends au{async _fetch(t){const e=await oa(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Gi(e)}}class su{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,a){return"none"}destroy(){}}var ou=new WeakMap,lu=new WeakMap,cu=new WeakMap,uu=new WeakMap,hu=new WeakMap,du=new WeakMap,pu=new WeakMap,fu=new WeakMap,gu=new WeakMap,mu=new WeakMap,vu=new WeakSet,bu=new WeakSet,wu=new WeakSet,yu=new WeakSet,ku=new WeakSet,Au=new WeakSet,Su=new WeakSet,xu=new WeakSet,_u=new WeakSet;class Eu extends su{constructor(t){let{docId:e,ownerDocument:n=globalThis.document}=t;super(),on(this,_u),on(this,xu),on(this,Su),on(this,Au),on(this,ku),on(this,yu),on(this,wu),on(this,bu),on(this,vu),ln(this,mu,{get:Tu,set:void 0}),ln(this,gu,{get:Mu,set:void 0}),ln(this,fu,{get:Cu,set:void 0}),ln(this,ou,{writable:!0,value:void 0}),ln(this,lu,{writable:!0,value:void 0}),ln(this,cu,{writable:!0,value:void 0}),ln(this,uu,{writable:!0,value:void 0}),ln(this,hu,{writable:!0,value:void 0}),ln(this,du,{writable:!0,value:void 0}),ln(this,pu,{writable:!0,value:0}),pn(this,uu,e),pn(this,hu,n)}addFilter(t){var e,n;if(!t)return"none";let i=hn(this,fu).get(t);if(i)return i;const[a,r,s]=cn(this,vu,Pu).call(this,t),o=1===t.length?a:"".concat(a).concat(r).concat(s);if(i=hn(this,fu).get(o),i)return hn(this,fu).set(t,i),i;const l="g_".concat(hn(this,uu),"_transfer_map_").concat((pn(this,pu,(e=hn(this,pu),n=e++,e)),n)),c=cn(this,bu,Ru).call(this,l);hn(this,fu).set(t,c),hn(this,fu).set(o,c);const u=cn(this,ku,Iu).call(this,l);return cn(this,Su,Fu).call(this,a,r,s,u),c}addHCMFilter(t,e){var n;const i="".concat(t,"-").concat(e),a="base";let r=hn(this,gu).get(a);if((null===(n=r)||void 0===n?void 0:n.key)===i)return r.url;var s;r?(null===(s=r.filter)||void 0===s||s.remove(),r.key=i,r.url="none",r.filter=null):(r={key:i,url:"none",filter:null},hn(this,gu).set(a,r));if(!t||!e)return r.url;const o=cn(this,_u,Wu).call(this,t);t=Yi.makeHexColor(...o);const l=cn(this,_u,Wu).call(this,e);if(e=Yi.makeHexColor(...l),hn(this,mu).style.color="","#000000"===t&&"#ffffff"===e||t===e)return r.url;const c=new Array(256);for(let f=0;f<=255;f++){const t=f/255;c[f]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const u=c.join(","),h="g_".concat(hn(this,uu),"_hcm_filter"),d=r.filter=cn(this,ku,Iu).call(this,h);cn(this,Su,Fu).call(this,u,u,u,d),cn(this,yu,Lu).call(this,d);const p=(t,e)=>{const n=o[t]/255,i=l[t]/255,a=new Array(e+1);for(let r=0;r<=e;r++)a[r]=n+r/e*(i-n);return a.join(",")};return cn(this,Su,Fu).call(this,p(0,5),p(1,5),p(2,5),d),r.url=cn(this,bu,Ru).call(this,h),r.url}addAlphaFilter(t){var e,n;let i=hn(this,fu).get(t);if(i)return i;const[a]=cn(this,vu,Pu).call(this,[t]),r="alpha_".concat(a);if(i=hn(this,fu).get(r),i)return hn(this,fu).set(t,i),i;const s="g_".concat(hn(this,uu),"_alpha_map_").concat((pn(this,pu,(e=hn(this,pu),n=e++,e)),n)),o=cn(this,bu,Ru).call(this,s);hn(this,fu).set(t,o),hn(this,fu).set(r,o);const l=cn(this,ku,Iu).call(this,s);return cn(this,xu,Ou).call(this,a,l),o}addLuminosityFilter(t){var e,n;let i,a,r=hn(this,fu).get(t||"luminosity");if(r)return r;if(t?([i]=cn(this,vu,Pu).call(this,[t]),a="luminosity_".concat(i)):a="luminosity",r=hn(this,fu).get(a),r)return hn(this,fu).set(t,r),r;const s="g_".concat(hn(this,uu),"_luminosity_map_").concat((pn(this,pu,(e=hn(this,pu),n=e++,e)),n)),o=cn(this,bu,Ru).call(this,s);hn(this,fu).set(t,o),hn(this,fu).set(a,o);const l=cn(this,ku,Iu).call(this,s);return cn(this,wu,Du).call(this,l),t&&cn(this,xu,Ou).call(this,i,l),o}addHighlightHCMFilter(t,e,n,i,a){var r;const s="".concat(e,"-").concat(n,"-").concat(i,"-").concat(a);let o=hn(this,gu).get(t);if((null===(r=o)||void 0===r?void 0:r.key)===s)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},hn(this,gu).set(t,o));if(!e||!n)return o.url;const[c,u]=[e,n].map(cn(this,_u,Wu).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,f]=[i,a].map(cn(this,_u,Wu).bind(this));d<h&&([h,d,p,f]=[d,h,f,p]),hn(this,mu).style.color="";const g=(t,e,n)=>{const i=new Array(256),a=(d-h)/n,r=t/255,s=(e-t)/(255*n);let o=0;for(let l=0;l<=n;l++){const t=Math.round(h+l*a),e=r+l*s;for(let n=o;n<=t;n++)i[n]=e;o=t+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},m="g_".concat(hn(this,uu),"_hcm_").concat(t,"_filter"),v=o.filter=cn(this,ku,Iu).call(this,m);return cn(this,yu,Lu).call(this,v),cn(this,Su,Fu).call(this,g(p[0],f[0],5),g(p[1],f[1],5),g(p[2],f[2],5),v),o.url=cn(this,bu,Ru).call(this,m),o.url}destroy(){var t,e,n,i;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&null!==(t=hn(this,du))&&void 0!==t&&t.size||(null===(e=hn(this,cu))||void 0===e||e.parentNode.parentNode.remove(),pn(this,cu,null),null===(n=hn(this,lu))||void 0===n||n.clear(),pn(this,lu,null),null===(i=hn(this,du))||void 0===i||i.clear(),pn(this,du,null),pn(this,pu,0))}}function Cu(){return hn(this,lu)||pn(this,lu,new Map)}function Mu(){return hn(this,du)||pn(this,du,new Map)}function Tu(){if(!hn(this,cu)){const t=hn(this,hu).createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=hn(this,hu).createElementNS(ra,"svg");n.setAttribute("width",0),n.setAttribute("height",0),pn(this,cu,hn(this,hu).createElementNS(ra,"defs")),t.append(n),n.append(hn(this,cu)),hn(this,hu).body.append(t)}return hn(this,cu)}function Pu(t){if(1===t.length){const e=t[0],n=new Array(256);for(let t=0;t<256;t++)n[t]=e[t]/255;const i=n.join(",");return[i,i,i]}const[e,n,i]=t,a=new Array(256),r=new Array(256),s=new Array(256);for(let o=0;o<256;o++)a[o]=e[o]/255,r[o]=n[o]/255,s[o]=i[o]/255;return[a.join(","),r.join(","),s.join(",")]}function Ru(t){if(void 0===hn(this,ou)){pn(this,ou,"");const t=hn(this,hu).URL;t!==hn(this,hu).baseURI&&(ua(t)?Ri('#createUrl: ignore "data:"-URL for performance reasons.'):pn(this,ou,Ni(t,"")))}return"url(".concat(hn(this,ou),"#").concat(t,")")}function Du(t){const e=hn(this,hu).createElementNS(ra,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}function Lu(t){const e=hn(this,hu).createElementNS(ra,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}function Iu(t){const e=hn(this,hu).createElementNS(ra,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),hn(this,mu).append(e),e}function Nu(t,e,n){const i=hn(this,hu).createElementNS(ra,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),t.append(i)}function Fu(t,e,n,i){const a=hn(this,hu).createElementNS(ra,"feComponentTransfer");i.append(a),cn(this,Au,Nu).call(this,a,"feFuncR",t),cn(this,Au,Nu).call(this,a,"feFuncG",e),cn(this,Au,Nu).call(this,a,"feFuncB",n)}function Ou(t,e){const n=hn(this,hu).createElementNS(ra,"feComponentTransfer");e.append(n),cn(this,Au,Nu).call(this,n,"feFuncA",t)}function Wu(t){return hn(this,mu).style.color=t,ba(getComputedStyle(hn(this,mu)).getPropertyValue("color"))}class Bu{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetch(n).catch((t=>{throw new Error("Unable to load font data at: ".concat(n))}))}async _fetch(t){Di("Abstract method `_fetch` called.")}}class ju extends Bu{async _fetch(t){const e=await oa(t,"arraybuffer");return new Uint8Array(e)}}class zu{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetch(n).catch((t=>{throw new Error("Unable to load wasm data at: ".concat(n))}))}async _fetch(t){Di("Abstract method `_fetch` called.")}}class Uu extends zu{async _fetch(t){const e=await oa(t,"arraybuffer");return new Uint8Array(e)}}async function Hu(t){const e=process.getBuiltinModule("fs"),n=await e.promises.readFile(t);return new Uint8Array(n)}Xn&&Ri("Please use the `legacy` build in Node.js environments.");class Vu extends su{}class Gu extends nu{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire("file:///C:/Users/dgram/CodingProjects/resume-site/site/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(t,e)}}class qu extends au{async _fetch(t){return Hu(t)}}class Xu extends Bu{async _fetch(t){return Hu(t)}}class Yu extends zu{async _fetch(t){return Hu(t)}}const Ku="__forcedDependency",{floor:Qu,ceil:Ju}=Math;function $u(t,e,n,i,a,r){t[4*e+0]=Math.min(t[4*e+0],n),t[4*e+1]=Math.min(t[4*e+1],i),t[4*e+2]=Math.max(t[4*e+2],a),t[4*e+3]=Math.max(t[4*e+3],r)}const Zu=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var th=new WeakMap,eh=new WeakMap;class nh{constructor(t,e){ln(this,th,{writable:!0,value:void 0}),ln(this,eh,{writable:!0,value:void 0}),pn(this,th,t),pn(this,eh,e)}get length(){return hn(this,th).length}isEmpty(t){return hn(this,th)[t]===Zu}minX(t){return hn(this,eh)[4*t+0]/256}minY(t){return hn(this,eh)[4*t+1]/256}maxX(t){return(hn(this,eh)[4*t+2]+1)/256}maxY(t){return(hn(this,eh)[4*t+3]+1)/256}}const ih=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var ah=new WeakMap,rh=new WeakMap,sh=new WeakMap,oh=new WeakMap,lh=new WeakMap,ch=new WeakMap,uh=new WeakMap,hh=new WeakMap,dh=new WeakMap,ph=new WeakMap,fh=new WeakMap,gh=new WeakMap,mh=new WeakMap,vh=new WeakMap,bh=new WeakMap,wh=new WeakMap,yh=new WeakMap,kh=new WeakSet;class Ah{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];on(this,kh),ln(this,ah,{writable:!0,value:{__proto__:null}}),ln(this,rh,{writable:!0,value:{__proto__:null,transform:[],moveText:[],sameLineText:[],[Ku]:[]}}),ln(this,sh,{writable:!0,value:new Map}),ln(this,oh,{writable:!0,value:[]}),ln(this,lh,{writable:!0,value:[]}),ln(this,ch,{writable:!0,value:[[1,0,0,1,0,0]]}),ln(this,uh,{writable:!0,value:[-1/0,-1/0,1/0,1/0]}),ln(this,hh,{writable:!0,value:new Float64Array([1/0,1/0,-1/0,-1/0])}),ln(this,dh,{writable:!0,value:-1}),ln(this,ph,{writable:!0,value:new Set}),ln(this,fh,{writable:!0,value:new Map}),ln(this,gh,{writable:!0,value:new Map}),ln(this,mh,{writable:!0,value:void 0}),ln(this,vh,{writable:!0,value:void 0}),ln(this,bh,{writable:!0,value:void 0}),ln(this,wh,{writable:!0,value:void 0}),ln(this,yh,{writable:!0,value:void 0}),pn(this,mh,t.width),pn(this,vh,t.height),cn(this,kh,Sh).call(this,e),n&&pn(this,yh,new Map)}growOperationsCount(t){t>=hn(this,wh).length&&cn(this,kh,Sh).call(this,t,hn(this,wh))}save(t){return pn(this,ah,{__proto__:hn(this,ah)}),pn(this,rh,{__proto__:hn(this,rh),transform:{__proto__:hn(this,rh).transform},moveText:{__proto__:hn(this,rh).moveText},sameLineText:{__proto__:hn(this,rh).sameLineText},[Ku]:{__proto__:hn(this,rh)[Ku]}}),pn(this,uh,{__proto__:hn(this,uh)}),hn(this,oh).push(t),this}restore(t){const e=Object.getPrototypeOf(hn(this,ah));if(null===e)return this;pn(this,ah,e),pn(this,rh,Object.getPrototypeOf(hn(this,rh))),pn(this,uh,Object.getPrototypeOf(hn(this,uh)));const n=hn(this,oh).pop();var i;void 0!==n&&(null===(i=ih(hn(this,yh),t))||void 0===i||i.dependencies.add(n),hn(this,wh)[t]=hn(this,wh)[n]);return this}recordOpenMarker(t){return hn(this,oh).push(t),this}getOpenMarker(){return 0===hn(this,oh).length?null:hn(this,oh).at(-1)}recordCloseMarker(t){const e=hn(this,oh).pop();var n;void 0!==e&&(null===(n=ih(hn(this,yh),t))||void 0===n||n.dependencies.add(e),hn(this,wh)[t]=hn(this,wh)[e]);return this}beginMarkedContent(t){return hn(this,lh).push(t),this}endMarkedContent(t){const e=hn(this,lh).pop();var n;void 0!==e&&(null===(n=ih(hn(this,yh),t))||void 0===n||n.dependencies.add(e),hn(this,wh)[t]=hn(this,wh)[e]);return this}pushBaseTransform(t){return hn(this,ch).push(Yi.multiplyByDOMMatrix(hn(this,ch).at(-1),t.getTransform())),this}popBaseTransform(){return hn(this,ch).length>1&&hn(this,ch).pop(),this}recordSimpleData(t,e){return hn(this,ah)[t]=e,this}recordIncrementalData(t,e){return hn(this,rh)[t].push(e),this}resetIncrementalData(t,e){return hn(this,rh)[t].length=0,this}recordNamedData(t,e){return hn(this,sh).set(t,e),this}recordSimpleDataFromNamed(t,e,n){var i;hn(this,ah)[t]=null!==(i=hn(this,sh).get(e))&&void 0!==i?i:n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Ku,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in hn(this,ah)&&this.recordFutureForcedDependency(e,hn(this,ah)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of hn(this,ph))this.recordFutureForcedDependency(Ku,t);return this}resetBBox(t){return hn(this,dh)!==t&&(pn(this,dh,t),hn(this,hh)[0]=1/0,hn(this,hh)[1]=1/0,hn(this,hh)[2]=-1/0,hn(this,hh)[3]=-1/0),this}recordClipBox(t,e,n,i,a,r){const s=Yi.multiplyByDOMMatrix(hn(this,ch).at(-1),e.getTransform()),o=[1/0,1/0,-1/0,-1/0];Yi.axialAlignedBoundingBox([n,a,i,r],s,o);const l=Yi.intersect(hn(this,uh),o);return l?(hn(this,uh)[0]=l[0],hn(this,uh)[1]=l[1],hn(this,uh)[2]=l[2],hn(this,uh)[3]=l[3]):(hn(this,uh)[0]=hn(this,uh)[1]=1/0,hn(this,uh)[2]=hn(this,uh)[3]=-1/0),this}recordBBox(t,e,n,i,a,r){const s=hn(this,uh);if(s[0]===1/0)return this;const o=Yi.multiplyByDOMMatrix(hn(this,ch).at(-1),e.getTransform());if(s[0]===-1/0)return Yi.axialAlignedBoundingBox([n,a,i,r],o,hn(this,hh)),this;const l=[1/0,1/0,-1/0,-1/0];return Yi.axialAlignedBoundingBox([n,a,i,r],o,l),hn(this,hh)[0]=Math.min(hn(this,hh)[0],Math.max(l[0],s[0])),hn(this,hh)[1]=Math.min(hn(this,hh)[1],Math.max(l[1],s[1])),hn(this,hh)[2]=Math.max(hn(this,hh)[2],Math.min(l[2],s[2])),hn(this,hh)[3]=Math.max(hn(this,hh)[3],Math.min(l[3],s[3])),this}recordCharacterBBox(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;const o=n.bbox;let l,c;if(o&&(l=o[2]!==o[0]&&o[3]!==o[1]&&hn(this,gh).get(n),!1!==l&&(c=[0,0,0,0],Yi.axialAlignedBoundingBox(o,n.fontMatrix,c),1===i&&0===a&&0===r||Yi.scaleMinMax([i,0,0,-i,a,r],c),l)))return this.recordBBox(t,e,c[0],c[2],c[1],c[3]);if(!s)return this.recordFullPageBBox(t);const u=s();return o&&c&&void 0===l&&(l=c[0]<=a-u.actualBoundingBoxLeft&&c[2]>=a+u.actualBoundingBoxRight&&c[1]<=r-u.actualBoundingBoxAscent&&c[3]>=r+u.actualBoundingBoxDescent,hn(this,gh).set(n,l),l)?this.recordBBox(t,e,c[0],c[2],c[1],c[3]):this.recordBBox(t,e,a-u.actualBoundingBoxLeft,a+u.actualBoundingBoxRight,r-u.actualBoundingBoxAscent,r+u.actualBoundingBoxDescent)}recordFullPageBBox(t){return hn(this,hh)[0]=Math.max(0,hn(this,uh)[0]),hn(this,hh)[1]=Math.max(0,hn(this,uh)[1]),hn(this,hh)[2]=Math.min(hn(this,mh),hn(this,uh)[2]),hn(this,hh)[3]=Math.min(hn(this,vh),hn(this,uh)[3]),this}getSimpleIndex(t){return hn(this,ah)[t]}recordDependencies(t,e){const n=hn(this,ph),i=hn(this,ah),a=hn(this,rh);for(const r of e)r in hn(this,ah)?n.add(i[r]):r in a&&a[r].forEach(n.add,n);return this}recordNamedDependency(t,e){return hn(this,sh).has(e)&&hn(this,ph).add(hn(this,sh).get(e)),this}recordOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.recordDependencies(t,[Ku]),hn(this,yh)){const e=ih(hn(this,yh),t),{dependencies:n}=e;hn(this,ph).forEach(n.add,n),hn(this,oh).forEach(n.add,n),hn(this,lh).forEach(n.add,n),n.delete(t),e.isRenderingOperation=!0}if(hn(this,dh)===t){const n=Qu(256*hn(this,hh)[0]/hn(this,mh)),i=Qu(256*hn(this,hh)[1]/hn(this,vh)),a=Ju(256*hn(this,hh)[2]/hn(this,mh)),r=Ju(256*hn(this,hh)[3]/hn(this,vh));$u(hn(this,bh),t,n,i,a,r);for(const e of hn(this,ph))e!==t&&$u(hn(this,bh),e,n,i,a,r);for(const e of hn(this,oh))e!==t&&$u(hn(this,bh),e,n,i,a,r);for(const e of hn(this,lh))e!==t&&$u(hn(this,bh),e,n,i,a,r);e||(hn(this,ph).clear(),pn(this,dh,-1))}return this}recordShowTextOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Array.from(hn(this,ph));this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return hn(this,dh)===t&&(pn(this,dh,-1),hn(this,uh)[0]=Math.max(hn(this,uh)[0],hn(this,hh)[0]),hn(this,uh)[1]=Math.max(hn(this,uh)[1],hn(this,hh)[1]),hn(this,uh)[2]=Math.min(hn(this,uh)[2],hn(this,hh)[2]),hn(this,uh)[3]=Math.min(hn(this,uh)[3],hn(this,hh)[3]),e||hn(this,ph).clear()),this}_takePendingDependencies(){const t=hn(this,ph);return pn(this,ph,new Set),t}_extractOperation(t){const e=hn(this,fh).get(t);return hn(this,fh).delete(t),e}_pushPendingDependencies(t){for(const e of t)hn(this,ph).add(e)}take(){return hn(this,gh).clear(),new nh(hn(this,wh),hn(this,bh))}takeDebugMetadata(){return hn(this,yh)}}function Sh(t,e){const n=new ArrayBuffer(4*t);pn(this,bh,new Uint8ClampedArray(n)),pn(this,wh,new Uint32Array(n)),e&&e.length>0?(hn(this,wh).set(e),hn(this,wh).fill(Zu,e.length)):hn(this,wh).fill(Zu)}var xh=new WeakMap,_h=new WeakMap,Eh=new WeakMap,Ch=new WeakMap,Mh=new WeakMap;class Th{constructor(t,e,n){if(ln(this,xh,{writable:!0,value:void 0}),ln(this,_h,{writable:!0,value:void 0}),ln(this,Eh,{writable:!0,value:void 0}),ln(this,Ch,{writable:!0,value:0}),ln(this,Mh,{writable:!0,value:0}),t instanceof Th&&hn(t,Eh)===!!n)return t;pn(this,xh,t),pn(this,_h,e),pn(this,Eh,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(t){var e;return pn(this,Mh,(e=hn(this,Mh),e++,e)),hn(this,xh).save(hn(this,_h)),this}restore(t){var e;hn(this,Mh)>0&&(hn(this,xh).restore(hn(this,_h)),pn(this,Mh,(e=hn(this,Mh),e--,e)));return this}recordOpenMarker(t){var e;return pn(this,Ch,(e=hn(this,Ch),e++,e)),this}getOpenMarker(){return hn(this,Ch)>0?hn(this,_h):hn(this,xh).getOpenMarker()}recordCloseMarker(t){var e;return pn(this,Ch,(e=hn(this,Ch),e--,e)),this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return hn(this,xh).pushBaseTransform(t),this}popBaseTransform(){return hn(this,xh).popBaseTransform(),this}recordSimpleData(t,e){return hn(this,xh).recordSimpleData(t,hn(this,_h)),this}recordIncrementalData(t,e){return hn(this,xh).recordIncrementalData(t,hn(this,_h)),this}resetIncrementalData(t,e){return hn(this,xh).resetIncrementalData(t,hn(this,_h)),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return hn(this,xh).recordSimpleDataFromNamed(t,e,hn(this,_h)),this}recordFutureForcedDependency(t,e){return hn(this,xh).recordFutureForcedDependency(t,hn(this,_h)),this}inheritSimpleDataAsFutureForcedDependencies(t){return hn(this,xh).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return hn(this,xh).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return hn(this,Eh)||hn(this,xh).resetBBox(hn(this,_h)),this}recordClipBox(t,e,n,i,a,r){return hn(this,Eh)||hn(this,xh).recordClipBox(hn(this,_h),e,n,i,a,r),this}recordBBox(t,e,n,i,a,r){return hn(this,Eh)||hn(this,xh).recordBBox(hn(this,_h),e,n,i,a,r),this}recordCharacterBBox(t,e,n,i,a,r,s){return hn(this,Eh)||hn(this,xh).recordCharacterBBox(hn(this,_h),e,n,i,a,r,s),this}recordFullPageBBox(t){return hn(this,Eh)||hn(this,xh).recordFullPageBBox(hn(this,_h)),this}getSimpleIndex(t){return hn(this,xh).getSimpleIndex(t)}recordDependencies(t,e){return hn(this,xh).recordDependencies(hn(this,_h),e),this}recordNamedDependency(t,e){return hn(this,xh).recordNamedDependency(hn(this,_h),e),this}recordOperation(t){return hn(this,xh).recordOperation(hn(this,_h),!0),this}recordShowTextOperation(t){return hn(this,xh).recordShowTextOperation(hn(this,_h),!0),this}bboxToClipBoxDropOperation(t){return hn(this,Eh)||hn(this,xh).bboxToClipBoxDropOperation(hn(this,_h),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Ph=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],Rh=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],Dh=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],Lh=["filter","fillColor","fillAlpha"],Ih=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],Nh=["transform"],Fh=["transform","fillColor"],Oh="Fill",Wh="Stroke",Bh="Shading";function jh(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],n,i),t.clip(a)}class zh{isModifyingCurrentTransform(){return!1}getPattern(){Di("Abstract method `getPattern` called.")}}class Uh extends zh{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let a;if(i===Wh||i===Oh){const r=e.current.getClippedPathBoundingBox(i,wa(t))||[0,0,0,0],s=Math.ceil(r[2]-r[0])||1,o=Math.ceil(r[3]-r[1])||1,l=e.cachedCanvases.getCanvas("pattern",s,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-r[0],-r[1]),n=Yi.transform(n,[1,0,0,1,r[0],r[1]]),c.transform(...e.baseTransform),this.matrix&&c.transform(...this.matrix),jh(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),a=t.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);a.setTransform(u)}else jh(t,this._bbox),a=this._createGradient(t);return a}}function Hh(t,e,n,i,a,r,s,o){const l=e.coords,c=e.colors,u=t.data,h=4*t.width;let d;l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=r,r=s,s=d),l[i+1]>l[a+1]&&(d=i,i=a,a=d,d=s,s=o,o=d),l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=r,r=s,s=d);const p=(l[n]+e.offsetX)*e.scaleX,f=(l[n+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,m=(l[i+1]+e.offsetY)*e.scaleY,v=(l[a]+e.offsetX)*e.scaleX,b=(l[a+1]+e.offsetY)*e.scaleY;if(f>=b)return;const w=c[r],y=c[r+1],k=c[r+2],A=c[s],S=c[s+1],x=c[s+2],_=c[o],E=c[o+1],C=c[o+2],M=Math.round(f),T=Math.round(b);let P,R,D,L,I,N,F,O;for(let W=M;W<=T;W++){if(W<m){const t=W<f?0:(f-W)/(f-m);P=p-(p-g)*t,R=w-(w-A)*t,D=y-(y-S)*t,L=k-(k-x)*t}else{let t;t=W>b?1:m===b?0:(m-W)/(m-b),P=g-(g-v)*t,R=A-(A-_)*t,D=S-(S-E)*t,L=x-(x-C)*t}let t;t=W<f?0:W>b?1:(f-W)/(f-b),I=p-(p-v)*t,N=w-(w-_)*t,F=y-(y-E)*t,O=k-(k-C)*t;const e=Math.round(Math.min(P,I)),n=Math.round(Math.max(P,I));let i=h*W+4*e;for(let a=e;a<=n;a++)t=(P-a)/(P-I),t<0?t=0:t>1&&(t=1),u[i++]=R-(R-N)*t|0,u[i++]=D-(D-F)*t|0,u[i++]=L-(L-O)*t|0,u[i++]=255}}function Vh(t,e,n){const i=e.coords,a=e.colors;let r,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(r=0;r<l;r++){let e=r*o;for(let r=0;r<c;r++,e++)Hh(t,n,i[e],i[e+1],i[e+o],a[e],a[e+1],a[e+o]),Hh(t,n,i[e+o+1],i[e+1],i[e+o],a[e+o+1],a[e+1],a[e+o])}break;case"triangles":for(r=0,s=i.length;r<s;r+=3)Hh(t,n,i[r],i[r+1],i[r+2],a[r],a[r+1],a[r+2]);break;default:throw new Error("illegal figure")}}class Gh extends zh{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const i=Math.floor(this._bounds[0]),a=Math.floor(this._bounds[1]),r=Math.ceil(this._bounds[2])-i,s=Math.ceil(this._bounds[3])-a,o=Math.min(Math.ceil(Math.abs(r*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*t[1]*1.1)),3e3),c=r/o,u=s/l,h={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-a,scaleX:1/c,scaleY:1/u},d=o+4,p=l+4,f=n.getCanvas("mesh",d,p),g=f.context,m=g.createImageData(o,l);if(e){const t=m.data;for(let n=0,i=t.length;n<i;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const v of this._figures)Vh(m,v,h);g.putImageData(m,2,2);return{canvas:f.canvas,offsetX:i-2*c,offsetY:a-2*u,scaleX:c,scaleY:u}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,i){jh(t,this._bbox);const a=new Float32Array(2);if(i===Bh)Yi.singularValueDecompose2dScale(wa(t),a);else if(this.matrix){Yi.singularValueDecompose2dScale(this.matrix,a);const[t,n]=a;Yi.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=t,a[1]*=n}else Yi.singularValueDecompose2dScale(e.baseTransform,a);const r=this._createMeshCanvas(a,i===Bh?null:this._background,e.cachedCanvases);return i!==Bh&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(r.offsetX,r.offsetY),t.scale(r.scaleX,r.scaleY),t.createPattern(r.canvas,"no-repeat")}}class qh extends zh{getPattern(){return"hotpink"}}const Xh=1,Yh=2;class Kh{constructor(t,e,n,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(t,e){var n,i;const{bbox:a,operatorList:r,paintType:s,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),Pi("TilingType: "+o);const d=a[0],p=a[1],f=a[2],g=a[3],m=f-d,v=g-p,b=new Float32Array(2);Yi.singularValueDecompose2dScale(this.matrix,b);const[w,y]=b;Yi.singularValueDecompose2dScale(this.baseTransform,b);const k=w*b[0],A=y*b[1];let S=m,x=v,_=!1,E=!1;const C=Math.ceil(u*k),M=Math.ceil(h*A);C>=Math.ceil(m*k)?S=u:_=!0,M>=Math.ceil(v*A)?x=h:E=!0;const T=this.getSizeAndScale(S,this.ctx.canvas.width,k),P=this.getSizeAndScale(x,this.ctx.canvas.height,A),R=t.cachedCanvases.getCanvas("pattern",T.size,P.size),D=R.context,L=c.createCanvasGraphics(D,e);if(L.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(L,s,l),D.translate(-T.scale*d,-P.scale*p),L.transform(0,T.scale,0,0,P.scale,0,0),D.save(),null===(n=L.dependencyTracker)||void 0===n||n.save(),this.clipBbox(L,d,p,f,g),L.baseTransform=wa(L.ctx),L.executeOperatorList(r),L.endDrawing(),null===(i=L.dependencyTracker)||void 0===i||i.restore(),D.restore(),_||E){const e=R.canvas;_&&(S=u),E&&(x=h);const n=this.getSizeAndScale(S,this.ctx.canvas.width,k),i=this.getSizeAndScale(x,this.ctx.canvas.height,A),a=n.size,r=i.size,s=t.cachedCanvases.getCanvas("pattern-workaround",a,r),o=s.context,l=_?Math.floor(m/u):0,c=E?Math.floor(v/h):0;for(let t=0;t<=l;t++)for(let n=0;n<=c;n++)o.drawImage(e,a*t,r*n,a,r,0,0,a,r);return{canvas:s.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:d,offsetY:p}}return{canvas:R.canvas,scaleX:T.scale,scaleY:P.scale,offsetX:d,offsetY:p}}getSizeAndScale(t,e,n){const i=Math.max(Kh.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*n);return a>=i?a=i:n=a/t,{scale:n,size:a}}clipBbox(t,e,n,i,a){const r=i-e,s=a-n;t.ctx.rect(e,n,r,s),Yi.axialAlignedBoundingBox([e,n,i,a],wa(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,a=t.current;switch(e){case Xh:const{fillStyle:t,strokeStyle:r}=this.ctx;i.fillStyle=a.fillColor=t,i.strokeStyle=a.strokeColor=r;break;case Yh:i.fillStyle=i.strokeStyle=n,a.fillColor=a.strokeColor=n;break;default:throw new Ui("Unsupported paint type: ".concat(e))}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,i,a){let r=n;i!==Bh&&(r=Yi.transform(r,e.baseTransform),this.matrix&&(r=Yi.transform(r,this.matrix)));const s=this.createPatternCanvas(e,a);let o=new DOMMatrix(r);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=t.createPattern(s.canvas,"repeat");return l.setTransform(o),l}}function Qh(t){let{src:e,srcPos:n=0,dest:i,width:a,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}=t;const l=qi.isLittleEndian?4278190080:255,[c,u]=o?[s,l]:[l,s],h=a>>3,d=7&a,p=e.length;i=new Uint32Array(i.buffer);let f=0;for(let g=0;g<r;g++){for(const a=n+h;n<a;n++){const t=n<p?e[n]:255;i[f++]=128&t?u:c,i[f++]=64&t?u:c,i[f++]=32&t?u:c,i[f++]=16&t?u:c,i[f++]=8&t?u:c,i[f++]=4&t?u:c,i[f++]=2&t?u:c,i[f++]=1&t?u:c}if(0===d)continue;const t=n<p?e[n++]:255;for(let e=0;e<d;e++)i[f++]=t&1<<7-e?u:c}return{srcPos:n,destPos:f}}yn(Kh,"MAX_PATTERN_SIZE",3e3);const Jh=16,$h=new DOMMatrix,Zh=new Float32Array(2),td=new Float32Array([1/0,1/0,-1/0,-1/0]);class ed{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function nd(t,e,n,i,a,r,s,o,l,c){const[u,h,d,p,f,g]=wa(t);if(0===h&&0===d){const m=s*u+f,v=Math.round(m),b=o*p+g,w=Math.round(b),y=(s+l)*u+f,k=Math.abs(Math.round(y)-v)||1,A=(o+c)*p+g,S=Math.abs(Math.round(A)-w)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(p),v,w),t.drawImage(e,n,i,a,r,0,0,k,S),t.setTransform(u,h,d,p,f,g),[k,S]}if(0===u&&0===p){const m=o*d+f,v=Math.round(m),b=s*h+g,w=Math.round(b),y=(o+c)*d+f,k=Math.abs(Math.round(y)-v)||1,A=(s+l)*h+g,S=Math.abs(Math.round(A)-w)||1;return t.setTransform(0,Math.sign(h),Math.sign(d),0,v,w),t.drawImage(e,n,i,a,r,0,0,S,k),t.setTransform(u,h,d,p,f,g),[S,k]}t.drawImage(e,n,i,a,r,s,o,l,c);return[Math.hypot(u,h)*l,Math.hypot(d,p)*c]}class id{constructor(t,e,n){yn(this,"alphaIsShape",!1),yn(this,"fontSize",0),yn(this,"fontSizeScale",1),yn(this,"textMatrix",null),yn(this,"textMatrixScale",1),yn(this,"fontMatrix",Yn),yn(this,"leading",0),yn(this,"x",0),yn(this,"y",0),yn(this,"lineX",0),yn(this,"lineY",0),yn(this,"charSpacing",0),yn(this,"wordSpacing",0),yn(this,"textHScale",1),yn(this,"textRenderingMode",li),yn(this,"textRise",0),yn(this,"fillColor","#000000"),yn(this,"strokeColor","#000000"),yn(this,"patternFill",!1),yn(this,"patternStroke",!1),yn(this,"fillAlpha",1),yn(this,"strokeAlpha",1),yn(this,"lineWidth",1),yn(this,"activeSMask",null),yn(this,"transferMaps","none"),null===n||void 0===n||n(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=td.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oh,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.minMax.slice();if(t===Wh){e||Di("Stroke bounding box must include transform."),Yi.singularValueDecompose2dScale(e,Zh);const t=Zh[0]*this.lineWidth/2,i=Zh[1]*this.lineWidth/2;n[0]-=t,n[1]-=i,n[2]+=t,n[3]+=i}return n}updateClipFromPath(){const t=Yi.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(td,0)}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oh,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Yi.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function ad(t,e){if(e instanceof ImageData)return void t.putImageData(e,0,0);const n=e.height,i=e.width,a=n%Jh,r=(n-a)/Jh,s=0===a?r:r+1,o=t.createImageData(i,Jh);let l,c=0;const u=e.data,h=o.data;let d,p,f,g;if(e.kind===fi.GRAYSCALE_1BPP){const e=u.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),g=n.length,m=i+7>>3,v=4294967295,b=qi.isLittleEndian?4278190080:255;for(d=0;d<s;d++){for(f=d<r?Jh:a,l=0,p=0;p<f;p++){const t=e-c;let a=0;const r=t>m?i:8*t-7,s=-8&r;let o=0,h=0;for(;a<s;a+=8)h=u[c++],n[l++]=128&h?v:b,n[l++]=64&h?v:b,n[l++]=32&h?v:b,n[l++]=16&h?v:b,n[l++]=8&h?v:b,n[l++]=4&h?v:b,n[l++]=2&h?v:b,n[l++]=1&h?v:b;for(;a<r;a++)0===o&&(h=u[c++],o=128),n[l++]=h&o?v:b,o>>=1}for(;l<g;)n[l++]=0;t.putImageData(o,0,d*Jh)}}else if(e.kind===fi.RGBA_32BPP){for(p=0,g=i*Jh*4,d=0;d<r;d++)h.set(u.subarray(c,c+g)),c+=g,t.putImageData(o,0,p),p+=Jh;d<s&&(g=i*a*4,h.set(u.subarray(c,c+g)),t.putImageData(o,0,p))}else{if(e.kind!==fi.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));for(f=Jh,g=i*f,d=0;d<s;d++){for(d>=r&&(f=a,g=i*f),l=0,p=g;p--;)h[l++]=u[c++],h[l++]=u[c++],h[l++]=u[c++],h[l++]=255;t.putImageData(o,0,d*Jh)}}}function rd(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,i=e.width,a=n%Jh,r=(n-a)/Jh,s=0===a?r:r+1,o=t.createImageData(i,Jh);let l=0;const c=e.data,u=o.data;for(let h=0;h<s;h++){const e=h<r?Jh:a;({srcPos:l}=Qh({src:c,srcPos:l,dest:u,width:i,height:e,nonBlackColor:0})),t.putImageData(o,0,h*Jh)}}function sd(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==t[i]&&(e[i]=t[i]);void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function od(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;"none"!==e&&""!==e&&(t.filter="none")}function ld(t,e){if(e)return!0;Yi.singularValueDecompose2dScale(t,Zh);const n=Math.fround(Aa.pixelRatio*sa.PDF_TO_CSS_UNITS);return Zh[0]<=n&&Zh[1]<=n}const cd=["butt","round","square"],ud=["miter","round","bevel"],hd={},dd={};var pd=new WeakSet,fd=new WeakSet,gd=new WeakSet;class md{constructor(t,e,n,i,a,r,s,o,l){let{optionalContentConfig:c,markedContentStack:u=null}=r;on(this,gd),on(this,fd),on(this,pd),this.ctx=t,this.current=new id(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new ed(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=null!==l&&void 0!==l?l:null}getObject(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var i;return"string"===typeof e?(null===(i=this.dependencyTracker)||void 0===i||i.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing(t){let{transform:e,viewport:n,transparency:i=!1,background:a=null}=t;const r=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,r,s),this.ctx.fillStyle=o,i){const t=this.cachedCanvases.getCanvas("transparent",r,s);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...wa(this.compositeCtx))}this.ctx.save(),od(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=wa(this.ctx)}executeOperatorList(t,e,n,i,a){const r=t.argsArray,s=t.fnArray;let o=e||0;const l=r.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,u=c?Date.now()+15:0;let h=0;const d=this.commonObjs,p=this.objs;let f,g;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;var m;if(!a||a(o))if(f=s[o],g=null!==(m=r[o])&&void 0!==m?m:null,f!==Ai.dependency)null===g?this[f](o):this[f](o,...g);else for(const t of g){var v;null===(v=this.dependencyTracker)||void 0===v||v.recordNamedData(t,o);const e=t.startsWith("g_")?d:p;if(!e.has(t))return e.get(t,n),o}if(o++,o===l)return o;if(c&&++h>10){if(Date.now()>u)return n(),o;h=0}}}endDrawing(){cn(this,pd,vd).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),cn(this,fd,bd).call(this)}_scaleImage(t,e){var n,i;const a=null!==(n=t.width)&&void 0!==n?n:t.displayWidth,r=null!==(i=t.height)&&void 0!==i?i:t.displayHeight;let s,o,l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),u=a,h=r,d="prescale1";for(;l>2&&u>1||c>2&&h>1;){let e=u,n=h;l>2&&u>1&&(e=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/e),c>2&&h>1&&(n=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/n),s=this.cachedCanvases.getCanvas(d,e,n),o=s.context,o.clearRect(0,0,e,n),o.drawImage(t,0,0,u,h,0,0,e,n),t=s.canvas,u=e,h=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t,e){var n;const i=this.ctx,{width:a,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,l=wa(i);let c,u,h,d;if((e.bitmap||e.data)&&e.count>1){const n=e.bitmap||e.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),s]),c=this._cachedBitmapsMap.get(n),c||(c=new Map,this._cachedBitmapsMap.set(n,c));const i=c.get(u);if(i&&!o){var p;const e=Math.round(Math.min(l[0],l[2])+l[4]),n=Math.round(Math.min(l[1],l[3])+l[5]);return null===(p=this.dependencyTracker)||void 0===p||p.recordDependencies(t,Fh),{canvas:i,offsetX:e,offsetY:n}}h=i}h||(d=this.cachedCanvases.getCanvas("maskCanvas",a,r),rd(d.context,e));let f=Yi.transform(l,[1/a,0,0,-1/r,0,0]);f=Yi.transform(f,[1,0,0,1,0,-r]);const g=td.slice();Yi.axialAlignedBoundingBox([0,0,a,r],f,g);const[m,v,b,w]=g,y=Math.round(b-m)||1,k=Math.round(w-v)||1,A=this.cachedCanvases.getCanvas("fillCanvas",y,k),S=A.context,x=m,_=v;S.translate(-x,-_),S.transform(...f),h||(h=this._scaleImage(d.canvas,ya(S)),h=h.img,c&&o&&c.set(u,h)),S.imageSmoothingEnabled=ld(wa(S),e.interpolate),nd(S,h,0,0,h.width,h.height,0,0,a,r),S.globalCompositeOperation="source-in";const E=Yi.transform(ya(S),[1,0,0,1,-x,-_]);return S.fillStyle=o?s.getPattern(i,this,E,Oh,t):s,S.fillRect(0,0,a,r),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,A.canvas)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Fh),{canvas:A.canvas,offsetX:Math.round(x),offsetY:Math.round(_)}}setLineWidth(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineCap",t),this.ctx.lineCap=cd[e]}setLineJoin(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineJoin",t),this.ctx.lineJoin=ud[e]}setMiterLimit(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("dash",t);const a=this.ctx;void 0!==a.setLineDash&&(a.setLineDash(e),a.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var n,i,a,r,s;for(const[o,l]of e)switch(o){case"LW":this.setLineWidth(t,l);break;case"LC":this.setLineCap(t,l);break;case"LJ":this.setLineJoin(t,l);break;case"ML":this.setMiterLimit(t,l);break;case"D":this.setDash(t,l[0],l[1]);break;case"RI":this.setRenderingIntent(t,l);break;case"FL":this.setFlatness(t,l);break;case"Font":this.setFont(t,l[0],l[1]);break;case"CA":null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=l;break;case"ca":null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=l;break;case"BM":null===(a=this.dependencyTracker)||void 0===a||a.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=l;break;case"SMask":null===(r=this.dependencyTracker)||void 0===r||r.recordSimpleData("SMask",t),this.current.activeSMask=l?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(l)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx;const r=this.ctx=a.context;r.setTransform(this.suspendedCtx.getTransform()),sd(this.suspendedCtx,r),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,i,a,r,s){e.transform(t,n,i,a,r,s),this.__originalTransform(t,n,i,a,r,s)},t.setTransform=function(t,n,i,a,r,s){e.setTransform(t,n,i,a,r,s),this.__originalSetTransform(t,n,i,a,r,s)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,i,a,r,s){e.bezierCurveTo(t,n,i,a,r,s),this.__originalBezierCurveTo(t,n,i,a,r,s)},t.rect=function(t,n,i,a){e.rect(t,n,i,a),this.__originalRect(t,n,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(r,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),sd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const a=i[0],r=i[1],s=i[2]-a,o=i[3]-r;0!==s&&0!==o&&(this.genericComposeSMask(e.context,n,s,o,e.subtype,e.backdrop,e.transferMap,a,r,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,a,r,s,o,l,c,u){let h=t.canvas,d=o-c,p=l-u;if(r)if(d<0||p<0||d+n>h.width||p+i>h.height){const t=this.cachedCanvases.getCanvas("maskExtension",n,i),e=t.context;e.drawImage(h,-d,-p),e.globalCompositeOperation="destination-atop",e.fillStyle=r,e.fillRect(0,0,n,i),e.globalCompositeOperation="source-over",h=t.canvas,d=p=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const e=new Path2D;e.rect(d,p,n,i),t.clip(e),t.globalCompositeOperation="destination-atop",t.fillStyle=r,t.fillRect(d,p,n,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===a&&s?e.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===a&&(e.filter=this.filterFactory.addLuminosityFilter(s));const f=new Path2D;f.rect(o,l,n,i),e.clip(f),e.globalCompositeOperation="destination-in",e.drawImage(h,d,p,n,i,o,l,n,i),e.restore()}save(t){var e;this.inSMaskMode&&sd(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),null===(e=this.dependencyTracker)||void 0===e||e.save(t)}restore(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.restore(t),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&sd(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(t,e,n,i,a,r,s){var o;null===(o=this.dependencyTracker)||void 0===o||o.recordIncrementalData("transform",t),this.ctx.transform(e,n,i,a,r,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,i){let[a]=n;if(!i)return a||(a=n[0]=new Path2D),void this[e](t,a);if(null!==this.dependencyTracker){const n=e===Ai.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,i[0]-n,i[2]+n,i[1]-n,i[3]+n).recordDependencies(t,["transform"])}if(!(a instanceof Path2D)){const t=n[0]=new Path2D;for(let e=0,n=a.length;e<n;)switch(a[e++]){case Si:t.moveTo(a[e++],a[e++]);break;case xi:t.lineTo(a[e++],a[e++]);break;case _i:t.bezierCurveTo(a[e++],a[e++],a[e++],a[e++],a[e++],a[e++]);break;case Ei:t.closePath();break;default:Ri("Unrecognized drawing path operator: ".concat(a[e-1]))}a=t}Yi.axialAlignedBoundingBox(i,wa(this.ctx),this.current.minMax),this[e](t,a),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e){var n;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=this.ctx,r=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof r&&null!==r&&void 0!==r&&r.getPattern){const n=r.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=r.getPattern(a,this,ya(a),Wh,t),n){const t=new Path2D;t.addPath(e,a.getTransform().invertSelf().multiplySelf(n)),e=t}this.rescaleAndStroke(e,!1),a.restore()}else this.rescaleAndStroke(e,!0);null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Ph),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Wh,wa(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e){var n;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=this.ctx,r=this.current.fillColor;let s=!1;if(this.current.patternFill){var o;const n=r.isModifyingCurrentTransform()?a.getTransform():null;if(null===(o=this.dependencyTracker)||void 0===o||o.save(t),a.save(),a.fillStyle=r.getPattern(a,this,ya(a),Oh,t),n){const t=new Path2D;t.addPath(e,a.getTransform().invertSelf().multiplySelf(n)),e=t}s=!0}const l=this.current.getClippedPathBoundingBox();var c;(this.contentVisible&&null!==l&&(this.pendingEOFill?(a.fill(e,"evenodd"),this.pendingEOFill=!1):a.fill(e)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Rh),s)&&(a.restore(),null===(c=this.dependencyTracker)||void 0===c||c.restore(t));i&&this.consumePath(t,e,l)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var n;this.ctx.fill(e),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Lh).recordOperation(t)}clip(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=hd}eoClip(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=dd}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,null===(e=this.dependencyTracker)||void 0===e||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:n}=this;void 0!==e&&n.recordFutureForcedDependency("textClip",n.getOpenMarker()).recordFutureForcedDependency("textClip",t),n.recordCloseMarker(t)}if(void 0!==e){const t=new Path2D,i=n.getTransform().invertSelf();for(const{transform:n,x:a,y:r,fontSize:s,path:o}of e)o&&t.addPath(o,new DOMMatrix(n).preMultiplySelf(i).translate(a,r).scale(s,-s));n.clip(t)}delete this.pendingTextPaths}setCharSpacing(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){var i,a;null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(s.fontMatrix=r.fontMatrix||Yn,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||Ri("Invalid font matrix for font "+e),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const o=r.loadedName||"sans-serif",l=(null===(a=r.systemFontInfo)||void 0===a?void 0:a.css)||'"'.concat(o,'", ').concat(r.fallbackName);let c="normal";r.black?c="900":r.bold&&(c="bold");const u=r.italic?"italic":"normal";let h=n;n<16?h=16:n>100&&(h=100),this.current.fontSizeScale=n/h,this.ctx.font="".concat(u," ").concat(c," ").concat(h,"px ").concat(l)}setTextRenderingMode(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){var e,n;this.moveText(t,0,this.current.leading),null===(e=this.dependencyTracker)||void 0===e||e.recordIncrementalData("moveText",null!==(n=this.dependencyTracker.getSimpleIndex("leading"))&&void 0!==n?n:t)}paintChar(t,e,n,i,a,r){const s=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,h=c&di,d=!!(c&pi),p=o.patternFill&&!l.missingFile,f=o.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||d||p||f)&&!l.missingFile&&(g=l.getPathGenerator(this.commonObjs,e)),g&&(l.disableFontFace||p||f)){var m;let e;if(s.save(),s.translate(n,i),s.scale(u,-u),null===(m=this.dependencyTracker)||void 0===m||m.recordCharacterBBox(t,s,l),h===li||h===ui)if(a){e=s.getTransform(),s.setTransform(...a);const t=cn(this,gd,wd).call(this,g,e,a);s.fill(t)}else s.fill(g);if(h===ci||h===ui)if(r){e||(e=s.getTransform()),s.setTransform(...r);const{a:t,b:n,c:i,d:a}=e,o=Yi.inverseTransform(r),l=Yi.transform([t,n,i,a,0,0],o);Yi.singularValueDecompose2dScale(l,Zh),s.lineWidth*=Math.max(Zh[0],Zh[1])/u,s.stroke(cn(this,gd,wd).call(this,g,e,r))}else s.lineWidth/=u,s.stroke(g);s.restore()}else{var v;if(h===li||h===ui)s.fillText(e,n,i),null===(v=this.dependencyTracker)||void 0===v||v.recordCharacterBBox(t,s,l,u,n,i,(()=>s.measureText(e)));if(h===ci||h===ui){var b;if(this.dependencyTracker)null===(b=this.dependencyTracker)||void 0===b||b.recordCharacterBBox(t,s,l,u,n,i,(()=>s.measureText(e))).recordDependencies(t,Ph);s.strokeText(e,n,i)}}if(d){var w;(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:wa(s),x:n,y:i,fontSize:u,path:g}),null===(w=this.dependencyTracker)||void 0===w||w.recordCharacterBBox(t,s,l,u,n,i)}}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return Fi(this,"isFontSubpixelAAEnabled",n)}showText(t,e){var n;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Ih).resetBBox(t),this.current.textRenderingMode&pi&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,a=i.font;var r;if(a.isType3Font)return this.showType3Text(t,e),void(null===(r=this.dependencyTracker)||void 0===r||r.recordShowTextOperation(t));const s=i.fontSize;var o;if(0===s)return void(null===(o=this.dependencyTracker)||void 0===o||o.recordOperation(t));const l=this.ctx,c=i.fontSizeScale,u=i.charSpacing,h=i.wordSpacing,d=i.fontDirection,p=i.textHScale*d,f=e.length,g=a.vertical,m=g?1:-1,v=a.defaultVMetrics,b=s*i.fontMatrix[0],w=i.textRenderingMode===li&&!a.disableFontFace&&!i.patternFill;let y,k;if(l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),d>0?l.scale(p,-1):l.scale(p,1),i.patternFill){l.save();const e=i.fillColor.getPattern(l,this,ya(l),Oh,t);y=wa(l),l.restore(),l.fillStyle=e}if(i.patternStroke){l.save();const e=i.strokeColor.getPattern(l,this,ya(l),Wh,t);k=wa(l),l.restore(),l.strokeStyle=e}let A=i.lineWidth;const S=i.textMatrixScale;if(0===S||0===A){const t=i.textRenderingMode&di;t!==ci&&t!==ui||(A=this.getSinglePixelWidth())}else A/=S;if(1!==c&&(l.scale(c,c),A/=c),l.lineWidth=A,a.isInvalidPDFjsFont){const n=[];let a=0;for(const t of e)n.push(t.unicode),a+=t.width;const r=n.join("");if(l.fillText(r,0,0),null!==this.dependencyTracker){const e=l.measureText(r);this.dependencyTracker.recordBBox(t,this.ctx,-e.actualBoundingBoxLeft,e.actualBoundingBoxRight,-e.actualBoundingBoxAscent,e.actualBoundingBoxDescent).recordShowTextOperation(t)}return i.x+=a*b*p,l.restore(),void this.compose()}let x,_=0;for(x=0;x<f;++x){const n=e[x];if("number"===typeof n){_+=m*n*s/1e3;continue}let i=!1;const r=(n.isSpace?h:0)+u,o=n.fontChar,p=n.accent;let f,A,S,C=n.width;if(g){const t=n.vmetric||v,e=-(n.vmetric?t[1]:.5*C)*b,i=t[2]*b;C=t?-t[0]:C,f=e/c,A=(_+i)/c}else f=_/c,A=0;if(a.remeasure&&C>0){S=l.measureText(o);const t=1e3*S.width/s*c;if(C<t&&this.isFontSubpixelAAEnabled){const e=C/t;i=!0,l.save(),l.scale(e,1),f/=e}else C!==t&&(f+=(C-t)/2e3*s/c)}var E;if(this.contentVisible&&(n.isInFont||a.missingFile))if(w&&!p)l.fillText(o,f,A),null===(E=this.dependencyTracker)||void 0===E||E.recordCharacterBBox(t,l,S?{bbox:null}:a,s/c,f,A,(()=>{var t;return null!==(t=S)&&void 0!==t?t:l.measureText(o)}));else if(this.paintChar(t,o,f,A,y,k),p){const e=f+s*p.offset.x/c,n=A-s*p.offset.y/c;this.paintChar(t,p.fontChar,e,n,y,k)}_+=g?C*b-r*d:C*b+r*d,i&&l.restore()}g?i.y-=_:i.x+=_*p,l.restore(),this.compose(),null===(n=this.dependencyTracker)||void 0===n||n.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,i=this.current,a=i.font,r=i.fontSize,s=i.fontDirection,o=a.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,u=i.textHScale*s,h=i.fontMatrix||Yn,d=e.length;let p,f,g,m;if(i.textRenderingMode===hi||0===r)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(u,s);const v=this.dependencyTracker;for(this.dependencyTracker=v?new Th(v,t):null,p=0;p<d;++p){if(f=e[p],"number"===typeof f){m=o*f*r/1e3,this.ctx.translate(m,0),i.x+=m*u;continue}const t=(f.isSpace?c:0)+l,s=a.charProcOperatorList[f.operatorListId];s?this.contentVisible&&(this.save(),n.scale(r,r),n.transform(...h),this.executeOperatorList(s),this.restore()):Ri('Type3 character "'.concat(f.operatorListId,'" is not available.'));const d=[f.width,0];Yi.applyTransform(d,h),g=d[0]*r+t,n.translate(g,0),i.x+=g*u}n.restore(),v&&(this.dependencyTracker=v)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,i,a,r,s){var o;const l=new Path2D;l.rect(i,a,r-i,s-a),this.ctx.clip(l),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,this.ctx,i,r,a,s).recordClipBox(t,this.ctx,i,r,a,s),this.endPath(t)}getColorN_Pattern(t,e){let n;if("TilingPattern"===e[0]){const t=this.baseTransform||wa(this.ctx),i={createCanvasGraphics:(t,e)=>new md(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Th(this.dependencyTracker,e,!0):null)};n=new Kh(e,this.ctx,i,t)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("strokeColor",t);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.current.strokeColor=this.getColorN_Pattern(t,i),this.current.patternStroke=!0}setFillColorN(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("fillColor",t);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.current.fillColor=this.getColorN_Pattern(t,i),this.current.patternFill=!0}setStrokeRGBColor(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=function(t){switch(t[0]){case"RadialAxial":return new Uh(t);case"Mesh":return new Gh(t);case"Dummy":return new qh}throw new Error("Unknown IR type: ".concat(t[0]))}(this.getObject(t,e)),this.cachedPatterns.set(e,n)),i&&(n.matrix=i),n}shadingFill(t,e){var n;if(!this.contentVisible)return;const i=this.ctx;this.save(t);const a=this._getPattern(t,e);i.fillStyle=a.getPattern(i,this,ya(i),Bh,t);const r=ya(i);if(r){const{width:t,height:e}=i.canvas,n=td.slice();Yi.axialAlignedBoundingBox([0,0,t,e],r,n);const[a,s,o,l]=n;this.ctx.fillRect(a,s,o-a,l-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Nh).recordDependencies(t,Rh).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Di("Should not call beginInlineImage")}beginImageData(){Di("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=wa(this.ctx),n)){var i;Yi.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[e,a,r,s]=n,o=new Path2D;o.rect(e,a,r-e,s-a),this.ctx.clip(o),null===(i=this.dependencyTracker)||void 0===i||i.recordClipBox(t,this.ctx,e,r,a,s),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var n;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Pi("TODO: Support non-isolated groups."),e.knockout&&Ri("Knockout groups not supported.");const a=wa(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=td.slice();Yi.axialAlignedBoundingBox(e.bbox,wa(i),r);const s=[0,0,i.canvas.width,i.canvas.height];r=Yi.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),l=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-o,1),u=Math.max(Math.ceil(r[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,c,u),p=d.context;p.translate(-o,-l),p.transform(...a);let f=new Path2D;const[g,m,v,b]=e.bbox;if(f.rect(g,m,v-g,b-m),e.matrix){const t=new Path2D;t.addPath(f,new DOMMatrix(e.matrix)),f=t}p.clip(f),e.smask&&this.smaskStack.push({canvas:d.canvas,context:p,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),e.smask&&!this.dependencyTracker||(i.setTransform(1,0,0,1,0,0),i.translate(o,l),i.save()),sd(i,p),this.ctx=p,null===(n=this.dependencyTracker)||void 0===n||n.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){var n;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,null===(n=this.dependencyTracker)||void 0===n||n.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const e=wa(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...e);const n=td.slice();Yi.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],e,n),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,i,a,r){if(cn(this,pd,vd).call(this),od(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const a=n[2]-n[0],s=n[3]-n[1];if(r&&this.annotationCanvasMap){(i=i.slice())[4]-=n[0],i[5]-=n[1],(n=n.slice())[0]=n[1]=0,n[2]=a,n[3]=s,Yi.singularValueDecompose2dScale(wa(this.ctx),Zh);const{viewportScale:t}=this,r=Math.ceil(a*this.outputScaleX*t),o=Math.ceil(s*this.outputScaleY*t);this.annotationCanvas=this.canvasFactory.create(r,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(e,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(Zh[0],0,0,-Zh[1],0,s*Zh[1]),od(this.ctx)}else{od(this.ctx),this.endPath(t);const e=new Path2D;e.rect(n[0],n[1],a,s),this.ctx.clip(e)}}this.current=new id(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...i),this.transform(t,...a)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),cn(this,fd,bd).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var n;if(!this.contentVisible)return;const i=e.count;(e=this.getObject(t,e.data,e)).count=i;const a=this.ctx,r=this._createMaskCanvas(t,e),s=r.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(s,r.offsetX,r.offsetY),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordBBox(t,this.ctx,r.offsetX,r.offsetX+s.width,r.offsetY,r.offsetY+s.height).recordOperation(t),a.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n){var i,a;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const c=this.ctx;c.save();const u=wa(c);c.transform(n,r,s,o,0,0);const h=this._createMaskCanvas(t,e);c.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]),null===(i=this.dependencyTracker)||void 0===i||i.resetBBox(t);for(let p=0,f=l.length;p<f;p+=2){var d;const e=Yi.transform(u,[n,r,s,o,l[p],l[p+1]]);c.drawImage(h.canvas,e[4],e[5]),null===(d=this.dependencyTracker)||void 0===d||d.recordBBox(t,this.ctx,e[4],e[4]+h.canvas.width,e[5],e[5]+h.canvas.height)}c.restore(),this.compose(),null===(a=this.dependencyTracker)||void 0===a||a.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var n,i;if(!this.contentVisible)return;const a=this.ctx,r=this.current.fillColor,s=this.current.patternFill;null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordDependencies(t,Fh);for(const l of e){var o;const{data:e,width:n,height:i,transform:c}=l,u=this.cachedCanvases.getCanvas("maskCanvas",n,i),h=u.context;h.save();rd(h,this.getObject(t,e,l)),h.globalCompositeOperation="source-in",h.fillStyle=s?r.getPattern(h,this,ya(a),Oh,t):r,h.fillRect(0,0,n,i),h.restore(),a.save(),a.transform(...c),a.scale(1,-1),nd(a,u.canvas,0,0,n,i,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,a,0,n,0,i),a.restore()}this.compose(),null===(i=this.dependencyTracker)||void 0===i||i.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);n?this.paintInlineImageXObject(t,n):Ri("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,i,a){if(!this.contentVisible)return;const r=this.getObject(t,e);if(!r)return void Ri("Dependent image isn't ready yet");const s=r.width,o=r.height,l=[];for(let c=0,u=a.length;c<u;c+=2)l.push({transform:[n,0,0,i,a[c],a[c+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(t,r,l)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:n,height:i}=t,a=this.cachedCanvases.getCanvas("inlineImage",n,i),r=a.context;return r.filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",a.canvas}paintInlineImageXObject(t,e){var n;if(!this.contentVisible)return;const i=e.width,a=e.height,r=this.ctx;this.save(t);const{filter:s}=r;let o;if("none"!==s&&""!==s&&(r.filter="none"),r.scale(1/i,-1/a),e.bitmap)o=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)o=e;else{const t=this.cachedCanvases.getCanvas("inlineImage",i,a).context;ad(t,e),o=this.applyTransferMapsToCanvas(t)}const l=this._scaleImage(o,ya(r));r.imageSmoothingEnabled=ld(wa(r),e.interpolate),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordBBox(t,r,0,i,-a,0).recordDependencies(t,Dh).recordOperation(t),nd(r,l.img,0,0,l.paintWidth,l.paintHeight,0,-a,i,a),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){var i,a;if(!this.contentVisible)return;const r=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;ad(i,e),s=this.applyTransferMapsToCanvas(i)}null===(i=this.dependencyTracker)||void 0===i||i.resetBBox(t);for(const l of n){var o;r.save(),r.transform(...l.transform),r.scale(1,-1),nd(r,s,l.x,l.y,l.w,l.h,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,r,0,1,-1,0),r.restore()}null===(a=this.dependencyTracker)||void 0===a||a.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&(null===(e=this.dependencyTracker)||void 0===e||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Rh).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.beginMarkedContent(t),"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const a=this.ctx;var r,s;this.pendingClip?(i||(this.pendingClip===dd?a.clip(e,"evenodd"):a.clip(e)),this.pendingClip=null,null===(r=this.dependencyTracker)||void 0===r||r.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):null===(s=this.dependencyTracker)||void 0===s||s.recordOperation(t);this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=wa(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:a}=this.ctx.getTransform();let r,s;if(0===n&&0===i){const n=Math.abs(e),i=Math.abs(a);if(n===i)if(0===t)r=s=1/n;else{const e=n*t;r=s=e<1?1/e:1}else if(0===t)r=1/n,s=1/i;else{const e=n*t,a=i*t;r=e<1?1/e:1,s=a<1?1/a:1}}else{const o=Math.abs(e*a-n*i),l=Math.hypot(e,n),c=Math.hypot(i,a);if(0===t)r=c/o,s=l/o;else{const e=t*o;r=c>e?c/e:1,s=l>e?l/e:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:i}}=this,[a,r]=this.getScaleForStroking();if(a===r)return n.lineWidth=(i||1)*a,void n.stroke(t);const s=n.getLineDash();e&&n.save(),n.scale(a,r),$h.a=1/a,$h.d=1/r;const o=new Path2D;if(o.addPath(t,$h),s.length>0){const t=Math.max(a,r);n.setLineDash(s.map((e=>e/t))),n.lineDashOffset/=t}n.lineWidth=i||1,n.stroke(o),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}function vd(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function bd(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}function wd(t,e,n){const i=new Path2D;return i.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),i}for(const n in Ai)void 0!==md.prototype[n]&&(md.prototype[Ai[n]]=md.prototype[n]);var yd=new WeakMap,kd=new WeakMap,Ad=new WeakMap,Sd=new WeakSet;class xd{static write(t){const e=new TextEncoder,n={};let i=0;for(const l of xd.strings){const a=e.encode(t[l]);n[l]=a,i+=4+a.length}const a=new ArrayBuffer(i),r=new Uint8Array(a),s=new DataView(a);let o=0;for(const l of xd.strings){const t=n[l],e=t.length;s.setUint32(o,e),r.set(t,o+4),o+=4+e}return Li(o===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(t){on(this,Sd),ln(this,yd,{writable:!0,value:void 0}),ln(this,kd,{writable:!0,value:void 0}),ln(this,Ad,{writable:!0,value:void 0}),pn(this,yd,t),pn(this,kd,new DataView(hn(this,yd))),pn(this,Ad,new TextDecoder)}get fontFamily(){return cn(this,Sd,_d).call(this,0)}get fontWeight(){return cn(this,Sd,_d).call(this,1)}get italicAngle(){return cn(this,Sd,_d).call(this,2)}}function _d(t){Li(t<Dn.strings.length,"Invalid string index");let e=0;for(let i=0;i<t;i++)e+=hn(this,kd).getUint32(e)+4;const n=hn(this,kd).getUint32(e);return hn(this,Ad).decode(new Uint8Array(hn(this,yd),e+4,n))}Dn=xd,yn(xd,"strings",["fontFamily","fontWeight","italicAngle"]);var Ed=new WeakMap,Cd=new WeakMap,Md=new WeakMap,Td=new WeakSet;class Pd{static write(t){const e=new TextEncoder,n={};let i=0;for(const h of Pd.strings){const a=e.encode(t[h]);n[h]=a,i+=4+a.length}i+=4;let a,r,s=1+i;t.style&&(a=e.encode(t.style.style),r=e.encode(t.style.weight),s+=4+a.length+4+r.length);const o=new ArrayBuffer(s),l=new Uint8Array(o),c=new DataView(o);let u=0;c.setUint8(u++,t.guessFallback?1:0),c.setUint32(u,0),u+=4,i=0;for(const h of Pd.strings){const t=n[h],e=t.length;i+=4+e,c.setUint32(u,e),l.set(t,u+4),u+=4+e}return c.setUint32(u-i-4,i),t.style&&(c.setUint32(u,a.length),l.set(a,u+4),u+=4+a.length,c.setUint32(u,r.length),l.set(r,u+4),u+=4+r.length),Li(u<=o.byteLength,"SubstitionInfo.write: Buffer overflow"),o.transferToFixedLength(u)}constructor(t){on(this,Td),ln(this,Ed,{writable:!0,value:void 0}),ln(this,Cd,{writable:!0,value:void 0}),ln(this,Md,{writable:!0,value:void 0}),pn(this,Ed,t),pn(this,Cd,new DataView(hn(this,Ed))),pn(this,Md,new TextDecoder)}get guessFallback(){return 0!==hn(this,Cd).getUint8(0)}get css(){return cn(this,Td,Rd).call(this,0)}get loadedName(){return cn(this,Td,Rd).call(this,1)}get baseFontName(){return cn(this,Td,Rd).call(this,2)}get src(){return cn(this,Td,Rd).call(this,3)}get style(){let t=1;t+=4+hn(this,Cd).getUint32(t);const e=hn(this,Cd).getUint32(t),n=hn(this,Md).decode(new Uint8Array(hn(this,Ed),t+4,e));t+=4+e;const i=hn(this,Cd).getUint32(t);return{style:n,weight:hn(this,Md).decode(new Uint8Array(hn(this,Ed),t+4,i))}}}function Rd(t){Li(t<Ln.strings.length,"Invalid string index");let e=5;for(let i=0;i<t;i++)e+=hn(this,Cd).getUint32(e)+4;const n=hn(this,Cd).getUint32(e);return hn(this,Md).decode(new Uint8Array(hn(this,Ed),e+4,n))}Ln=Pd,yn(Pd,"strings",["css","loadedName","baseFontName","src"]);var Dd=new WeakMap,Ld=new WeakMap,Id=new WeakMap,Nd=new WeakSet,Fd=new WeakSet,Od=new WeakSet;class Wd{constructor(t){let{data:e,extra:n}=t;on(this,Od),on(this,Fd),on(this,Nd),ln(this,Dd,{writable:!0,value:void 0}),ln(this,Ld,{writable:!0,value:void 0}),ln(this,Id,{writable:!0,value:void 0}),pn(this,Dd,e),pn(this,Ld,new TextDecoder),pn(this,Id,new DataView(hn(this,Dd))),n&&Object.assign(this,n)}get black(){return cn(this,Nd,Bd).call(this,0)}get bold(){return cn(this,Nd,Bd).call(this,1)}get disableFontFace(){return cn(this,Nd,Bd).call(this,2)}get fontExtraProperties(){return cn(this,Nd,Bd).call(this,3)}get isInvalidPDFjsFont(){return cn(this,Nd,Bd).call(this,4)}get isType3Font(){return cn(this,Nd,Bd).call(this,5)}get italic(){return cn(this,Nd,Bd).call(this,6)}get missingFile(){return cn(this,Nd,Bd).call(this,7)}get remeasure(){return cn(this,Nd,Bd).call(this,8)}get vertical(){return cn(this,Nd,Bd).call(this,9)}get ascent(){return cn(this,Fd,jd).call(this,0)}get defaultWidth(){return cn(this,Fd,jd).call(this,1)}get descent(){return cn(this,Fd,jd).call(this,2)}get bbox(){let t=vn(Wd,Wd,Hd);if(0===hn(this,Id).getUint8(t))return;t+=1;const e=[];for(let n=0;n<4;n++)e.push(hn(this,Id).getInt16(t,!0)),t+=2;return e}get fontMatrix(){let t=vn(Wd,Wd,Vd);if(0===hn(this,Id).getUint8(t))return;t+=1;const e=[];for(let n=0;n<6;n++)e.push(hn(this,Id).getFloat64(t,!0)),t+=8;return e}get defaultVMetrics(){let t=vn(Wd,Wd,Gd);if(0===hn(this,Id).getUint8(t))return;t+=1;const e=[];for(let n=0;n<3;n++)e.push(hn(this,Id).getInt16(t,!0)),t+=2;return e}get fallbackName(){return cn(this,Od,zd).call(this,0)}get loadedName(){return cn(this,Od,zd).call(this,1)}get mimetype(){return cn(this,Od,zd).call(this,2)}get name(){return cn(this,Od,zd).call(this,3)}get data(){let t=vn(Wd,Wd,qd);t+=4+hn(this,Id).getUint32(t);t+=4+hn(this,Id).getUint32(t);t+=4+hn(this,Id).getUint32(t);const e=hn(this,Id).getUint32(t);if(0!==e)return new Uint8Array(hn(this,Dd),t+4,e)}clearData(){let t=vn(Wd,Wd,qd);t+=4+hn(this,Id).getUint32(t);t+=4+hn(this,Id).getUint32(t);t+=4+hn(this,Id).getUint32(t);const e=hn(this,Id).getUint32(t);new Uint8Array(hn(this,Dd),t+4,e).fill(0),hn(this,Id).setUint32(t,0)}get cssFontInfo(){let t=vn(Wd,Wd,qd);t+=4+hn(this,Id).getUint32(t);t+=4+hn(this,Id).getUint32(t);const e=hn(this,Id).getUint32(t);if(0===e)return null;const n=new Uint8Array(e);return n.set(new Uint8Array(hn(this,Dd),t+4,e)),new xd(n.buffer)}get systemFontInfo(){let t=vn(Wd,Wd,qd);t+=4+hn(this,Id).getUint32(t);const e=hn(this,Id).getUint32(t);if(0===e)return null;const n=new Uint8Array(e);return n.set(new Uint8Array(hn(this,Dd),t+4,e)),new Pd(n.buffer)}static write(t){const e=t.systemFontInfo?Pd.write(t.systemFontInfo):null,n=t.cssFontInfo?xd.write(t.cssFontInfo):null,i=new TextEncoder,a={};let r=0;for(const f of Wd.strings)a[f]=i.encode(t[f]),r+=4+a[f].length;const s=vn(Wd,Wd,qd)+4+r+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),o=new ArrayBuffer(s),l=new Uint8Array(o),c=new DataView(o);let u=0;const h=Wd.bools.length;let d=0,p=0;for(let f=0;f<h;f++){const e=t[Wd.bools[f]];d|=(void 0===e?0:e?2:1)<<p,p+=2,8!==p&&f!==h-1||(c.setUint8(u++,d),d=0,p=0)}Li(u===vn(Wd,Wd,Ud),"FontInfo.write: Boolean properties offset mismatch");for(const f of Wd.numbers)c.setFloat64(u,t[f]),u+=8;if(Li(u===vn(Wd,Wd,Hd),"FontInfo.write: Number properties offset mismatch"),t.bbox){c.setUint8(u++,4);for(const e of t.bbox)c.setInt16(u,e,!0),u+=2}else c.setUint8(u++,0),u+=8;if(Li(u===vn(Wd,Wd,Vd),"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){c.setUint8(u++,6);for(const e of t.fontMatrix)c.setFloat64(u,e,!0),u+=8}else c.setUint8(u++,0),u+=48;if(Li(u===vn(Wd,Wd,Gd),"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){c.setUint8(u++,1);for(const e of t.defaultVMetrics)c.setInt16(u,e,!0),u+=2}else c.setUint8(u++,0),u+=6;Li(u===vn(Wd,Wd,qd),"FontInfo.write: DefaultVMetrics properties offset mismatch"),c.setUint32(vn(Wd,Wd,qd),0),u+=4;for(const f of Wd.strings){const t=a[f],e=t.length;c.setUint32(u,e),l.set(t,u+4),u+=4+e}if(c.setUint32(vn(Wd,Wd,qd),u-vn(Wd,Wd,qd)-4),e){const t=e.byteLength;c.setUint32(u,t),Li(u+4+t<=o.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),l.set(new Uint8Array(e),u+4),u+=4+t}else c.setUint32(u,0),u+=4;if(n){const t=n.byteLength;c.setUint32(u,t),Li(u+4+t<=o.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),l.set(new Uint8Array(n),u+4),u+=4+t}else c.setUint32(u,0),u+=4;return void 0===t.data?(c.setUint32(u,0),u+=4):(c.setUint32(u,t.data.length),l.set(t.data,u+4),u+=4+t.data.length),Li(u<=o.byteLength,"FontInfo.write: Buffer overflow"),o.transferToFixedLength(u)}}function Bd(t){Li(t<In.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=2*t%8,i=hn(this,Id).getUint8(e)>>n&3;return 0===i?void 0:2===i}function jd(t){return Li(t<In.numbers.length,"Invalid number index"),hn(this,Id).getFloat64(vn(In,In,Ud)+8*t)}function zd(t){Li(t<In.strings.length,"Invalid string index");let e=vn(In,In,qd)+4;for(let a=0;a<t;a++)e+=hn(this,Id).getUint32(e)+4;const n=hn(this,Id).getUint32(e),i=new Uint8Array(n);return i.set(new Uint8Array(hn(this,Dd),e+4,n)),hn(this,Ld).decode(i)}In=Wd,yn(Wd,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),yn(Wd,"numbers",["ascent","defaultWidth","descent"]),yn(Wd,"strings",["fallbackName","loadedName","mimetype","name"]);var Ud={writable:!0,value:Math.ceil(2*In.bools.length/8)},Hd={writable:!0,value:vn(In,In,Ud)+8*In.numbers.length},Vd={writable:!0,value:vn(In,In,Hd)+1+8},Gd={writable:!0,value:vn(In,In,Vd)+1+48},qd={writable:!0,value:vn(In,In,Gd)+1+6};class Xd{static get workerPort(){return vn(this,Xd,Yd)}static set workerPort(t){if(!("undefined"!==typeof Worker&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");mn(this,Xd,Yd,t)}static get workerSrc(){return vn(this,Xd,Kd)}static set workerSrc(t){if("string"!==typeof t)throw new Error("Invalid `workerSrc` type.");mn(this,Xd,Kd,t)}}var Yd={writable:!0,value:null},Kd={writable:!0,value:""},Qd=new WeakMap,Jd=new WeakMap;Sn=Symbol.iterator;class $d{constructor(t){let{parsedData:e,rawData:n}=t;ln(this,Qd,{writable:!0,value:void 0}),ln(this,Jd,{writable:!0,value:void 0}),pn(this,Qd,e),pn(this,Jd,n)}getRaw(){return hn(this,Jd)}get(t){var e;return null!==(e=hn(this,Qd).get(t))&&void 0!==e?e:null}[Sn](){return hn(this,Qd).entries()}}const Zd=Symbol("INTERNAL");var tp=new WeakMap,ep=new WeakMap,np=new WeakMap,ip=new WeakMap;class ap{constructor(t,e){let{name:n,intent:i,usage:a,rbGroups:r}=e;ln(this,tp,{writable:!0,value:!1}),ln(this,ep,{writable:!0,value:!1}),ln(this,np,{writable:!0,value:!1}),ln(this,ip,{writable:!0,value:!0}),pn(this,tp,!!(t&Jn)),pn(this,ep,!!(t&$n)),this.name=n,this.intent=i,this.usage=a,this.rbGroups=r}get visible(){if(hn(this,np))return hn(this,ip);if(!hn(this,ip))return!1;const{print:t,view:e}=this.usage;return hn(this,tp)?"OFF"!==(null===e||void 0===e?void 0:e.viewState):!hn(this,ep)||"OFF"!==(null===t||void 0===t?void 0:t.printState)}_setVisible(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t!==Zd&&Di("Internal method `_setVisible` called."),pn(this,np,n),pn(this,ip,e)}}var rp=new WeakMap,sp=new WeakMap,op=new WeakMap,lp=new WeakMap,cp=new WeakSet;xn=Symbol.iterator;class up{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn;if(on(this,cp),ln(this,rp,{writable:!0,value:null}),ln(this,sp,{writable:!0,value:new Map}),ln(this,op,{writable:!0,value:null}),ln(this,lp,{writable:!0,value:null}),this.renderingIntent=e,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,pn(this,lp,t.order);for(const n of t.groups)hn(this,sp).set(n.id,new ap(e,n));if("OFF"===t.baseState)for(const t of hn(this,sp).values())t._setVisible(Zd,!1);for(const e of t.on)hn(this,sp).get(e)._setVisible(Zd,!0);for(const e of t.off)hn(this,sp).get(e)._setVisible(Zd,!1);pn(this,op,this.getHash())}}isVisible(t){if(0===hn(this,sp).size)return!0;if(!t)return Pi("Optional content group not defined."),!0;if("OCG"===t.type)return hn(this,sp).has(t.id)?hn(this,sp).get(t.id).visible:(Ri("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return cn(this,cp,hp).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!hn(this,sp).has(e))return Ri("Optional content group not found: ".concat(e)),!0;if(hn(this,sp).get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!hn(this,sp).has(e))return Ri("Optional content group not found: ".concat(e)),!0;if(!hn(this,sp).get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!hn(this,sp).has(e))return Ri("Optional content group not found: ".concat(e)),!0;if(!hn(this,sp).get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!hn(this,sp).has(e))return Ri("Optional content group not found: ".concat(e)),!0;if(hn(this,sp).get(e).visible)return!1}return!0}return Ri("Unknown optional content policy ".concat(t.policy,".")),!0}return Ri("Unknown group type ".concat(t.type,".")),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=hn(this,sp).get(t);if(i){if(n&&e&&i.rbGroups.length)for(const e of i.rbGroups)for(const n of e){var a;if(n!==t)null===(a=hn(this,sp).get(n))||void 0===a||a._setVisible(Zd,!1,!0)}i._setVisible(Zd,!!e,!0),pn(this,rp,null)}else Ri("Optional content group not found: ".concat(t))}setOCGState(t){let e,{state:n,preserveRB:i}=t;for(const a of n){switch(a){case"ON":case"OFF":case"Toggle":e=a;continue}const t=hn(this,sp).get(a);if(t)switch(e){case"ON":this.setVisibility(a,!0,i);break;case"OFF":this.setVisibility(a,!1,i);break;case"Toggle":this.setVisibility(a,!t.visible,i)}}pn(this,rp,null)}get hasInitialVisibility(){return null===hn(this,op)||this.getHash()===hn(this,op)}getOrder(){return hn(this,sp).size?hn(this,lp)?hn(this,lp).slice():[...hn(this,sp).keys()]:null}getGroup(t){return hn(this,sp).get(t)||null}getHash(){if(null!==hn(this,rp))return hn(this,rp);const t=new wc;for(const[e,n]of hn(this,sp))t.update("".concat(e,":").concat(n.visible));return pn(this,rp,t.hexdigest())}[xn](){return hn(this,sp).entries()}}function hp(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const e=t[i];let a;if(Array.isArray(e))a=cn(this,cp,hp).call(this,e);else{if(!hn(this,sp).has(e))return Ri("Optional content group not found: ".concat(e)),!0;a=hn(this,sp).get(e).visible}switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return"And"===n}class dp{constructor(t,e){let{disableRange:n=!1,disableStream:i=!1}=e;Li(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:r,progressiveDone:s,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(null===r||void 0===r?void 0:r.length)>0){const t=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),t.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),t.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),t.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),t.transportReady()}_onReceiveData(t){let{begin:e,chunk:n}=t;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{Li(this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(i),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}_onProgress(t){var e,n,i,a;void 0===t.total?null===(e=this._rangeReaders[0])||void 0===e||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded}):null===(i=this._fullRequestReader)||void 0===i||null===(a=i.onProgress)||void 0===a||a.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;null===(t=this._fullRequestReader)||void 0===t||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Li(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new pp(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new fp(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class pp{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=ha(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fp{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function gp(t,e){const n=new Headers;if(!t||!e||"object"!==typeof e)return n;for(const i in e){const t=e[i];void 0!==t&&n.append(i,t)}return n}function mp(t){var e,n;return null!==(e=null===(n=URL.parse(t))||void 0===n?void 0:n.origin)&&void 0!==e?e:null}function vp(t){let{responseHeaders:e,isHttp:n,rangeChunkSize:i,disableRange:a}=t;const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(e.get("Content-Length"),10);if(!Number.isInteger(s))return r;if(r.suggestedLength=s,s<=2*i)return r;if(a||!n)return r;if("bytes"!==e.get("Accept-Ranges"))return r;return"identity"!==(e.get("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function bp(t){const e=t.get("Content-Disposition");if(e){let t=function(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=s(n);return t=unescape(t),t=o(t),t=l(t),r(t)}if(n=function(t){const e=[];let n;const a=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=a.exec(t));){let[,t,i,a]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[i,a]}const r=[];for(let i=0;i<e.length&&i in e;++i){let[t,n]=e[i];n=s(n),t&&(n=unescape(n),0===i&&(n=o(n))),r.push(n)}return r.join("")}(t),n)return r(l(n));if(n=i("filename","i").exec(t),n){n=n[1];let t=s(n);return t=l(t),r(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function a(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),a=Gi(n);n=i.decode(a),e=!1}catch{}}return n}function r(t){return e&&/[\x80-\xff]/.test(t)&&(t=a("utf-8",t),e&&(t=a("iso-8859-1",t))),t}function s(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function o(t){const e=t.indexOf("'");return-1===e?t:a(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function l(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,i){if("q"===n||"Q"===n)return a(e,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{i=atob(i)}catch{}return a(e,i)}))}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(ha(t))return t}return null}function wp(t,e){return new zi("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t,404===t||0===t&&e.startsWith("file:"))}function yp(t){return 200===t||206===t}function kp(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Ap(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ri("getArrayBuffer - unexpected data format: ".concat(t)),new Uint8Array(t).buffer)}class Sp{constructor(t){yn(this,"_responseOrigin",null),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=gp(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return Li(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new xp(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new _p(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class xp{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),i=e.url;fetch(i,kp(n,this._withCredentials,this._abortController)).then((e=>{if(t._responseOrigin=mp(e.url),!yp(e.status))throw wp(e.status,i);this._reader=e.body.getReader(),this._headersCapability.resolve();const n=e.headers,{allowRangeRequests:a,suggestedLength:r}=vp({responseHeaders:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=r||this._contentLength,this._filename=bp(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Hi("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ap(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class _p{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range","bytes=".concat(e,"-").concat(n-1));const r=i.url;fetch(r,kp(a,this._withCredentials,this._abortController)).then((e=>{const n=mp(e.url);if(n!==t._responseOrigin)throw new Error('Expected range response-origin "'.concat(n,'" to match "').concat(t._responseOrigin,'".'));if(!yp(e.status))throw wp(e.status,r);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded}),{value:Ap(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class Ep{constructor(t){let{url:e,httpHeaders:n,withCredentials:i}=t;yn(this,"_responseOrigin",null),this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=gp(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,r]of this.headers)e.setRequestHeader(a,r);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),i.expectedStatus=206):i.expectedStatus=200,e.responseType="arraybuffer",Li(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var n;const i=this.pendingRequests[t];i&&(null===(n=i.onProgress)||void 0===n||n.call(i,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void n.onError(i.status);const a=i.status||200;if(!(200===a&&206===n.expectedStatus)&&a!==n.expectedStatus)return void n.onError(i.status);const r=function(t){const e=t.response;return"string"!==typeof e?e:Gi(e).buffer}(i);if(206===a){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);e?n.onDone({begin:parseInt(e[1],10),chunk:r}):(Ri('Missing or invalid "Content-Range" header.'),n.onError(0))}else r?n.onDone({begin:0,chunk:r}):n.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Cp{constructor(t){this._source=t,this._manager=new Ep(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Li(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Mp(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new Tp(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Mp{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=mp(e.responseURL);const n=e.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map((t=>{const[e,...n]=t.split(": ");return[e,n.join(": ")]})):[]),{allowRangeRequests:a,suggestedLength:r}=vp({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=bp(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=wp(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Tp{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=mp(null===(t=this._manager.getRequestXhr(this._requestId))||void 0===t?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(e,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}_close(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}_onDone(t){const e=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunk=e;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){var e;null!==(e=this._storedError)&&void 0!==e||(this._storedError=wp(t,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Pp=/^[a-z][a-z0-9\-+.]+:/i;class Rp{constructor(t){this.source=t,this.url=function(t){if(Pp.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}(t.url),Li("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return Li(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Dp(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Lp(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Dp{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then((t=>{this._contentLength=t.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()}),(t=>{"ENOENT"===t.code&&(t=wp(0,this._url.href)),this._storedError=t,this._headersCapability.reject(t)}))}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Hi("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Lp{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ip=Symbol("INITIAL_DATA");var Np=new WeakMap,Fp=new WeakSet;_n=Symbol.iterator;class Op{constructor(){on(this,Fp),ln(this,Np,{writable:!0,value:Object.create(null)})}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=cn(this,Fp,Wp).call(this,t);return n.promise.then((()=>e(n.data))),null}const n=hn(this,Np)[t];if(!n||n.data===Ip)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}has(t){const e=hn(this,Np)[t];return!!e&&e.data!==Ip}delete(t){const e=hn(this,Np)[t];return!(!e||e.data===Ip)&&(delete hn(this,Np)[t],!0)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=cn(this,Fp,Wp).call(this,t);n.data=e,n.resolve()}clear(){for(const e in hn(this,Np)){var t;const{data:n}=hn(this,Np)[e];null===n||void 0===n||null===(t=n.bitmap)||void 0===t||t.close()}pn(this,Np,Object.create(null))}*[_n](){for(const t in hn(this,Np)){const{data:e}=hn(this,Np)[t];e!==Ip&&(yield[t,e])}}}function Wp(t){var e;return(e=hn(this,Np))[t]||(e[t]={...Promise.withResolvers(),data:Ip})}const Bp=30;var jp=new WeakMap,zp=new WeakMap,Up=new WeakMap,Hp=new WeakMap,Vp=new WeakMap,Gp=new WeakMap,qp=new WeakMap,Xp=new WeakMap,Yp=new WeakMap,Kp=new WeakMap,Qp=new WeakMap,Jp=new WeakMap,$p=new WeakMap,Zp=new WeakMap,tf=new WeakMap,ef=new WeakMap,nf=new WeakMap,af=new WeakMap,rf=new WeakSet,sf=new WeakSet,of=new WeakSet;class lf{constructor(t){var e;let{textContentSource:n,container:i,viewport:a}=t;if(on(this,of),on(this,sf),on(this,rf),ln(this,jp,{writable:!0,value:Promise.withResolvers()}),ln(this,zp,{writable:!0,value:null}),ln(this,Up,{writable:!0,value:!1}),ln(this,Hp,{writable:!0,value:!(null===(e=globalThis.FontInspector)||void 0===e||!e.enabled)}),ln(this,Vp,{writable:!0,value:null}),ln(this,Gp,{writable:!0,value:null}),ln(this,qp,{writable:!0,value:0}),ln(this,Xp,{writable:!0,value:0}),ln(this,Yp,{writable:!0,value:null}),ln(this,Kp,{writable:!0,value:null}),ln(this,Qp,{writable:!0,value:0}),ln(this,Jp,{writable:!0,value:0}),ln(this,$p,{writable:!0,value:Object.create(null)}),ln(this,Zp,{writable:!0,value:[]}),ln(this,tf,{writable:!0,value:null}),ln(this,ef,{writable:!0,value:[]}),ln(this,nf,{writable:!0,value:new WeakMap}),ln(this,af,{writable:!0,value:null}),n instanceof ReadableStream)pn(this,tf,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');pn(this,tf,new ReadableStream({start(t){t.enqueue(n),t.close()}}))}pn(this,zp,pn(this,Kp,i)),pn(this,Jp,a.scale*Aa.pixelRatio),pn(this,Qp,a.rotation),pn(this,Gp,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:l}=a.rawDims;pn(this,af,[1,0,0,-1,-o,l+s]),pn(this,Xp,r),pn(this,qp,s),kn(lf,lf,ff).call(lf),ka(i,a),hn(this,jp).promise.finally((()=>{vn(lf,lf,yf).delete(this),pn(this,Gp,null),pn(this,$p,null)})).catch((()=>{}))}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=qi.platform;return Fi(this,"fontFamilyMap",new Map([["sans-serif","".concat(t&&e?"Calibri, ":"","sans-serif")],["monospace","".concat(t&&e?"Lucida Console, ":"","monospace")]]))}render(){const t=()=>{hn(this,Yp).read().then((e=>{var n;let{value:i,done:a}=e;a?hn(this,jp).resolve():(null!==(n=hn(this,Vp))&&void 0!==n||pn(this,Vp,i.lang),Object.assign(hn(this,$p),i.styles),cn(this,rf,cf).call(this,i.items),t())}),hn(this,jp).reject)};return pn(this,Yp,hn(this,tf).getReader()),vn(lf,lf,yf).add(this),t(),hn(this,jp).promise}update(t){let{viewport:e,onBefore:n=null}=t;const i=e.scale*Aa.pixelRatio,a=e.rotation;if(a!==hn(this,Qp)&&(null===n||void 0===n||n(),pn(this,Qp,a),ka(hn(this,Kp),{rotation:a})),i!==hn(this,Jp)){null===n||void 0===n||n(),pn(this,Jp,i);const t={div:null,properties:null,ctx:kn(lf,lf,df).call(lf,hn(this,Vp))};for(const e of hn(this,ef))t.properties=hn(this,nf).get(e),t.div=e,cn(this,of,hf).call(this,t)}}cancel(){var t;const e=new Hi("TextLayer task cancelled.");null===(t=hn(this,Yp))||void 0===t||t.cancel(e).catch((()=>{})),pn(this,Yp,null),hn(this,jp).reject(e)}get textDivs(){return hn(this,ef)}get textContentItemsStr(){return hn(this,Zp)}static cleanup(){if(!(vn(this,lf,yf).size>0)){vn(this,lf,mf).clear();for(const{canvas:t}of vn(this,lf,vf).values())t.remove();vn(this,lf,vf).clear()}}}function cf(t){var e,n;if(hn(this,Up))return;null!==(n=(e=hn(this,Gp)).ctx)&&void 0!==n||(e.ctx=kn(Nn,Nn,df).call(Nn,hn(this,Vp)));const i=hn(this,ef),a=hn(this,Zp);for(const r of t){if(i.length>1e5)return Ri("Ignoring additional textDivs for performance reasons."),void pn(this,Up,!0);if(void 0!==r.str)a.push(r.str),cn(this,sf,uf).call(this,r);else if("beginMarkedContentProps"===r.type||"beginMarkedContent"===r.type){const t=hn(this,zp);pn(this,zp,document.createElement("span")),hn(this,zp).classList.add("markedContent"),r.id&&hn(this,zp).setAttribute("id","".concat(r.id)),t.append(hn(this,zp))}else"endMarkedContent"===r.type&&pn(this,zp,hn(this,zp).parentNode)}}function uf(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};hn(this,ef).push(e);const i=Yi.transform(hn(this,af),t.transform);let a=Math.atan2(i[1],i[0]);const r=hn(this,$p)[t.fontName];r.vertical&&(a+=Math.PI/2);let s=hn(this,Hp)&&r.fontSubstitution||r.fontFamily;s=Nn.fontFamilyMap.get(s)||s;const o=Math.hypot(i[2],i[3]),l=o*kn(Nn,Nn,gf).call(Nn,s,r,hn(this,Vp));let c,u;0===a?(c=i[4],u=i[5]-l):(c=i[4]+l*Math.sin(a),u=i[5]-l*Math.cos(a));const h="calc(var(--total-scale-factor) *",d=e.style;hn(this,zp)===hn(this,Kp)?(d.left="".concat((100*c/hn(this,Xp)).toFixed(2),"%"),d.top="".concat((100*u/hn(this,qp)).toFixed(2),"%")):(d.left="".concat(h).concat(c.toFixed(2),"px)"),d.top="".concat(h).concat(u.toFixed(2),"px)")),d.fontSize="".concat(h).concat((vn(Nn,Nn,wf)*o).toFixed(2),"px)"),d.fontFamily=s,n.fontSize=o,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,hn(this,Hp)&&(e.dataset.fontName=r.fontSubstitutionLoadedName||t.fontName),0!==a&&(n.angle=a*(180/Math.PI));let p=!1;if(t.str.length>1)p=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=r.vertical?t.height:t.width),hn(this,nf).set(e,n),hn(this,Gp).div=e,hn(this,Gp).properties=n,cn(this,of,hf).call(this,hn(this,Gp)),n.hasText&&hn(this,zp).append(e),n.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),hn(this,zp).append(t)}}function hf(t){const{div:e,properties:n,ctx:i}=t,{style:a}=e;let r="";if(vn(Nn,Nn,wf)>1&&(r="scale(".concat(1/vn(Nn,Nn,wf),")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:t}=a,{canvasWidth:s,fontSize:o}=n;kn(Nn,Nn,pf).call(Nn,i,o*hn(this,Jp),t);const{width:l}=i.measureText(e.textContent);l>0&&(r="scaleX(".concat(s*hn(this,Jp)/l,") ").concat(r))}0!==n.angle&&(r="rotate(".concat(n.angle,"deg) ").concat(r)),r.length>0&&(a.transform=r)}function df(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=vn(this,Nn,vf).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),vn(this,Nn,vf).set(t,e),vn(this,Nn,bf).set(e,{size:0,family:""})}return e}function pf(t,e,n){const i=vn(this,Nn,bf).get(t);e===i.size&&n===i.family||(t.font="".concat(e,"px ").concat(n),i.size=e,i.family=n)}function ff(){if(null!==vn(this,Nn,wf))return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),mn(this,Nn,wf,t.getBoundingClientRect().height),t.remove()}function gf(t,e,n){const i=vn(this,Nn,mf).get(t);if(i)return i;const a=kn(this,Nn,df).call(this,n);a.canvas.width=a.canvas.height=Bp,kn(this,Nn,pf).call(this,a,Bp,t);const r=a.measureText(""),s=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let l=.8;return s?l=s/(s+o):(qi.platform.isFirefox&&Ri("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?l=e.ascent:e.descent&&(l=1+e.descent)),vn(this,Nn,mf).set(t,l),l}Nn=lf;var mf={writable:!0,value:new Map},vf={writable:!0,value:new Map},bf={writable:!0,value:new WeakMap},wf={writable:!0,value:null},yf={writable:!0,value:new Set};function kf(){var t,e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const i=new Af,{docId:a}=i,r=n.url?function(t){if(t instanceof URL)return t.href;if("string"===typeof t){if(Xn)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,s=n.data?function(t){if(Xn&&"undefined"!==typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"===typeof t)return Gi(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"===typeof t&&!isNaN(null===t||void 0===t?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,o=n.httpHeaders||null,l=!0===n.withCredentials,c=null!==(t=n.password)&&void 0!==t?t:null,u=n.range instanceof Tf?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536;let d=n.worker instanceof Hf?n.worker:null;const p=n.verbosity,f="string"!==typeof n.docBaseUrl||ua(n.docBaseUrl)?null:n.docBaseUrl,g=Ic(n.cMapUrl),m=!1!==n.cMapPacked,v=n.CMapReaderFactory||(Xn?qu:ru),b=Ic(n.iccUrl),w=Ic(n.standardFontDataUrl),y=n.StandardFontDataFactory||(Xn?Xu:ju),k=Ic(n.wasmUrl),A=n.WasmFactory||(Xn?Yu:Uu),S=!0!==n.stopAtErrors,x=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=!1!==n.isEvalSupported,E="boolean"===typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!Xn,C="boolean"===typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!Xn&&(qi.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,T="boolean"===typeof n.disableFontFace?n.disableFontFace:Xn,P=!0===n.fontExtraProperties,R=!0===n.enableXfa,D=n.ownerDocument||globalThis.document,L=!0===n.disableRange,I=!0===n.disableStream,N=!0===n.disableAutoFetch,F=!0===n.pdfBug,O=n.CanvasFactory||(Xn?Gu:iu),W=n.FilterFactory||(Xn?Vu:Eu),B=!0===n.enableHWA,j=!1!==n.useWasm,z=u?u.length:null!==(e=n.length)&&void 0!==e?e:NaN,U="boolean"===typeof n.useSystemFonts?n.useSystemFonts:!Xn&&!T,H="boolean"===typeof n.useWorkerFetch?n.useWorkerFetch:!!(v===ru&&y===ju&&A===Uu&&g&&w&&k&&pa(g,document.baseURI)&&pa(w,document.baseURI)&&pa(k,document.baseURI));Mi(p);const V={canvasFactory:new O({ownerDocument:D,enableHWA:B}),filterFactory:new W({docId:a,ownerDocument:D}),cMapReaderFactory:H?null:new v({baseUrl:g,isCompressed:m}),standardFontDataFactory:H?null:new y({baseUrl:w}),wasmFactory:H?null:new A({baseUrl:k})};d||(d=Hf.create({verbosity:p,port:Xd.workerPort}),i._worker=d);const G={docId:a,apiVersion:"5.4.296",data:s,password:c,disableAutoFetch:N,rangeChunkSize:h,length:z,docBaseUrl:f,enableXfa:R,evaluatorOptions:{maxImageSize:x,disableFontFace:T,ignoreErrors:S,isEvalSupported:_,isOffscreenCanvasSupported:E,isImageDecoderSupported:C,canvasMaxAreaInBytes:M,fontExtraProperties:P,useSystemFonts:U,useWasm:j,useWorkerFetch:H,cMapUrl:g,iccUrl:b,standardFontDataUrl:w,wasmUrl:k}},q={ownerDocument:D,pdfBug:F,styleElement:null,loadingParams:{disableAutoFetch:N,enableXfa:R}};return d.promise.then((function(){if(i.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const t=d.messageHandler.sendWithPromise("GetDocRequest",G,s?[s.buffer]:null);let e;if(u)e=new dp(u,{disableRange:L,disableStream:I});else if(!s){if(!r)throw new Error("getDocument - no `url` parameter provided.");const t=pa(r)?Sp:Xn?Rp:Cp;e=new t({url:r,length:z,httpHeaders:o,withCredentials:l,rangeChunkSize:h,disableRange:L,disableStream:I})}return t.then((t=>{if(i.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const n=new Qc(a,t,d.port),r=new ag(n,i,e,q,V,B);i._transport=r,n.send("Ready",null)}))})).catch(i._capability.reject),i}class Af{constructor(){yn(this,"_capability",Promise.withResolvers()),yn(this,"_transport",null),yn(this,"_worker",null),yn(this,"docId","d".concat((mn(Af,Af,Sf,(Fn=vn(Af,Af,Sf),On=Fn++,Fn)),On))),yn(this,"destroyed",!1),yn(this,"onPassword",null),yn(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t;this.destroyed=!0;try{var e,n;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(n=this._transport)||void 0===n?void 0:n.destroy())}catch(a){var i;throw null!==(i=this._worker)&&void 0!==i&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,null===(t=this._worker)||void 0===t||t.destroy(),this._worker=null}async getData(){return this._transport.getData()}}var Sf={writable:!0,value:0},xf=new WeakMap,_f=new WeakMap,Ef=new WeakMap,Cf=new WeakMap,Mf=new WeakMap;class Tf{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ln(this,xf,{writable:!0,value:Promise.withResolvers()}),ln(this,_f,{writable:!0,value:[]}),ln(this,Ef,{writable:!0,value:[]}),ln(this,Cf,{writable:!0,value:[]}),ln(this,Mf,{writable:!0,value:[]}),this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(t){hn(this,Mf).push(t)}addProgressListener(t){hn(this,Cf).push(t)}addProgressiveReadListener(t){hn(this,Ef).push(t)}addProgressiveDoneListener(t){hn(this,_f).push(t)}onDataRange(t,e){for(const n of hn(this,Mf))n(t,e)}onDataProgress(t,e){hn(this,xf).promise.then((()=>{for(const n of hn(this,Cf))n(t,e)}))}onDataProgressiveRead(t){hn(this,xf).promise.then((()=>{for(const e of hn(this,Ef))e(t)}))}onDataProgressiveDone(){hn(this,xf).promise.then((()=>{for(const t of hn(this,_f))t()}))}transportReady(){hn(this,xf).resolve()}requestDataRange(t,e){Di("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Pf{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Fi(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Rf=new WeakMap,Df=new WeakSet;class Lf{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];on(this,Df),ln(this,Rf,{writable:!0,value:!1}),this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new da:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Op,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new la({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:a})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Fi(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null}render(t){var e,n,i;let{canvasContext:a,canvas:r=a.canvas,viewport:s,intent:o="display",annotationMode:l=ai.ENABLE,transform:c=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:f=null,isEditing:g=!1,recordOperations:m=!1,operationsFilter:v=null}=t;null===(e=this._stats)||void 0===e||e.time("Overall");const b=this._transport.getRenderingIntent(o,l,f,g),{renderingIntent:w,cacheKey:y}=b;pn(this,Rf,!1),h||(h=this._transport.getOptionalContentConfig(w));let k=this._intentStates.get(y);k||(k=Object.create(null),this._intentStates.set(y,k)),k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null);const A=!!(w&$n);var S;k.displayReadyCapability||(k.displayReadyCapability=Promise.withResolvers(),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(S=this._stats)||void 0===S||S.time("Page Request"),this._pumpOperatorList(b));const x=Boolean(this._pdfBug&&(null===(n=globalThis.StepperManager)||void 0===n?void 0:n.enabled)),_=!this.recordedBBoxes&&(m||x),E=t=>{if(k.renderTasks.delete(C),_){var e;const t=null===(e=C.gfx)||void 0===e?void 0:e.dependencyTracker.take();t&&(C.stepper&&C.stepper.setOperatorBBoxes(t,C.gfx.dependencyTracker.takeDebugMetadata()),m&&(this.recordedBBoxes=t))}var n;(A&&pn(this,Rf,!0),cn(this,Df,If).call(this),t?(C.capability.reject(t),this._abortOperatorList({intentState:k,reason:t instanceof Error?t:new Error(t)})):C.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(n=globalThis.Stats)&&void 0!==n&&n.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new cg({callback:E,params:{canvas:r,canvasContext:a,dependencyTracker:_?new Ah(r,k.operatorList.length,x):null,viewport:s,transform:c,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:k.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:v});((i=k).renderTasks||(i.renderTasks=new Set)).add(C);const M=C.task;return Promise.all([k.displayReadyCapability.promise,h]).then((t=>{var e;let[n,i]=t;if(this.destroyed)E();else{if(null===(e=this._stats)||void 0===e||e.time("Rendering"),!(i.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:n,optionalContentConfig:i}),C.operatorListChanged()}})).catch(E),M}getOperatorList(){let{intent:t="display",annotationMode:e=ai.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=this._transport.getRenderingIntent(t,e,n,i,!0);let r,s=this._intentStates.get(a.cacheKey);var o,l;(s||(s=Object.create(null),this._intentStates.set(a.cacheKey,s)),s.opListReadCapability)||(r=Object.create(null),r.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(r))},s.opListReadCapability=Promise.withResolvers(),((o=s).renderTasks||(o.renderTasks=new Set)).add(r),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(a));return s.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:t=!1,disableNormalization:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((t=>ia.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,n){const i=e.getReader(),a={items:[],styles:Object.create(null),lang:null};!function e(){i.read().then((function(n){var i;let{value:r,done:s}=n;s?t(a):(null!==(i=a.lang)&&void 0!==i||(a.lang=r.lang),Object.assign(a.styles,r.styles),a.items.push(...r.items),e())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),pn(this,Rf,!1),Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];pn(this,Rf,!0);const e=cn(this,Df,If).call(this);return t&&e&&this._stats&&(this._stats=new da),e}_startRenderPage(t,e){var n,i;const a=this._intentStates.get(e);a&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(i=a.displayReadyCapability)||void 0===i||i.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&cn(this,Df,If).call(this)}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageSerializable:i,modifiedIds:a}=t;const{map:r,transfer:s}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:r,modifiedIds:a},s).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then((t=>{let{value:e,done:n}=t;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,l),c())}),(t=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const t of l.renderTasks)t.operatorListChanged();cn(this,Df,If).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(t);else{if(!l.opListReadCapability)throw t;l.opListReadCapability.reject(t)}}}))};c()}_abortOperatorList(t){let{intentState:e,reason:n,force:i=!1}=t;if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof ca){let t=100;return n.extraDelay>0&&n.extraDelay<1e3&&(t+=n.extraDelay),void(e.streamReaderCancelTimeout=setTimeout((()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})}),t))}}if(e.streamReader.cancel(new Hi(n.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}function If(){if(!hn(this,Rf)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),pn(this,Rf,!1),!0}var Nf=new WeakMap,Ff=new WeakMap,Of=new WeakMap,Wf=new WeakMap,Bf=new WeakSet,jf=new WeakSet,zf=new WeakSet,Uf=new WeakSet;class Hf{constructor(){let{name:t=null,port:e=null,verbosity:n=Ti()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(on(this,Uf),on(this,zf),on(this,jf),on(this,Bf),ln(this,Nf,{writable:!0,value:Promise.withResolvers()}),ln(this,Ff,{writable:!0,value:null}),ln(this,Of,{writable:!0,value:null}),ln(this,Wf,{writable:!0,value:null}),this.name=t,this.destroyed=!1,this.verbosity=n,e){if(vn(Hf,Hf,Jf).has(e))throw new Error("Cannot use more than one PDFWorker per port.");vn(Hf,Hf,Jf).set(e,this),cn(this,jf,Gf).call(this,e)}else cn(this,zf,qf).call(this)}get promise(){return hn(this,Nf).promise}get port(){return hn(this,Of)}get messageHandler(){return hn(this,Ff)}destroy(){var t,e;this.destroyed=!0,null===(t=hn(this,Wf))||void 0===t||t.terminate(),pn(this,Wf,null),vn(Hf,Hf,Jf).delete(hn(this,Of)),pn(this,Of,null),null===(e=hn(this,Ff))||void 0===e||e.destroy(),pn(this,Ff,null)}static create(t){const e=vn(this,Hf,Jf).get(null===t||void 0===t?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Hf(t)}static get workerSrc(){if(Xd.workerSrc)return Xd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Fi(this,"_setupFakeWorkerGlobal",(async()=>{if(vn(this,Hf,Yf))return vn(this,Hf,Yf);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function Vf(){hn(this,Nf).resolve(),hn(this,Ff).send("configure",{verbosity:this.verbosity})}function Gf(t){pn(this,Of,t),pn(this,Ff,new Qc("main","worker",t)),hn(this,Ff).on("ready",(()=>{})),cn(this,Bf,Vf).call(this)}function qf(){if(vn(Wn,Wn,Qf)||vn(Wn,Wn,Yf))return void cn(this,Uf,Xf).call(this);let{workerSrc:t}=Wn;try{Wn._isSameOrigin(window.location,t)||(t=Wn._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Qc("main","worker",e),i=()=>{a.abort(),n.destroy(),e.terminate(),this.destroyed?hn(this,Nf).reject(new Error("Worker was destroyed")):cn(this,Uf,Xf).call(this)},a=new AbortController;e.addEventListener("error",(()=>{hn(this,Wf)||i()}),{signal:a.signal}),n.on("test",(t=>{a.abort(),!this.destroyed&&t?(pn(this,Ff,n),pn(this,Of,e),pn(this,Wf,e),cn(this,Bf,Vf).call(this)):i()})),n.on("ready",(t=>{if(a.abort(),this.destroyed)i();else try{r()}catch{cn(this,Uf,Xf).call(this)}}));const r=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void r()}catch{Pi("The worker has been disabled.")}cn(this,Uf,Xf).call(this)}function Xf(){vn(Wn,Wn,Qf)||(Ri("Setting up fake worker."),mn(Wn,Wn,Qf,!0)),Wn._setupFakeWorkerGlobal.then((t=>{var e,n;if(this.destroyed)return void hn(this,Nf).reject(new Error("Worker was destroyed"));const i=new Bc;pn(this,Of,i);const a="fake".concat((mn(Wn,Wn,Kf,(e=vn(Wn,Wn,Kf),n=e++,e)),n)),r=new Qc(a+"_worker",a,i);t.setup(r,i),pn(this,Ff,new Qc(a,a+"_worker",i)),cn(this,Bf,Vf).call(this)})).catch((t=>{hn(this,Nf).reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}Wn=Hf;var Yf={get:function(){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch{return null}},set:void 0},Kf={writable:!0,value:0},Qf={writable:!0,value:!1},Jf={writable:!0,value:new WeakMap};Xn&&(mn(Wn,Wn,Qf,!0),Xd.workerSrc||(Xd.workerSrc="./pdf.worker.mjs")),Wn._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(null===n||void 0===n||!n.origin||"null"===n.origin)return!1;const i=new URL(e,n);return n.origin===i.origin},Wn._createCDNWrapper=t=>{const e='await import("'.concat(t,'");');return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Wn.fromPort=t=>{var e;if(e="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+e),null===t||void 0===t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Wn.create(t)};var $f=new WeakMap,Zf=new WeakMap,tg=new WeakMap,eg=new WeakMap,ng=new WeakMap,ig=new WeakSet;class ag{constructor(t,e,n,i,a,r){on(this,ig),ln(this,$f,{writable:!0,value:new Map}),ln(this,Zf,{writable:!0,value:new Map}),ln(this,tg,{writable:!0,value:new Map}),ln(this,eg,{writable:!0,value:new Map}),ln(this,ng,{writable:!0,value:null}),this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Op,this.fontLoader=new Rc({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=r,this.setupMessageHandler()}get annotationStorage(){return Fi(this,"annotationStorage",new Ec)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ai.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=Jn,s=yc;switch(t){case"any":r=Qn;break;case"display":break;case"print":r=$n;break;default:Ri("getRenderingIntent - invalid intent: ".concat(t))}const o=r&$n&&n instanceof Tc?n:this.annotationStorage;switch(e){case ai.DISABLE:r+=ei;break;case ai.ENABLE:break;case ai.ENABLE_FORMS:r+=Zn;break;case ai.ENABLE_STORAGE:r+=ti,s=o.serializable;break;default:Ri("getRenderingIntent - invalid annotationMode: ".concat(e))}i&&(r+=ni),a&&(r+=ii);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:r,cacheKey:[r,s.hash,c].join("_"),annotationStorageSerializable:s,modifiedIds:l}}destroy(){var t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(t=hn(this,ng))||void 0===t||t.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of hn(this,Zf).values())e.push(i._destroy());hn(this,Zf).clear(),hn(this,tg).clear(),hn(this,eg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then((()=>{var t,e;this.commonObjs.clear(),this.fontLoader.clear(),hn(this,$f).clear(),this.filterFactory.destroy(),lf.cleanup(),null===(t=this._networkStream)||void 0===t||t.cancelAllRequests(new Hi("Worker was terminated.")),null===(e=this.messageHandler)||void 0===e||e.destroy(),this.messageHandler=null,this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{Li(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function(t){let{value:n,done:i}=t;i?e.close():(Li(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(async t=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:i,contentLength:a}=this._fullReader;if(!n||!i){var r;if(this._lastProgress)null===(r=e.onProgress)||void 0===r||r.call(e,this._lastProgress);this._fullReader.onProgress=t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})}}return{isStreamingSupported:n,isRangeSupported:i,contentLength:a}})),t.on("GetRangeReader",((t,e)=>{Li(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function(t){let{value:n,done:i}=t;i?e.close():(Li(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{n.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new Pf(n,this))})),t.on("DocException",(t=>{e._capability.reject(Vc(t))})),t.on("PasswordRequest",(t=>{pn(this,ng,Promise.withResolvers());try{if(!e.onPassword)throw Vc(t);const n=t=>{t instanceof Error?hn(this,ng).reject(t):hn(this,ng).resolve({password:t})};e.onPassword(n,t.code)}catch(n){hn(this,ng).reject(n)}return hn(this,ng).promise})),t.on("DataLoaded",(t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{if(this.destroyed)return;hn(this,Zf).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(e=>{var n;let[i,a,r]=e;if(this.destroyed)return null;if(this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in r){const t=r.error;Ri("Error during font loading: ".concat(t)),this.commonObjs.resolve(i,t);break}const e=new Wd(r),s=this._params.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(t,e)=>globalThis.FontInspector.fontAdded(t,e):null,o=new Lc(e,s,r.extra,r.charProcOperatorList);this.fontLoader.bind(o).catch((()=>t.sendWithPromise("FontFallback",{id:i}))).finally((()=>{!o.fontExtraProperties&&o.data&&o.clearData(),this.commonObjs.resolve(i,o)}));break;case"CopyLocalImage":const{imageRef:l}=r;Li(l,"The imageRef must be defined.");for(const t of hn(this,Zf).values())for(const[,e]of t.objs)if((null===e||void 0===e?void 0:e.ref)===l)return e.dataLen?(this.commonObjs.resolve(i,structuredClone(e)),e.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error("Got unknown common object type ".concat(a))}return null})),t.on("obj",(t=>{let[e,n,i,a]=t;if(this.destroyed)return;const r=hn(this,Zf).get(n);var s;if(!r.objs.has(e))if(0!==r._intentStates.size)switch(i){case"Image":case"Pattern":r.objs.resolve(e,a);break;default:throw new Error("Got unknown object type ".concat(i))}else null===a||void 0===a||null===(s=a.bitmap)||void 0===s||s.close()})),t.on("DocProgress",(t=>{var n;this.destroyed||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})})),t.on("FetchBinaryData",(async t=>{if(this.destroyed)throw new Error("Worker was destroyed.");const e=this[t.type];if(!e)throw new Error("".concat(t.type," not initialized, see the `useWorkerFetch` parameter."));return e.fetch(t)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var t,e;this.annotationStorage.size<=0&&Ri("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null},i).finally((()=>{this.annotationStorage.resetModified()}))}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=hn(this,tg).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&hn(this,eg).set(n.refStr,t);const i=new Lf(e,n,this,this._params.pdfBug);return hn(this,Zf).set(e,i),i}));return hn(this,tg).set(e,i),i}getPageIndex(t){return Nc(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return cn(this,ig,rg).call(this,"GetFieldObjects")}hasJSActions(){return cn(this,ig,rg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return cn(this,ig,rg).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return cn(this,ig,rg).call(this,"GetOptionalContentConfig").then((e=>new up(e,t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=hn(this,$f).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then((t=>{var e,n,i,a;return{info:t[0],metadata:t[1]?new $d(t[1]):null,contentDispositionFilename:null!==(e=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==e?e:null,contentLength:null!==(i=null===(a=this._fullReader)||void 0===a?void 0:a.contentLength)&&void 0!==i?i:null}}));return hn(this,$f).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of hn(this,Zf).values()){if(!t.cleanup())throw new Error("startCleanup: Page ".concat(t.pageNumber," is currently rendering."))}this.commonObjs.clear(),t||this.fontLoader.clear(),hn(this,$f).clear(),this.filterFactory.destroy(!0),lf.cleanup()}}cachedPageNumber(t){var e;if(!Nc(t))return null;const n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return null!==(e=hn(this,eg).get(n))&&void 0!==e?e:null}}function rg(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=hn(this,$f).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return hn(this,$f).set(t,i),i}var sg=new WeakMap;class og{constructor(t){ln(this,sg,{writable:!0,value:null}),yn(this,"onContinue",null),yn(this,"onError",null),pn(this,sg,t)}get promise(){return hn(this,sg).capability.promise}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;hn(this,sg).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=hn(this,sg).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=hn(this,sg);return t.form||t.canvas&&(null===e||void 0===e?void 0:e.size)>0}}var lg=new WeakMap;class cg{constructor(t){let{callback:e,params:n,objs:i,commonObjs:a,annotationCanvasMap:r,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:d=null,enableHWA:p=!1,operationsFilter:f=null}=t;ln(this,lg,{writable:!0,value:null}),this.callback=e,this.params=n,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new og(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=f}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(t){var e,n;let{transparency:i=!1,optionalContentConfig:a}=t;if(this.cancelled)return;if(this._canvas){if(vn(cg,cg,ug).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");vn(cg,cg,ug).add(this._canvas)}this._pdfBug&&null!==(e=globalThis.StepperManager)&&void 0!==e&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:s,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new md(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:a},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:s,viewport:r,transparency:i,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var t,e,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(t=this.gfx)||void 0===t||t.endDrawing(),hn(this,lg)&&(window.cancelAnimationFrame(hn(this,lg)),pn(this,lg,null)),vn(cg,cg,ug).delete(this._canvas),i||(i=new ca("Rendering cancelled, page ".concat(this._pageIndex+1),a)),this.callback(i),null===(e=(n=this.task).onError)||void 0===e||e.call(n,i)}operatorListChanged(){var t,e;this.graphicsReady?(null===(t=this.gfx.dependencyTracker)||void 0===t||t.growOperationsCount(this.operatorList.fnArray.length),null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?pn(this,lg,window.requestAnimationFrame((()=>{pn(this,lg,null),this._nextBound().catch(this._cancelBound)}))):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),vn(cg,cg,ug).delete(this._canvas),this.callback())))}}var ug={writable:!0,value:new WeakSet};var hg=new WeakMap,dg=new WeakMap,pg=new WeakMap,fg=new WeakMap,gg=new WeakMap,mg=new WeakMap,vg=new WeakMap,bg=new WeakMap,wg=new WeakMap,yg=new WeakMap,kg=new WeakSet,Ag=new WeakSet,Sg=new WeakSet,xg=new WeakSet,_g=new WeakSet,Eg=new WeakMap;class Cg{static get _keyboardManager(){return Fi(this,"_keyboardManager",new kr([[["Escape","mac+Escape"],Cg.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Cg.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Cg.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Cg.prototype._moveToPrevious],[["Home","mac+Home"],Cg.prototype._moveToBeginning],[["End","mac+End"],Cg.prototype._moveToEnd]]))}constructor(t){var e,n;let{editor:i=null,uiManager:a=null}=t;ln(this,Eg,{get:Lg,set:void 0}),on(this,_g),on(this,xg),on(this,Sg),on(this,Ag),on(this,kg),ln(this,hg,{writable:!0,value:null}),ln(this,dg,{writable:!0,value:null}),ln(this,pg,{writable:!0,value:void 0}),ln(this,fg,{writable:!0,value:null}),ln(this,gg,{writable:!0,value:!1}),ln(this,mg,{writable:!0,value:!1}),ln(this,vg,{writable:!0,value:null}),ln(this,bg,{writable:!0,value:void 0}),ln(this,wg,{writable:!0,value:null}),ln(this,yg,{writable:!0,value:null}),i?(pn(this,mg,!1),pn(this,vg,i)):pn(this,mg,!0),pn(this,yg,(null===i||void 0===i?void 0:i._uiManager)||a),pn(this,bg,hn(this,yg)._eventBus),pn(this,pg,(null===i||void 0===i||null===(e=i.color)||void 0===e?void 0:e.toUpperCase())||(null===(n=hn(this,yg))||void 0===n?void 0:n.highlightColors.values().next().value)||"#FFFF98"),vn(Cg,Cg,Ig)||mn(Cg,Cg,Ig,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const t=pn(this,hg,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",hn(this,vg)&&(t.ariaControls="".concat(hn(this,vg).id,"_colorpicker_dropdown"));const e=hn(this,yg)._signal;t.addEventListener("click",cn(this,xg,Rg).bind(this),{signal:e}),t.addEventListener("keydown",cn(this,Sg,Pg).bind(this),{signal:e});const n=pn(this,dg,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=hn(this,pg),t.append(n),t}renderMainDropdown(){const t=pn(this,fg,cn(this,kg,Mg).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===hn(this,hg))return void cn(this,xg,Rg).call(this,t);const e=t.target.getAttribute("data-color");e&&cn(this,Ag,Tg).call(this,e,t)}_moveToNext(t){var e,n;hn(this,Eg)?t.target!==hn(this,hg)?null===(e=t.target.nextSibling)||void 0===e||e.focus():null===(n=hn(this,fg).firstChild)||void 0===n||n.focus():cn(this,xg,Rg).call(this,t)}_moveToPrevious(t){var e,n;t.target!==(null===(e=hn(this,fg))||void 0===e?void 0:e.firstChild)&&t.target!==hn(this,hg)?(hn(this,Eg)||cn(this,xg,Rg).call(this,t),null===(n=t.target.previousSibling)||void 0===n||n.focus()):hn(this,Eg)&&this._hideDropdownFromKeyboard()}_moveToBeginning(t){var e;hn(this,Eg)?null===(e=hn(this,fg).firstChild)||void 0===e||e.focus():cn(this,xg,Rg).call(this,t)}_moveToEnd(t){var e;hn(this,Eg)?null===(e=hn(this,fg).lastChild)||void 0===e||e.focus():cn(this,xg,Rg).call(this,t)}hideDropdown(){var t,e;null===(t=hn(this,fg))||void 0===t||t.classList.add("hidden"),hn(this,hg).ariaExpanded="false",null===(e=hn(this,wg))||void 0===e||e.abort(),pn(this,wg,null)}_hideDropdownFromKeyboard(){var t;hn(this,mg)||(hn(this,Eg)?(this.hideDropdown(),hn(this,hg).focus({preventScroll:!0,focusVisible:hn(this,gg)})):null===(t=hn(this,vg))||void 0===t||t.unselect())}updateColor(t){if(hn(this,dg)&&(hn(this,dg).style.backgroundColor=t),!hn(this,fg))return;const e=hn(this,yg).highlightColors.values();for(const n of hn(this,fg).children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;null===(t=hn(this,hg))||void 0===t||t.remove(),pn(this,hg,null),pn(this,dg,null),null===(e=hn(this,fg))||void 0===e||e.remove(),pn(this,fg,null)}}function Mg(){const t=document.createElement("div"),e=hn(this,yg)._signal;t.addEventListener("contextmenu",fa,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),hn(this,vg)&&(t.id="".concat(hn(this,vg).id,"_colorpicker_dropdown"));for(const[n,i]of hn(this,yg).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=n,a.setAttribute("data-l10n-id",vn(Bn,Bn,Ig)[n]);const r=document.createElement("span");a.append(r),r.className="swatch",r.style.backgroundColor=i,a.ariaSelected=i===hn(this,pg),a.addEventListener("click",cn(this,Ag,Tg).bind(this,i),{signal:e}),t.append(a)}return t.addEventListener("keydown",cn(this,Sg,Pg).bind(this),{signal:e}),t}function Tg(t,e){e.stopPropagation(),hn(this,bg).dispatch("switchannotationeditorparams",{source:this,type:oi.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}function Pg(t){Bn._keyboardManager.exec(this,t)}function Rg(t){if(hn(this,Eg))return void this.hideDropdown();if(pn(this,gg,0===t.detail),hn(this,wg)||(pn(this,wg,new AbortController),window.addEventListener("pointerdown",cn(this,_g,Dg).bind(this),{signal:hn(this,yg).combinedSignal(hn(this,wg))})),hn(this,hg).ariaExpanded="true",hn(this,fg))return void hn(this,fg).classList.remove("hidden");const e=pn(this,fg,cn(this,kg,Mg).call(this));hn(this,hg).append(e)}function Dg(t){var e;null!==(e=hn(this,fg))&&void 0!==e&&e.contains(t.target)||this.hideDropdown()}function Lg(){return hn(this,fg)&&!hn(this,fg).classList.contains("hidden")}Bn=Cg;var Ig={writable:!0,value:null},Ng=new WeakMap,Fg=new WeakMap,Og=new WeakMap;class Wg{constructor(t){ln(this,Ng,{writable:!0,value:null}),ln(this,Fg,{writable:!0,value:null}),ln(this,Og,{writable:!0,value:null}),pn(this,Fg,t),pn(this,Og,t._uiManager),vn(Wg,Wg,Bg)||mn(Wg,Wg,Bg,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(hn(this,Ng))return hn(this,Ng);const{editorType:t,colorType:e,colorValue:n}=hn(this,Fg),i=pn(this,Ng,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",vn(Wg,Wg,Bg)[t]),i.addEventListener("input",(()=>{hn(this,Og).updateParams(e,i.value)}),{signal:hn(this,Og)._signal}),i}update(t){hn(this,Ng)&&(hn(this,Ng).value=t)}destroy(){var t;null===(t=hn(this,Ng))||void 0===t||t.remove(),pn(this,Ng,null)}hideDropdown(){}}var Bg={writable:!0,value:null};function jg(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function zg(t){return Math.max(0,Math.min(255,255*t))}class Ug{static CMYK_G(t){let[e,n,i,a]=t;return["G",1-Math.min(1,.3*e+.59*i+.11*n+a)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_rgb(t){let[e]=t;return e=zg(e),[e,e,e]}static G_HTML(t){let[e]=t;const n=jg(e);return"#".concat(n).concat(n).concat(n)}static RGB_G(t){let[e,n,i]=t;return["G",.3*e+.59*n+.11*i]}static RGB_rgb(t){return t.map(zg)}static RGB_HTML(t){return"#".concat(t.map(jg).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(t){let[e,n,i,a]=t;return["RGB",1-Math.min(1,e+a),1-Math.min(1,i+a),1-Math.min(1,n+a)]}static CMYK_rgb(t){let[e,n,i,a]=t;return[zg(1-Math.min(1,e+a)),zg(1-Math.min(1,i+a)),zg(1-Math.min(1,n+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,i]=t;const a=1-e,r=1-n,s=1-i;return["CMYK",a,r,s,Math.min(a,r,s)]}}class Hg{create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width","".concat(t,"px")),i.setAttribute("height","".concat(e,"px"))),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),i}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Di("Abstract method `_createSVG` called.")}}class Vg extends Hg{_createSVG(t){return document.createElementNS(ra,t)}}const Gg=new WeakSet,qg=60*(new Date).getTimezoneOffset()*1e3;class Xg{static create(t){switch(t.data.annotationType){case gi.LINK:return new am(t);case gi.TEXT:return new lm(t);case gi.WIDGET:switch(t.data.fieldType){case"Tx":return new um(t);case"Btn":return t.data.radioButton?new pm(t):t.data.checkBox?new dm(t):new fm(t);case"Ch":return new gm(t);case"Sig":return new hm(t)}return new cm(t);case gi.POPUP:return new vm(t);case gi.FREETEXT:return new bv(t);case gi.LINE:return new yv(t);case gi.SQUARE:return new Av(t);case gi.CIRCLE:return new xv(t);case gi.POLYLINE:return new Ev(t);case gi.CARET:return new Mv(t);case gi.INK:return new Dv(t);case gi.POLYGON:return new Cv(t);case gi.HIGHLIGHT:return new Iv(t);case gi.UNDERLINE:return new Nv(t);case gi.SQUIGGLY:return new Fv(t);case gi.STRIKEOUT:return new Ov(t);case gi.STAMP:return new Wv(t);case gi.FILEATTACHMENT:return new zv(t);default:return new $g(t)}}}var Yg=new WeakMap,Kg=new WeakMap,Qg=new WeakMap,Jg=new WeakSet;class $g{constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};on(this,Jg),ln(this,Yg,{writable:!0,value:null}),ln(this,Kg,{writable:!0,value:!1}),ln(this,Qg,{writable:!0,value:null}),this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(t){let{contentsObj:e,richText:n}=t;return!!(null!==e&&void 0!==e&&e.str||null!==n&&void 0!==n&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return $g._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var t;const{data:e}=this,n=null===(t=this.annotationStorage)||void 0===t?void 0:t.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var t;const e=null===(t=this.annotationStorage)||void 0===t?void 0:t.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:i,rect:a}=this.data;let r=-1/0,s=-1/0;if((null===n||void 0===n?void 0:n.length)>=8){for(let t=0;t<n.length;t+=8)n[t+1]>s?(s=n[t+1],r=n[t+2]):n[t+1]===s&&(r=Math.max(r,n[t+2]));return[r,s]}if((null===i||void 0===i?void 0:i.length)>=1){for(const t of i)for(let e=0,n=t.length;e<n;e+=2)t[e+1]>s?(s=t[e+1],r=t[e]):t[e+1]===s&&(r=Math.max(r,t[e]));if(r!==1/0)return[r,s]}return a?[a[2],a[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:r}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-a)/n,t[1]=100*(t[1]-r)/i,t}get commentText(){var t,e;const{data:n}=this;return(null===(t=this.annotationStorage.getRawValue("".concat(ri).concat(n.id)))||void 0===t||null===(t=t.popup)||void 0===t?void 0:t.contents)||(null===(e=n.contentsObj)||void 0===e?void 0:e.str)||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue("".concat(ri).concat(e.id),{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){var t,e;null===(t=(null===(e=hn(this,Qg))||void 0===e?void 0:e.popup)||this.popup)||void 0===t||t.remove(),pn(this,Qg,this.popup=null)}updateEdited(t){var e;if(!this.container)return;t.rect&&(hn(this,Yg)||pn(this,Yg,{rect:this.data.rect.slice(0)}));const{rect:n,popup:i}=t;n&&cn(this,Jg,Zg).call(this,n);let a=(null===(e=hn(this,Qg))||void 0===e?void 0:e.popup)||this.popup;!a&&null!==i&&void 0!==i&&i.text&&(this._createPopup(i),a=hn(this,Qg).popup),a&&(a.updateEdited(t),null!==i&&void 0!==i&&i.deleted&&(a.remove(),pn(this,Qg,null),this.popup=null))}resetEdited(){var t;hn(this,Yg)&&(cn(this,Jg,Zg).call(this,hn(this,Yg).rect),null===(t=hn(this,Qg))||void 0===t||t.popup.resetEdited(),pn(this,Yg,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof cm||this instanceof am||(a.tabIndex=0);const{style:r}=a;if(r.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof vm){const{rotation:t}=e;return e.hasOwnCanvas||0===t||this.setRotation(t,a),a}const{width:s,height:o}=this;if(!t&&e.borderStyle.width>0){r.borderWidth="".concat(e.borderStyle.width,"px");const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e="calc(".concat(t,"px * var(--total-scale-factor)) / calc(").concat(n,"px * var(--total-scale-factor))");r.borderRadius=e}else if(this instanceof pm){const t="calc(".concat(s,"px * var(--total-scale-factor)) / calc(").concat(o,"px * var(--total-scale-factor))");r.borderRadius=t}switch(e.borderStyle.style){case mi:r.borderStyle="solid";break;case vi:r.borderStyle="dashed";break;case bi:Ri("Unimplemented border style: beveled");break;case wi:Ri("Unimplemented border style: inset");break;case yi:r.borderBottomStyle="solid"}const i=e.borderColor||null;i?(pn(this,Kg,!0),r.borderColor=Yi.makeHexColor(0|i[0],0|i[1],0|i[2])):r.borderWidth=0}const l=Yi.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:h,pageY:d}=i.rawDims;r.left="".concat(100*(l[0]-h)/c,"%"),r.top="".concat(100*(l[1]-d)/u,"%");const{rotation:p}=e;return e.hasOwnCanvas||0===p?(r.width="".concat(100*s/c,"%"),r.height="".concat(100*o/u,"%")):this.setRotation(p,a),a}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:r}=this;t%180!==0&&([a,r]=[r,a]),e.style.width="".concat(100*a/n,"%"),e.style.height="".concat(100*r/i,"%"),e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const i=n.detail[t],a=i[0],r=i.slice(1);n.target.style[e]=Ug["".concat(a,"_HTML")](r),this.annotationStorage.setValue(this.data.id,{[e]:Ug["".concat(a,"_rgb")](r)})};return Fi(this,"_commonActions",{display:t=>{const{display:e}=t.detail,n=e%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===e||2===e})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const a=t[i]||n[i];null===a||void 0===a||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,a]of Object.entries(e)){const r=n[i];if(r){r({detail:{[i]:a},target:t}),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,a]=this.data.rect.map((t=>Math.fround(t)));if(8===t.length){const[r,s,o,l]=t.subarray(2,6);if(i===r&&a===s&&e===o&&n===l)return}const{style:r}=this.container;let s;if(hn(this,Kg)){const{borderColor:t,borderWidth:e}=r;r.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(t,'" stroke-width="').concat(e,'">')],this.container.classList.add("hasBorder")}const o=i-e,l=a-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0),u.role="none";const h=c.createElement("defs");u.append(h);const d=c.createElement("clipPath"),p="clippath_".concat(this.data.id);d.setAttribute("id",p),d.setAttribute("clipPathUnits","objectBoundingBox"),h.append(d);for(let g=2,m=t.length;g<m;g+=8){var f;const n=t[g],i=t[g+1],r=t[g+2],u=t[g+3],h=c.createElement("rect"),p=(r-e)/o,m=(a-i)/l,v=(n-r)/o,b=(i-u)/l;h.setAttribute("x",p),h.setAttribute("y",m),h.setAttribute("width",v),h.setAttribute("height",b),d.append(h),null===(f=s)||void 0===f||f.push('<rect vector-effect="non-scaling-stroke" x="'.concat(p,'" y="').concat(m,'" width="').concat(v,'" height="').concat(b,'"/>'))}hn(this,Kg)&&(s.push("</g></svg>')"),r.backgroundImage=s.join("")),this.container.append(u),this.container.style.clipPath="url(#".concat(p,")")}_createPopup(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{data:e}=this;let n,i;t?(n={str:t.text},i=t.date):(n=e.contentsObj,i=e.modificationDate);const a=pn(this,Qg,new vm({data:{color:e.color,titleObj:e.titleObj,modificationDate:i,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(a.render())}get hasPopupElement(){return!!(hn(this,Qg)||this.popup||this.data.popupRef)}get extraPopupElement(){return hn(this,Qg)}render(){Di("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:a,exportValues:r}of i){if(-1===t)continue;if(a===e)continue;const i="string"===typeof r?r:null,s=document.querySelector('[data-element-id="'.concat(a,'"]'));!s||Gg.has(s)?n.push({id:a,exportValue:i,domElement:s}):Ri("_getElementsByName - element not allowed: ".concat(a))}return n}for(const i of document.getElementsByName(t)){const{exportValue:t}=i,a=i.getAttribute("data-element-id");a!==e&&(Gg.has(i)&&n.push({id:a,exportValue:t,domElement:i}))}return n}show(){var t;this.container&&(this.container.hidden=!1),null===(t=this.popup)||void 0===t||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),null===(t=this.popup)||void 0===t||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})}))}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}function Zg(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:r,pageX:s,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...t),e.left="".concat(100*(t[0]-s)/a,"%"),e.top="".concat(100*(r-t[3]+o)/r,"%"),0===i?(e.width="".concat(100*(t[2]-t[0])/a,"%"),e.height="".concat(100*(t[3]-t[1])/r,"%")):this.setRotation(i)}class tm extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var em=new WeakSet,nm=new WeakSet,im=new WeakSet;class am extends $g{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!(null===e||void 0===e||!e.ignoreBorder),createQuadrilaterals:!0}),on(this,im),on(this,nm),on(this,em),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),i=!0):t.attachment?(cn(this,nm,sm).call(this,n,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(cn(this,im,om).call(this,n,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),i=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}_bindLink(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&cn(this,em,rm).call(this),n&&(t.title=n)}_bindNamedAction(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),cn(this,em,rm).call(this)}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const a=n.get(i);a&&(t[a]=()=>{var t;return null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1})}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),cn(this,em,rm).call(this)}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),cn(this,em,rm).call(this),!this._fieldObjects)return Ri('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{null===n||void 0===n||n();const{fields:t,refs:i,include:a}=e,r=[];if(0!==t.length||0!==i.length){const e=new Set(i);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===a&&r.push(n)}else for(const e of Object.values(this._fieldObjects))r.push(...e);const s=this.annotationStorage,o=[];for(const e of r){const{id:t}=e;switch(o.push(t),e.type){case"text":{const n=e.defaultValue||"";s.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;s.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";s.setValue(t,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(t,'"]'));n&&(Gg.has(n)?n.dispatchEvent(new Event("resetform")):Ri("_bindResetFormAction - element not allowed: ".concat(t)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function rm(){this.container.setAttribute("data-internal-link","")}function sm(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>{var t;return null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(e.content,e.filename,i),!1},cn(this,em,rm).call(this)}function om(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),cn(this,em,rm).call(this)}class lm extends $g{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class cm extends $g{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&("CANVAS"===(null===(e=t.previousSibling)||void 0===e?void 0:e.nodeName)&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return qi.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,a){n.includes("mouse")?t.addEventListener(n,(t=>{var e;null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(n,(t=>{var r;if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}a&&(null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(t)}}))}))}_setEventListeners(t,e,n,i){for(const[o,l]of n){var a,r,s;if("Action"===l||null!==(a=this.data.actions)&&void 0!==a&&a[l])"Focus"!==l&&"Blur"!==l||e||(e={focused:!1}),this._setEventListener(t,e,o,l,i),"Focus"!==l||null!==(r=this.data.actions)&&void 0!==r&&r.Blur?"Blur"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null)}}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":Yi.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,a=t.style;let r;const s=t=>Math.round(10*t)/10;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2),e=t/(Math.round(t/(Kn*i))||1);r=Math.min(i,s(e/Kn))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(i,s(t/Kn))}a.fontSize="calc(".concat(r,"px * var(--total-scale-factor))"),a.color=Yi.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class um extends cm{constructor(t){super(t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,i){const a=this.annotationStorage;for(const r of this._getElementsByName(t.name,t.id))r.domElement&&(r.domElement[e]=n),a.setValue(r.id,{[i]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var i;const o=t.getValue(e,{value:this.data.fieldValue});let l=o.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=o.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};var a,r;if(this.data.multiLine)n=document.createElement("textarea"),n.textContent=null!==(a=u)&&void 0!==a?a:l,this.data.doNotScroll&&(n.style.overflowY="hidden");else n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",null!==(r=u)&&void 0!==r?r:l),this.data.doNotScroll&&(n.style.overflowX="hidden");this.data.hasOwnCanvas&&(n.hidden=!0),Gg.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:d,datetimeType:p,timeStep:f}=this.data,g=!!p&&this.enableScripting;d&&(n.title=d),this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",(i=>{t.setValue(e,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),h.formattedValue=null})),n.addEventListener("resetform",(t=>{var e;const i=null!==(e=this.data.defaultFieldValue)&&void 0!==e?e:"";n.value=h.userValue=i,h.formattedValue=null}));let m=t=>{const{formattedValue:e}=h;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var s;n.addEventListener("focus",(t=>{var e;if(h.focused)return;const{target:n}=t;if(g&&(n.type=p,f&&(n.step=f)),h.userValue){const t=h.userValue;if(g)if("time"===p){const e=new Date(t),i=[e.getHours(),e.getMinutes(),e.getSeconds()];n.value=i.map((t=>t.toString().padStart(2,"0"))).join(":")}else n.value=new Date(t-qg).toISOString().split("date"===p?"T":".",1)[0];else n.value=t}h.lastCommittedValue=n.value,h.commitKey=1,null!==(e=this.data.actions)&&void 0!==e&&e.Focus||(h.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){var i;h.userValue=null!==(i=n.detail.value)&&void 0!==i?i:"",g||t.setValue(e,{value:h.userValue.toString()}),n.target.value=h.userValue},formattedValue(n){const{formattedValue:i}=n.detail;h.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i);const a={formattedValue:i};g&&(a.value=i),t.setValue(e,a)},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{var i;const{charLimit:a}=n.detail,{target:r}=n;if(0===a)return void r.removeAttribute("maxLength");r.setAttribute("maxLength",a);let s=h.userValue;!s||s.length<=a||(s=s.slice(0,a),r.value=h.userValue=s,t.setValue(e,{value:s}),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:r.selectionStart,selEnd:r.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(t=>{var n;h.commitKey=1;let i=-1;if("Escape"===t.key?i=0:"Enter"!==t.key||this.data.multiLine?"Tab"===t.key&&(h.commitKey=3):i=2,-1===i)return;const{value:a}=t.target;h.lastCommittedValue!==a&&(h.lastCommittedValue=a,h.userValue=a,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:a,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const i=m;m=null,n.addEventListener("blur",(t=>{var n;if(!h.focused||!t.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(h.focused=!1);const{target:a}=t;let{value:r}=a;if(g){if(r&&"time"===p){const t=r.split(":").map((t=>parseInt(t,10)));r=new Date(2e3,0,1,t[0],t[1],t[2]||0).valueOf(),a.step=""}else r.includes("T")||(r="".concat(r,"T00:00")),r=new Date(r).valueOf();a.type="text"}var s;(h.userValue=r,h.lastCommittedValue!==r)&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:h.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}));i(t)})),null!==(s=this.data.actions)&&void 0!==s&&s.Keystroke&&n.addEventListener("beforeinput",(t=>{var n;h.lastCommittedValue=null;const{data:i,target:a}=t,{value:r,selectionStart:s,selectionEnd:o}=a;let l=s,c=o;switch(t.inputType){case"deleteWordBackward":{const t=r.substring(0,s).match(/\w*[^\w]*$/);t&&(l-=t[0].length);break}case"deleteWordForward":{const t=r.substring(s).match(/^[^\w]*\w*/);t&&(c+=t[0].length);break}case"deleteContentBackward":s===o&&(l-=1);break;case"deleteContentForward":s===o&&(c+=1)}t.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,change:i||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(m&&n.addEventListener("blur",m),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(t,"px * var(--total-scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class hm extends cm{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class dm extends cm{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Gg.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=0,a.addEventListener("change",(i=>{const{name:a,checked:r}=i.target;for(const s of this._getElementsByName(a,n)){const n=r&&s.exportValue===e.exportValue;s.domElement&&(s.domElement.checked=n),t.setValue(s.id,{value:n})}t.setValue(n,{value:r})})),a.addEventListener("resetform",(t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue})),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",(e=>{const i={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class pm extends cm{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if("string"===typeof i&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const r of this._getElementsByName(e.fieldName,n))t.setValue(r.id,{value:!1});const a=document.createElement("input");if(Gg.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",(e=>{const{name:i,checked:a}=e.target;for(const r of this._getElementsByName(i,n))t.setValue(r.id,{value:!1});t.setValue(n,{value:a})})),a.addEventListener("resetform",(t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue})),this.enableScripting&&this.hasJSActions){const i=e.buttonValue;a.addEventListener("updatefromsandbox",(e=>{const a={value:e=>{const a=i===e.detail.value;for(const i of this._getElementsByName(e.target.name)){const e=a&&i.id===n;i.domElement&&(i.domElement.checked=e),t.setValue(i.id,{value:e})}}};this._dispatchEventFromSandbox(a,e)})),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class fm extends am{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",(t=>{this._dispatchEventFromSandbox({},t)}))),t}}class gm extends cm{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");Gg.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===e}));for(const c of this.data.options){const t=document.createElement("option");t.textContent=c.displayValue,t.value=c.exportValue,n.value.includes(c.exportValue)&&(t.setAttribute("selected",!0),a=!1),i.append(t)}let r=null;if(a){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),i.prepend(t),r=()=>{t.remove(),i.removeEventListener("input",r),r=null},i.addEventListener("input",r)}const s=t=>{const e=t?"value":"textContent",{options:n,multiple:a}=i;return a?Array.prototype.filter.call(n,(t=>t.selected)).map((t=>t[e])):-1===n.selectedIndex?null:n[n.selectedIndex][e]};let o=s(!1);const l=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const a={value(n){var a;null===(a=r)||void 0===a||a();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const t of i.options)t.selected=c.has(t.value);t.setValue(e,{value:s(!0)}),o=s(!1)},multipleSelection(t){i.multiple=!0},remove(n){const a=i.options,r=n.detail.remove;if(a[r].selected=!1,i.remove(r),a.length>0){-1===Array.prototype.findIndex.call(a,(t=>t.selected))&&(a[0].selected=!0)}t.setValue(e,{value:s(!0),items:l(n)}),o=s(!1)},clear(n){for(;0!==i.length;)i.remove(0);t.setValue(e,{value:null,items:[]}),o=s(!1)},insert(n){const{index:a,displayValue:r,exportValue:c}=n.detail.insert,u=i.children[a],h=document.createElement("option");h.textContent=r,h.value=c,u?u.before(h):i.append(h),t.setValue(e,{value:s(!0),items:l(n)}),o=s(!1)},items(n){const{items:a}=n.detail;for(;0!==i.length;)i.remove(0);for(const t of a){const{displayValue:e,exportValue:n}=t,a=document.createElement("option");a.textContent=e,a.value=n,i.append(a)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:s(!0),items:l(n)}),o=s(!1)},indices(n){const i=new Set(n.detail.indices);for(const t of n.target.options)t.selected=i.has(t.index);t.setValue(e,{value:s(!0)}),o=s(!1)},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(a,n)})),i.addEventListener("input",(n=>{var i;const a=s(!0),r=s(!1);t.setValue(e,{value:a}),n.preventDefault(),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:o,change:r,changeEx:a,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(t=>t.target.value))):i.addEventListener("input",(function(n){t.setValue(e,{value:s(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var mm=new WeakSet;class vm extends $g{constructor(t){const{data:e,elements:n,parent:i}=t,a=!!i._commentManager;if(super(t,{isRenderable:!a&&$g._hasPopupData(e)}),on(this,mm),this.elements=n,a&&$g._hasPopupData(e)){const t=this.popup=cn(this,mm,bm).call(this);for(const e of n)e.popup=t}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=cn(this,mm,bm).call(this),n=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map((t=>"".concat(ta).concat(t))).join(",")),this.container}}function bm(){return new av({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}var wm=new WeakMap,ym=new WeakMap,km=new WeakMap,Am=new WeakMap,Sm=new WeakMap,xm=new WeakMap,_m=new WeakMap,Em=new WeakMap,Cm=new WeakMap,Mm=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,Rm=new WeakMap,Dm=new WeakMap,Lm=new WeakMap,Im=new WeakMap,Nm=new WeakMap,Fm=new WeakMap,Om=new WeakMap,Wm=new WeakMap,Bm=new WeakMap,jm=new WeakMap,zm=new WeakMap,Um=new WeakMap,Hm=new WeakMap,Vm=new WeakMap,Gm=new WeakSet,qm=new WeakSet,Xm=new WeakSet,Ym=new WeakSet,Km=new WeakMap,Qm=new WeakMap,Jm=new WeakMap,$m=new WeakSet,Zm=new WeakSet,tv=new WeakSet,ev=new WeakSet,nv=new WeakSet,iv=new WeakSet;class av{constructor(t){let{container:e,color:n,elements:i,titleObj:a,modificationDate:r,contentsObj:s,richText:o,parent:l,rect:c,parentRect:u,open:h,commentManager:d=null}=t;on(this,iv),on(this,nv),on(this,ev),on(this,tv),on(this,Zm),on(this,$m),ln(this,Jm,{get:hv,set:void 0}),ln(this,Qm,{get:uv,set:void 0}),ln(this,Km,{get:cv,set:void 0}),on(this,Ym),on(this,Xm),on(this,qm),on(this,Gm),ln(this,wm,{writable:!0,value:null}),ln(this,ym,{writable:!0,value:cn(this,Zm,pv).bind(this)}),ln(this,km,{writable:!0,value:cn(this,iv,vv).bind(this)}),ln(this,Am,{writable:!0,value:cn(this,nv,mv).bind(this)}),ln(this,Sm,{writable:!0,value:cn(this,ev,gv).bind(this)}),ln(this,xm,{writable:!0,value:null}),ln(this,_m,{writable:!0,value:null}),ln(this,Em,{writable:!0,value:null}),ln(this,Cm,{writable:!0,value:null}),ln(this,Mm,{writable:!0,value:null}),ln(this,Tm,{writable:!0,value:null}),ln(this,Pm,{writable:!0,value:null}),ln(this,Rm,{writable:!0,value:!1}),ln(this,Dm,{writable:!0,value:null}),ln(this,Lm,{writable:!0,value:null}),ln(this,Im,{writable:!0,value:null}),ln(this,Nm,{writable:!0,value:null}),ln(this,Fm,{writable:!0,value:null}),ln(this,Om,{writable:!0,value:null}),ln(this,Wm,{writable:!0,value:null}),ln(this,Bm,{writable:!0,value:null}),ln(this,jm,{writable:!0,value:null}),ln(this,zm,{writable:!0,value:null}),ln(this,Um,{writable:!0,value:!1}),ln(this,Hm,{writable:!0,value:null}),ln(this,Vm,{writable:!0,value:null}),pn(this,_m,e),pn(this,jm,a),pn(this,Em,s),pn(this,Bm,o),pn(this,Tm,l),pn(this,xm,n),pn(this,Wm,c),pn(this,Pm,u),pn(this,Mm,i),pn(this,wm,d),pn(this,Hm,i[0]),pn(this,Cm,ma.toDateObject(r)),this.trigger=i.flatMap((t=>t.getElementsToTriggerPopup())),d?this.renderCommentButton():(cn(this,Gm,rv).call(this),hn(this,_m).hidden=!0,h&&cn(this,ev,gv).call(this))}renderCommentButton(){if(hn(this,Nm))return;if(hn(this,Fm)||cn(this,qm,sv).call(this),!hn(this,Fm))return;const{signal:t}=pn(this,Lm,new AbortController),e=!!hn(this,Hm).extraPopupElement,n=()=>{hn(this,wm).toggleCommentPopup(this,!0,void 0,!e)},i=()=>{hn(this,wm).toggleCommentPopup(this,!1,!0,!e)},a=()=>{hn(this,wm).toggleCommentPopup(this,!1,!1)};if(e){pn(this,Nm,hn(this,Hm).container);for(const e of this.trigger)e.ariaHasPopup="dialog",e.ariaControls="commentPopup",e.addEventListener("keydown",hn(this,ym),{signal:t}),e.addEventListener("click",n,{signal:t}),e.addEventListener("pointerenter",i,{signal:t}),e.addEventListener("pointerleave",a,{signal:t}),e.classList.add("popupTriggerArea")}else{const e=pn(this,Nm,document.createElement("button"));e.className="annotationCommentButton";const r=hn(this,Hm).container;e.style.zIndex=r.style.zIndex+1,e.tabIndex=0,e.ariaHasPopup="dialog",e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button"),cn(this,Ym,lv).call(this),cn(this,Xm,ov).call(this),e.addEventListener("keydown",hn(this,ym),{signal:t}),e.addEventListener("click",n,{signal:t}),e.addEventListener("pointerenter",i,{signal:t}),e.addEventListener("pointerleave",a,{signal:t}),r.after(e)}}get commentButtonColor(){const{color:t,opacity:e}=hn(this,Hm).commentData;return t?hn(this,Tm)._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout((()=>{var t;null===(t=hn(this,Nm))||void 0===t||t.focus()}),0)}getData(){const{richText:t,color:e,opacity:n,creationDate:i,modificationDate:a}=hn(this,Hm).commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:i,modificationDate:a}}get elementBeforePopup(){return hn(this,Nm)}get comment(){return hn(this,Vm)||pn(this,Vm,hn(this,Hm).commentText),hn(this,Vm)}set comment(t){t!==this.comment&&(hn(this,Hm).commentText=pn(this,Vm,t))}get parentBoundingClientRect(){return hn(this,Hm).layer.getBoundingClientRect()}setCommentButtonStates(t){let{selected:e,hasPopup:n}=t;hn(this,Nm)&&(hn(this,Nm).classList.toggle("selected",e),hn(this,Nm).ariaExpanded=n)}setSelectedCommentButton(t){hn(this,Nm).classList.toggle("selected",t)}get commentPopupPosition(){if(hn(this,Om))return hn(this,Om);const{x:t,y:e,height:n}=hn(this,Nm).getBoundingClientRect(),{x:i,y:a,width:r,height:s}=hn(this,Hm).layer.getBoundingClientRect();return[(t-i)/r,(e+n-a)/s]}set commentPopupPosition(t){pn(this,Om,t)}hasDefaultPopupPosition(){return null===hn(this,Om)}get commentButtonPosition(){return hn(this,Fm)}get commentButtonWidth(){return hn(this,Nm).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=hn(this,Om)||this.commentButtonPosition.map((t=>t/100)),i=this.parentBoundingClientRect,{x:a,y:r,width:s,height:o}=i;hn(this,wm).showDialog(null,this,a+e*s,r+n*o,{...t,parentDimensions:i})}render(){var t,e;if(hn(this,Dm))return;const n=pn(this,Dm,document.createElement("div"));if(n.className="popup",hn(this,xm)){const t=n.style.outlineColor=Yi.makeHexColor(...hn(this,xm));n.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)")}const i=document.createElement("span");if(i.className="header",null!==(t=hn(this,jm))&&void 0!==t&&t.str){const t=document.createElement("span");t.className="title",i.append(t),({dir:t.dir,str:t.textContent}=hn(this,jm))}if(n.append(i),hn(this,Cm)){const t=document.createElement("time");t.className="popupDate",t.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),t.setAttribute("data-l10n-args",JSON.stringify({dateObj:hn(this,Cm).valueOf()})),t.dateTime=hn(this,Cm).toISOString(),i.append(t)}Pa({html:hn(this,Km)||hn(this,Em).str,dir:null===(e=hn(this,Em))||void 0===e?void 0:e.dir,className:"popupContent"},n),hn(this,_m).append(n)}updateEdited(t){var e;let{rect:n,popup:i,deleted:a}=t;if(hn(this,wm))return a?(this.remove(),pn(this,Vm,null)):i&&(i.deleted?this.remove():(cn(this,Ym,lv).call(this),pn(this,Vm,i.text))),void(n&&(pn(this,Fm,null),cn(this,qm,sv).call(this),cn(this,Xm,ov).call(this)));a||null!==i&&void 0!==i&&i.deleted?this.remove():(cn(this,Gm,rv).call(this),hn(this,zm)||pn(this,zm,{contentsObj:hn(this,Em),richText:hn(this,Bm)}),n&&pn(this,Im,null),i&&i.text&&(pn(this,Bm,cn(this,$m,dv).call(this,i.text)),pn(this,Cm,ma.toDateObject(i.date)),pn(this,Em,null)),null===(e=hn(this,Dm))||void 0===e||e.remove(),pn(this,Dm,null))}resetEdited(){var t;hn(this,zm)&&(({contentsObj:rn(this,Em).value,richText:rn(this,Bm).value}=hn(this,zm)),pn(this,zm,null),null===(t=hn(this,Dm))||void 0===t||t.remove(),pn(this,Dm,null),pn(this,Im,null))}remove(){var t,e,n;if(null===(t=hn(this,Lm))||void 0===t||t.abort(),pn(this,Lm,null),null===(e=hn(this,Dm))||void 0===e||e.remove(),pn(this,Dm,null),pn(this,Um,!1),pn(this,Rm,!1),null===(n=hn(this,Nm))||void 0===n||n.remove(),pn(this,Nm,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){pn(this,Um,this.isVisible),hn(this,Um)&&(hn(this,_m).hidden=!0)}maybeShow(){hn(this,wm)||(cn(this,Gm,rv).call(this),hn(this,Um)&&(hn(this,Dm)||cn(this,nv,mv).call(this),pn(this,Um,!1),hn(this,_m).hidden=!1))}get isVisible(){return!hn(this,wm)&&!1===hn(this,_m).hidden}}function rv(){if(hn(this,Lm))return;pn(this,Lm,new AbortController);const{signal:t}=hn(this,Lm);for(const n of this.trigger)n.addEventListener("click",hn(this,Sm),{signal:t}),n.addEventListener("pointerenter",hn(this,Am),{signal:t}),n.addEventListener("pointerleave",hn(this,km),{signal:t}),n.classList.add("popupTriggerArea");for(const n of hn(this,Mm)){var e;null===(e=n.container)||void 0===e||e.addEventListener("keydown",hn(this,ym),{signal:t})}}function sv(){const t=hn(this,Mm).find((t=>t.hasCommentButton));t&&pn(this,Fm,t._normalizePoint(t.commentButtonPosition))}function ov(){if(hn(this,Hm).extraPopupElement&&!hn(this,Hm).editor)return;this.renderCommentButton();const[t,e]=hn(this,Fm),{style:n}=hn(this,Nm);n.left="calc(".concat(t,"%)"),n.top="calc(".concat(e,"% - var(--comment-button-dim))")}function lv(){hn(this,Hm).extraPopupElement||(this.renderCommentButton(),hn(this,Nm).style.backgroundColor=this.commentButtonColor||"")}function cv(){const t=hn(this,Bm),e=hn(this,Em);return null===t||void 0===t||!t.str||null!==e&&void 0!==e&&e.str&&e.str!==t.str?null:hn(this,Bm).html||null}function uv(){var t;return(null===(t=hn(this,Km))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.fontSize)||0}function hv(){var t;return(null===(t=hn(this,Km))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.color)||null}function dv(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:hn(this,Jm),fontSize:hn(this,Qm)?"calc(".concat(hn(this,Qm),"px * var(--total-scale-factor))"):""}};for(const a of t.split("\n"))e.push({name:"span",value:a,attributes:i});return n}function pv(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&hn(this,Rm))&&cn(this,ev,gv).call(this)}function fv(){if(null!==hn(this,Im))return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:a}}}=hn(this,Tm);let r=!!hn(this,Pm),s=hn(this,r?Pm:Wm);for(const d of hn(this,Mm))if(!s||null!==Yi.intersect(d.data.rect,s)){s=d.data.rect,r=!0;break}const o=Yi.normalizeRect([s[0],t[3]-s[1]+t[1],s[2],t[3]-s[3]+t[1]]),l=r?s[2]-s[0]+5:0,c=o[0]+l,u=o[1];pn(this,Im,[100*(c-i)/e,100*(u-a)/n]);const{style:h}=hn(this,_m);h.left="".concat(hn(this,Im)[0],"%"),h.top="".concat(hn(this,Im)[1],"%")}function gv(){hn(this,wm)?hn(this,wm).toggleCommentPopup(this,!1):(pn(this,Rm,!hn(this,Rm)),hn(this,Rm)?(cn(this,nv,mv).call(this),hn(this,_m).addEventListener("click",hn(this,Sm)),hn(this,_m).addEventListener("keydown",hn(this,ym))):(cn(this,iv,vv).call(this),hn(this,_m).removeEventListener("click",hn(this,Sm)),hn(this,_m).removeEventListener("keydown",hn(this,ym))))}function mv(){hn(this,Dm)||this.render(),this.isVisible?hn(this,Rm)&&hn(this,_m).classList.add("focused"):(cn(this,tv,fv).call(this),hn(this,_m).hidden=!1,hn(this,_m).style.zIndex=parseInt(hn(this,_m).style.zIndex)+1e3)}function vv(){hn(this,_m).classList.remove("focused"),!hn(this,Rm)&&this.isVisible&&(hn(this,_m).hidden=!0,hn(this,_m).style.zIndex=parseInt(hn(this,_m).style.zIndex)-1e3)}class bv extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=si.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var wv=new WeakMap;class yv extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),ln(this,wv,{writable:!0,value:null})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),a=pn(this,wv,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return hn(this,wv)}addHighlightArea(){this.container.classList.add("highlightArea")}}var kv=new WeakMap;class Av extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),ln(this,kv,{writable:!0,value:null})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),a=t.borderStyle.width,r=pn(this,kv,this.svgFactory.createElement("svg:rect"));return r.setAttribute("x",a/2),r.setAttribute("y",a/2),r.setAttribute("width",e-a),r.setAttribute("height",n-a),r.setAttribute("stroke-width",a||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return hn(this,kv)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Sv=new WeakMap;class xv extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),ln(this,Sv,{writable:!0,value:null})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),a=t.borderStyle.width,r=pn(this,Sv,this.svgFactory.createElement("svg:ellipse"));return r.setAttribute("cx",e/2),r.setAttribute("cy",n/2),r.setAttribute("rx",e/2-a/2),r.setAttribute("ry",n/2-a/2),r.setAttribute("stroke-width",a||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return hn(this,Sv)}addHighlightArea(){this.container.classList.add("highlightArea")}}var _v=new WeakMap;class Ev extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),ln(this,_v,{writable:!0,value:null}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:i},width:a,height:r}=this;if(!e)return this.container;const s=this.svgFactory.create(a,r,!0);let o=[];for(let c=0,u=e.length;c<u;c+=2){const n=e[c]-t[0],i=t[3]-e[c+1];o.push("".concat(n,",").concat(i))}o=o.join(" ");const l=pn(this,_v,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return hn(this,_v)}addHighlightArea(){this.container.classList.add("highlightArea")}}class Cv extends Ev{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Mv extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Tv=new WeakMap,Pv=new WeakMap,Rv=new WeakSet;class Dv extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),on(this,Rv),ln(this,Tv,{writable:!0,value:null}),ln(this,Pv,{writable:!0,value:[]}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?si.HIGHLIGHT:si.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:i,popupRef:a}}=this,{transform:r,width:s,height:o}=cn(this,Rv,Lv).call(this,e,t),l=this.svgFactory.create(s,o,!0),c=pn(this,Tv,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",r);for(let u=0,h=n.length;u<h;u++){const t=this.svgFactory.createElement(this.svgElementName);hn(this,Pv).push(t),t.setAttribute("points",n[u].join(",")),c.append(t)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:i}=t,a=hn(this,Tv);if(e>=0&&a.setAttribute("stroke-width",e||1),n)for(let r=0,s=hn(this,Pv).length;r<s;r++)hn(this,Pv)[r].setAttribute("points",n[r].join(","));if(i){const{transform:t,width:e,height:n}=cn(this,Rv,Lv).call(this,this.data.rotation,i);a.parentElement.setAttribute("viewBox","0 0 ".concat(e," ").concat(n)),a.setAttribute("transform",t)}}getElementsToTriggerPopup(){return hn(this,Pv)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Lv(t,e){switch(t){case 90:return{transform:"rotate(90) translate(".concat(-e[0],",").concat(e[1],") scale(1,-1)"),width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:"rotate(180) translate(".concat(-e[2],",").concat(e[1],") scale(1,-1)"),width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:"rotate(270) translate(".concat(-e[2],",").concat(e[3],") scale(1,-1)"),width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:"translate(".concat(-e[0],",").concat(e[3],") scale(1,-1)"),width:e[2]-e[0],height:e[3]-e[1]}}}class Iv extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=si.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const e=document.createElement("mark");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Nv extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Fv extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Ov extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const e=document.createElement("s");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Wv extends $g{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=si.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Bv=new WeakMap,jv=new WeakSet;class zv extends $g{constructor(t){var e;super(t,{isRenderable:!0}),on(this,jv),ln(this,Bv,{writable:!0,value:null});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||0===e.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(e.name)?"paperclip":"pushpin",".svg"),e.fillAlpha&&e.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*e.fillAlpha),"%);"))),n.addEventListener("dblclick",cn(this,jv,Uv).bind(this)),pn(this,Bv,n);const{isMac:i}=qi.platform;return t.addEventListener("keydown",(t=>{"Enter"===t.key&&(i?t.metaKey:t.ctrlKey)&&cn(this,jv,Uv).call(this)})),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return hn(this,Bv)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Uv(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.content,this.filename)}var Hv=new WeakMap,Vv=new WeakMap,Gv=new WeakMap,qv=new WeakMap,Xv=new WeakMap,Yv=new WeakMap,Kv=new WeakSet,Qv=new WeakSet;class Jv{constructor(t){let{div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:a,page:r,viewport:s,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:u}=t;on(this,Qv),on(this,Kv),ln(this,Hv,{writable:!0,value:null}),ln(this,Vv,{writable:!0,value:null}),ln(this,Gv,{writable:!0,value:null}),ln(this,qv,{writable:!0,value:new Map}),ln(this,Xv,{writable:!0,value:null}),ln(this,Yv,{writable:!0,value:null}),this.div=e,pn(this,Hv,n),pn(this,Vv,i),pn(this,Xv,o||null),pn(this,Yv,c||null),pn(this,Gv,u||new Ec),this.page=r,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=l||null}hasEditableAnnotations(){return hn(this,qv).size>0}async render(t){const{annotations:e}=t,n=this.div;ka(n,this.viewport);const i=new Map,a={data:null,layer:n,linkService:hn(this,Yv),downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new Vg,annotationStorage:hn(this,Gv),enableComment:!0===t.enableComment,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){var r;if(o.noHTML)continue;const t=o.annotationType===gi.POPUP;if(t){const t=i.get(o.id);if(!t)continue;a.elements=t}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;a.data=o;const e=Xg.create(a);if(!e.isRenderable)continue;if(!t&&o.popupRef){const t=i.get(o.popupRef);t?t.push(e):i.set(o.popupRef,[e])}const n=e.render();var s;if(o.hidden&&(n.style.visibility="hidden"),await cn(this,Kv,$v).call(this,n,o.id,a.elements),null===(r=e.extraPopupElement)||void 0===r||null===(r=r.popup)||void 0===r||r.renderCommentButton(),e._isEditable)hn(this,qv).set(e.data.id,e),null===(s=this._annotationEditorUIManager)||void 0===s||s.renderAnnotationElement(e)}cn(this,Qv,Zv).call(this)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:hn(this,Yv),svgFactory:new Vg,parent:this};for(const n of t){n.borderStyle||(n.borderStyle=Jv._defaultBorderStyle),e.data=n;const t=Xg.create(e);if(!t.isRenderable)continue;const i=t.render();await cn(this,Kv,$v).call(this,i,n.id,null)}}update(t){let{viewport:e}=t;const n=this.div;this.viewport=e,ka(n,{rotation:e.rotation}),cn(this,Qv,Zv).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(hn(this,qv).values())}getEditableAnnotation(t){return hn(this,qv).get(t)}addFakeAnnotation(t){var e;const{div:n}=this,{id:i,rotation:a}=t,r=new tm({data:{id:i,rect:t.getPDFRect(),rotation:a},editor:t,layer:n,parent:this,enableComment:!!this._commentManager,linkService:hn(this,Yv),annotationStorage:hn(this,Gv)}),s=r.render();return n.append(s),null===(e=hn(this,Hv))||void 0===e||e.moveElementInDOM(n,s,s,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return Fi(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:mi,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}async function $v(t,e,n){var i;const a=t.firstChild||t,r=a.id="".concat(ta).concat(e),s=await(null===(i=hn(this,Xv))||void 0===i?void 0:i.getAriaAttributes(r));if(s)for(const[l,c]of s)a.setAttribute(l,c);var o;n?n.at(-1).container.after(t):(this.div.append(t),null===(o=hn(this,Hv))||void 0===o||o.moveElementInDOM(this.div,t,a,!1))}function Zv(){if(!hn(this,Vv))return;const t=this.div;for(const[n,i]of hn(this,Vv)){const a=t.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!a)continue;i.className="annotationContent";const{firstChild:r}=a;r?"CANVAS"===r.nodeName?r.replaceWith(i):r.classList.contains("annotationContent")?r.after(i):r.before(i):a.append(i);const s=hn(this,qv).get(n);var e;if(s)if(s._hasNoCanvas)null===(e=this._annotationEditorUIManager)||void 0===e||e.setMissingCanvas(n,a.id,i),s._hasNoCanvas=!1;else s.canvas=i}hn(this,Vv).clear()}const tb=/\r\n?|\n/g;var eb=new WeakMap,nb=new WeakMap,ib=new WeakMap,ab=new WeakMap,rb=new WeakSet,sb=new WeakSet,ob=new WeakSet,lb=new WeakSet,cb=new WeakSet,ub=new WeakSet,hb=new WeakSet;class db extends Kl{static get _keyboardManager(){const t=db.prototype,e=t=>t.isEmpty(),n=js.TRANSLATE_SMALL,i=js.TRANSLATE_BIG;return Fi(this,"_keyboardManager",new kr([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}constructor(t){super({...t,name:"freeTextEditor"}),on(this,hb),on(this,ub),on(this,cb),on(this,lb),on(this,ob),on(this,sb),on(this,rb),ln(this,eb,{writable:!0,value:""}),ln(this,nb,{writable:!0,value:"".concat(this.id,"-editor")}),ln(this,ib,{writable:!0,value:null}),ln(this,ab,{writable:!0,value:void 0}),yn(this,"_colorPicker",null),this.color=t.color||db._defaultColor||Kl._defaultLineColor,pn(this,ab,t.fontSize||db._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){Kl.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case oi.FREETEXT_SIZE:db._defaultFontSize=e;break;case oi.FREETEXT_COLOR:db._defaultColor=e}}updateParams(t,e){switch(t){case oi.FREETEXT_SIZE:cn(this,rb,pb).call(this,e);break;case oi.FREETEXT_COLOR:cn(this,sb,fb).call(this,e)}}static get defaultPropertiesToUpdate(){return[[oi.FREETEXT_SIZE,db._defaultFontSize],[oi.FREETEXT_COLOR,db._defaultColor||Kl._defaultLineColor]]}get propertiesToUpdate(){return[[oi.FREETEXT_SIZE,hn(this,ab)],[oi.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Wg(this)),[["colorPicker",this._colorPicker]]}get colorType(){return oi.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,null===(t=this._colorPicker)||void 0===t||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-db._internalPadding*t,-(db._internalPadding+hn(this,ab))*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),pn(this,ib,new AbortController);const t=this._uiManager.combinedSignal(hn(this,ib));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",hn(this,nb)),this._isDraggable=!0,null===(t=hn(this,ib))||void 0===t||t.abort(),pn(this,ib,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var e;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=hn(this,eb),e=pn(this,eb,cn(this,ob,gb).call(this).trimEnd());if(t===e)return;const n=t=>{pn(this,eb,t),t?(cn(this,cb,bb).call(this),this._uiManager.rebuild(this),cn(this,lb,mb).call(this)):this.remove()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),cn(this,lb,mb).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){db._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",hn(this,nb)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(hn(this,ab),"px * var(--total-scale-factor))"),n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[r,s]=this.getInitialTranslation();[r,s]=this.pageTranslationToScreen(r,s);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let h,d;switch(this.rotation){case 0:h=t+(a[0]-c)/o,d=e+this.height-(a[1]-u)/l;break;case 90:h=t+(a[0]-c)/o,d=e-(a[1]-u)/l,[r,s]=[s,-r];break;case 180:h=t-this.width+(a[0]-c)/o,d=e-(a[1]-u)/l,[r,s]=[-r,-s];break;case 270:h=t+(a[0]-c-this.height*l)/o,d=e+(a[1]-u-this.width*o)/l,[r,s]=[-s,r]}this.setAt(h*n,d*i,r,s)}else this._moveAfterPaste(t,e);cn(this,cb,bb).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(1===n.length&&"text/plain"===n[0])return;t.preventDefault();const i=kn(db,db,yb).call(db,e.getData("text")||"").replaceAll(tb,"\n");if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const r=a.getRangeAt(0);if(!i.includes("\n"))return r.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void a.collapseToStart();const{startContainer:s,startOffset:o}=r,l=[],c=[];if(s.nodeType===Node.TEXT_NODE){const t=s.parentElement;if(c.push(s.nodeValue.slice(o).replaceAll(tb,"")),t!==this.editorDiv){let e=l;for(const n of this.editorDiv.childNodes)n!==t?e.push(kn(db,db,vb).call(db,n)):e=c}l.push(s.nodeValue.slice(0,o).replaceAll(tb,""))}else if(s===this.editorDiv){let t=l,e=0;for(const n of this.editorDiv.childNodes)e++===o&&(t=c),t.push(kn(db,db,vb).call(db,n))}pn(this,eb,"".concat(l.join("\n")).concat(i).concat(c.join("\n"))),cn(this,cb,bb).call(this);const u=new Range;let h=Math.sumPrecise(l.map((t=>t.length)));for(const{firstChild:d}of this.editorDiv.childNodes)if(d.nodeType===Node.TEXT_NODE){const t=d.nodeValue.length;if(h<=t){u.setStart(d,h),u.setEnd(d,h);break}h-=t}a.removeAllRanges(),a.addRange(u)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=db._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let i=null;if(t instanceof bv){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:a,rotation:r,id:s,popupRef:o,richText:l,contentsObj:c,creationDate:u,modificationDate:h},textContent:d,textPosition:p,parent:{page:{pageNumber:f}}}=t;if(!d||0===d.length)return null;i=t={annotationType:si.FREETEXT,color:Array.from(n),fontSize:e,value:d.join("\n"),position:p,pageIndex:f-1,rect:a.slice(0),rotation:r,annotationElementId:s,id:s,deleted:!1,popupRef:o,comment:(null===c||void 0===c?void 0:c.str)||null,richText:l,creationDate:u,modificationDate:h}}const a=await super.deserialize(t,e,n);return pn(a,ab,t.fontSize),a.color=Yi.makeHexColor(...t.color),pn(a,eb,kn(db,db,yb).call(db,t.value)),a._initialData=i,t.comment&&a.setCommentData(t),a}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Kl._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:hn(this,ab),value:cn(this,ub,wb).call(this)});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!cn(this,hb,kb).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize="calc(".concat(hn(this,ab),"px * var(--total-scale-factor))"),n.color=this.color,e.replaceChildren();for(const i of hn(this,eb).split("\n")){const t=document.createElement("div");t.append(i?document.createTextNode(i):document.createElement("br")),e.append(t)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:hn(this,eb)}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}function pb(t){const e=t=>{this.editorDiv.style.fontSize="calc(".concat(t,"px * var(--total-scale-factor))"),this.translate(0,-(t-hn(this,ab))*this.parentScale),pn(this,ab,t),cn(this,lb,mb).call(this)},n=hn(this,ab);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oi.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function fb(t){const e=t=>{this.color=t,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oi.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function gb(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes){var n;(null===(n=e)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===i.nodeName||(t.push(kn(jn,jn,vb).call(jn,i)),e=i)}return t.join("\n")}function mb(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:t,div:e}=this,i=e.style.display,a=e.classList.contains("hidden");e.classList.remove("hidden"),e.style.display="hidden",t.div.append(this.div),n=e.getBoundingClientRect(),e.remove(),e.style.display=i,e.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}function vb(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(tb,"")}function bb(){if(this.editorDiv.replaceChildren(),hn(this,eb))for(const t of hn(this,eb).split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}function wb(){return hn(this,eb).replaceAll("\xa0"," ")}function yb(t){return t.replaceAll(" ","\xa0")}function kb(t){const{value:e,fontSize:n,color:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some(((t,e)=>t!==i[e]))||t.pageIndex!==a}jn=db,yn(db,"_freeTextDefaultContent",""),yn(db,"_internalPadding",0),yn(db,"_defaultColor",null),yn(db,"_defaultFontSize",10),yn(db,"_type","freetext"),yn(db,"_editorType",si.FREETEXT);class Ab{toSVGPath(){Di("Abstract method `toSVGPath` must be implemented.")}get box(){Di("Abstract getter `box` must be implemented.")}serialize(t,e){Di("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,i,a,r){r||(r=new Float32Array(t.length));for(let s=0,o=t.length;s<o;s+=2)r[s]=e+t[s]*i,r[s+1]=n+t[s+1]*a;return r}static _rescaleAndSwap(t,e,n,i,a,r){r||(r=new Float32Array(t.length));for(let s=0,o=t.length;s<o;s+=2)r[s]=e+t[s+1]*i,r[s+1]=n+t[s]*a;return r}static _translate(t,e,n,i){i||(i=new Float32Array(t.length));for(let a=0,r=t.length;a<r;a+=2)i[a]=e+t[a],i[a+1]=n+t[a+1];return i}static svgRound(t){return Math.round(1e4*t)}static _normalizePoint(t,e,n,i,a){switch(a){case 90:return[1-e/n,t/i];case 180:return[1-t/n,1-e/i];case 270:return[e/n,1-t/i];default:return[t/n,e/i]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,i,a,r){return[(t+5*n)/6,(e+5*i)/6,(5*n+a)/6,(5*i+r)/6,(n+a)/2,(i+r)/2]}}yn(Ab,"PRECISION",1e-4);var Sb=new WeakMap,xb=new WeakMap,_b=new WeakMap,Eb=new WeakMap,Cb=new WeakMap,Mb=new WeakMap,Tb=new WeakMap,Pb=new WeakMap,Rb=new WeakMap,Db=new WeakMap,Lb=new WeakMap,Ib=new WeakMap,Nb=new WeakMap,Fb=new WeakSet,Ob=new WeakSet,Wb=new WeakSet,Bb=new WeakSet,jb=new WeakSet,zb=new WeakSet,Ub=new WeakSet;class Hb{constructor(t,e,n,i,a){let{x:r,y:s}=t,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;on(this,Ub),on(this,zb),on(this,jb),on(this,Bb),on(this,Wb),on(this,Ob),on(this,Fb),ln(this,Sb,{writable:!0,value:void 0}),ln(this,xb,{writable:!0,value:[]}),ln(this,_b,{writable:!0,value:void 0}),ln(this,Eb,{writable:!0,value:void 0}),ln(this,Cb,{writable:!0,value:[]}),ln(this,Mb,{writable:!0,value:new Float32Array(18)}),ln(this,Tb,{writable:!0,value:void 0}),ln(this,Pb,{writable:!0,value:void 0}),ln(this,Rb,{writable:!0,value:void 0}),ln(this,Db,{writable:!0,value:void 0}),ln(this,Lb,{writable:!0,value:void 0}),ln(this,Ib,{writable:!0,value:void 0}),ln(this,Nb,{writable:!0,value:[]}),pn(this,Sb,e),pn(this,Ib,i*n),pn(this,Eb,a),hn(this,Mb).set([NaN,NaN,NaN,NaN,r,s],6),pn(this,_b,o),pn(this,Db,vn(Hb,Hb,Jb)*n),pn(this,Rb,vn(Hb,Hb,$b)*n),pn(this,Lb,n),hn(this,Nb).push(r,s)}isEmpty(){return isNaN(hn(this,Mb)[8])}add(t){var e;let{x:n,y:i}=t;pn(this,Tb,n),pn(this,Pb,i);const[a,r,s,o]=hn(this,Sb);let[l,c,u,h]=hn(this,Mb).subarray(8,12);const d=n-u,p=i-h,f=Math.hypot(d,p);if(f<hn(this,Rb))return!1;const g=f-hn(this,Db),m=g/f,v=m*d,b=m*p;let w=l,y=c;l=u,c=h,u+=v,h+=b,null===(e=hn(this,Nb))||void 0===e||e.push(n,i);const k=v/g,A=-b/g*hn(this,Ib),S=k*hn(this,Ib);if(hn(this,Mb).set(hn(this,Mb).subarray(2,8),0),hn(this,Mb).set([u+A,h+S],4),hn(this,Mb).set(hn(this,Mb).subarray(14,18),12),hn(this,Mb).set([u-A,h-S],16),isNaN(hn(this,Mb)[6]))return 0===hn(this,Cb).length&&(hn(this,Mb).set([l+A,c+S],2),hn(this,Cb).push(NaN,NaN,NaN,NaN,(l+A-a)/s,(c+S-r)/o),hn(this,Mb).set([l-A,c-S],14),hn(this,xb).push(NaN,NaN,NaN,NaN,(l-A-a)/s,(c-S-r)/o)),hn(this,Mb).set([w,y,l,c,u,h],6),!this.isEmpty();hn(this,Mb).set([w,y,l,c,u,h],6);return Math.abs(Math.atan2(y-c,w-l)-Math.atan2(b,v))<Math.PI/2?([l,c,u,h]=hn(this,Mb).subarray(2,6),hn(this,Cb).push(NaN,NaN,NaN,NaN,((l+u)/2-a)/s,((c+h)/2-r)/o),[l,c,w,y]=hn(this,Mb).subarray(14,18),hn(this,xb).push(NaN,NaN,NaN,NaN,((w+l)/2-a)/s,((y+c)/2-r)/o),!0):([w,y,l,c,u,h]=hn(this,Mb).subarray(0,6),hn(this,Cb).push(((w+5*l)/6-a)/s,((y+5*c)/6-r)/o,((5*l+u)/6-a)/s,((5*c+h)/6-r)/o,((l+u)/2-a)/s,((c+h)/2-r)/o),[u,h,l,c,w,y]=hn(this,Mb).subarray(12,18),hn(this,xb).push(((w+5*l)/6-a)/s,((y+5*c)/6-r)/o,((5*l+u)/6-a)/s,((5*c+h)/6-r)/o,((l+u)/2-a)/s,((c+h)/2-r)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const t=hn(this,Cb),e=hn(this,xb);if(isNaN(hn(this,Mb)[6])&&!this.isEmpty())return cn(this,Ob,Gb).call(this);const n=[];n.push("M".concat(t[4]," ").concat(t[5]));for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push("L".concat(t[i+4]," ").concat(t[i+5])):n.push("C".concat(t[i]," ").concat(t[i+1]," ").concat(t[i+2]," ").concat(t[i+3]," ").concat(t[i+4]," ").concat(t[i+5]));cn(this,Bb,Xb).call(this,n);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?n.push("L".concat(e[i+4]," ").concat(e[i+5])):n.push("C".concat(e[i]," ").concat(e[i+1]," ").concat(e[i+2]," ").concat(e[i+3]," ").concat(e[i+4]," ").concat(e[i+5]));return cn(this,Wb,qb).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,i,a,r){return new ow(t,e,n,i,a,r)}getOutlines(){var t,e;const n=hn(this,Cb),i=hn(this,xb),a=hn(this,Mb),[r,s,o,l]=hn(this,Sb),c=new Float32Array((null!==(t=null===(e=hn(this,Nb))||void 0===e?void 0:e.length)&&void 0!==t?t:0)+2);for(let d=0,p=c.length-2;d<p;d+=2)c[d]=(hn(this,Nb)[d]-r)/o,c[d+1]=(hn(this,Nb)[d+1]-s)/l;if(c[c.length-2]=(hn(this,Tb)-r)/o,c[c.length-1]=(hn(this,Pb)-s)/l,isNaN(a[6])&&!this.isEmpty())return cn(this,jb,Yb).call(this,c);const u=new Float32Array(hn(this,Cb).length+24+hn(this,xb).length);let h=n.length;for(let d=0;d<h;d+=2)isNaN(n[d])?u[d]=u[d+1]=NaN:(u[d]=n[d],u[d+1]=n[d+1]);h=cn(this,Ub,Qb).call(this,u,h);for(let d=i.length-6;d>=6;d-=6)for(let t=0;t<6;t+=2)isNaN(i[d+t])?(u[h]=u[h+1]=NaN,h+=2):(u[h]=i[d+t],u[h+1]=i[d+t+1],h+=2);return cn(this,zb,Kb).call(this,u,h),this.newFreeDrawOutline(u,c,hn(this,Sb),hn(this,Lb),hn(this,_b),hn(this,Eb))}}function Vb(){const t=hn(this,Mb).subarray(4,6),e=hn(this,Mb).subarray(16,18),[n,i,a,r]=hn(this,Sb);return[(hn(this,Tb)+(t[0]-e[0])/2-n)/a,(hn(this,Pb)+(t[1]-e[1])/2-i)/r,(hn(this,Tb)+(e[0]-t[0])/2-n)/a,(hn(this,Pb)+(e[1]-t[1])/2-i)/r]}function Gb(){const[t,e,n,i]=hn(this,Sb),[a,r,s,o]=cn(this,Fb,Vb).call(this);return"M".concat((hn(this,Mb)[2]-t)/n," ").concat((hn(this,Mb)[3]-e)/i," L").concat((hn(this,Mb)[4]-t)/n," ").concat((hn(this,Mb)[5]-e)/i," L").concat(a," ").concat(r," L").concat(s," ").concat(o," L").concat((hn(this,Mb)[16]-t)/n," ").concat((hn(this,Mb)[17]-e)/i," L").concat((hn(this,Mb)[14]-t)/n," ").concat((hn(this,Mb)[15]-e)/i," Z")}function qb(t){const e=hn(this,xb);t.push("L".concat(e[4]," ").concat(e[5]," Z"))}function Xb(t){const[e,n,i,a]=hn(this,Sb),r=hn(this,Mb).subarray(4,6),s=hn(this,Mb).subarray(16,18),[o,l,c,u]=cn(this,Fb,Vb).call(this);t.push("L".concat((r[0]-e)/i," ").concat((r[1]-n)/a," L").concat(o," ").concat(l," L").concat(c," ").concat(u," L").concat((s[0]-e)/i," ").concat((s[1]-n)/a))}function Yb(t){const e=hn(this,Mb),[n,i,a,r]=hn(this,Sb),[s,o,l,c]=cn(this,Fb,Vb).call(this),u=new Float32Array(36);return u.set([NaN,NaN,NaN,NaN,(e[2]-n)/a,(e[3]-i)/r,NaN,NaN,NaN,NaN,(e[4]-n)/a,(e[5]-i)/r,NaN,NaN,NaN,NaN,s,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(e[16]-n)/a,(e[17]-i)/r,NaN,NaN,NaN,NaN,(e[14]-n)/a,(e[15]-i)/r],0),this.newFreeDrawOutline(u,t,hn(this,Sb),hn(this,Lb),hn(this,_b),hn(this,Eb))}function Kb(t,e){const n=hn(this,xb);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+6}function Qb(t,e){const n=hn(this,Mb).subarray(4,6),i=hn(this,Mb).subarray(16,18),[a,r,s,o]=hn(this,Sb),[l,c,u,h]=cn(this,Fb,Vb).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-a)/s,(n[1]-r)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(i[0]-a)/s,(i[1]-r)/o],e),e+24}var Jb={writable:!0,value:8},$b={writable:!0,value:vn(zn=Hb,zn,Jb)+vn(zn,zn,{writable:!0,value:2})},Zb=new WeakMap,tw=new WeakMap,ew=new WeakMap,nw=new WeakMap,iw=new WeakMap,aw=new WeakMap,rw=new WeakMap,sw=new WeakSet;class ow extends Ab{constructor(t,e,n,i,a,r){super(),on(this,sw),ln(this,Zb,{writable:!0,value:void 0}),ln(this,tw,{writable:!0,value:new Float32Array(4)}),ln(this,ew,{writable:!0,value:void 0}),ln(this,nw,{writable:!0,value:void 0}),ln(this,iw,{writable:!0,value:void 0}),ln(this,aw,{writable:!0,value:void 0}),ln(this,rw,{writable:!0,value:void 0}),pn(this,rw,t),pn(this,iw,e),pn(this,Zb,n),pn(this,aw,i),pn(this,ew,a),pn(this,nw,r),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],cn(this,sw,lw).call(this,r);const[s,o,l,c]=hn(this,tw);for(let u=0,h=t.length;u<h;u+=2)t[u]=(t[u]-s)/l,t[u+1]=(t[u+1]-o)/c;for(let u=0,h=e.length;u<h;u+=2)e[u]=(e[u]-s)/l,e[u+1]=(e[u+1]-o)/c}toSVGPath(){const t=["M".concat(hn(this,rw)[4]," ").concat(hn(this,rw)[5])];for(let e=6,n=hn(this,rw).length;e<n;e+=6)isNaN(hn(this,rw)[e])?t.push("L".concat(hn(this,rw)[e+4]," ").concat(hn(this,rw)[e+5])):t.push("C".concat(hn(this,rw)[e]," ").concat(hn(this,rw)[e+1]," ").concat(hn(this,rw)[e+2]," ").concat(hn(this,rw)[e+3]," ").concat(hn(this,rw)[e+4]," ").concat(hn(this,rw)[e+5]));return t.push("Z"),t.join(" ")}serialize(t,e){let[n,i,a,r]=t;const s=a-n,o=r-i;let l,c;switch(e){case 0:l=Ab._rescale(hn(this,rw),n,r,s,-o),c=Ab._rescale(hn(this,iw),n,r,s,-o);break;case 90:l=Ab._rescaleAndSwap(hn(this,rw),n,i,s,o),c=Ab._rescaleAndSwap(hn(this,iw),n,i,s,o);break;case 180:l=Ab._rescale(hn(this,rw),a,i,-s,o),c=Ab._rescale(hn(this,iw),a,i,-s,o);break;case 270:l=Ab._rescaleAndSwap(hn(this,rw),a,r,-s,-o),c=Ab._rescaleAndSwap(hn(this,iw),a,r,-s,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return hn(this,tw)}newOutliner(t,e,n,i,a){return new Hb(t,e,n,i,a,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(t,e){const[n,i,a,r]=hn(this,tw),[s,o,l,c]=hn(this,Zb),u=a*l,h=r*c,d=n*l+s,p=i*c+o,f=this.newOutliner({x:hn(this,iw)[0]*u+d,y:hn(this,iw)[1]*h+p},hn(this,Zb),hn(this,aw),t,hn(this,nw),null!==e&&void 0!==e?e:hn(this,ew));for(let g=2;g<hn(this,iw).length;g+=2)f.add({x:hn(this,iw)[g]*u+d,y:hn(this,iw)[g+1]*h+p});return f.getOutlines()}}function lw(t){const e=hn(this,rw);let n=e[4],i=e[5];const a=[n,i,n,i];let r=n,s=i,o=n,l=i;const c=t?Math.max:Math.min,u=new Float32Array(4);for(let d=6,p=e.length;d<p;d+=6){const t=e[d+4],h=e[d+5];isNaN(e[d])?(Yi.pointBoundingBox(t,h,a),s>h?(r=t,s=h):s===h&&(r=c(r,t)),l<h?(o=t,l=h):l===h&&(o=c(o,t))):(u[0]=u[1]=1/0,u[2]=u[3]=-1/0,Yi.bezierBoundingBox(n,i,...e.slice(d,d+6),u),Yi.rectBoundingBox(u[0],u[1],u[2],u[3],a),s>u[1]?(r=u[0],s=u[1]):s===u[1]&&(r=c(r,u[0])),l<u[3]?(o=u[2],l=u[3]):l===u[3]&&(o=c(o,u[2]))),n=t,i=h}const h=hn(this,tw);h[0]=a[0]-hn(this,ew),h[1]=a[1]-hn(this,ew),h[2]=a[2]-a[0]+2*hn(this,ew),h[3]=a[3]-a[1]+2*hn(this,ew),this.firstPoint=[r,s],this.lastPoint=[o,l]}var cw=new WeakMap,uw=new WeakMap,hw=new WeakMap,dw=new WeakMap,pw=new WeakMap,fw=new WeakSet,gw=new WeakSet,mw=new WeakSet,vw=new WeakSet,bw=new WeakSet;class ww{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];on(this,bw),on(this,vw),on(this,mw),on(this,gw),on(this,fw),ln(this,cw,{writable:!0,value:void 0}),ln(this,uw,{writable:!0,value:void 0}),ln(this,hw,{writable:!0,value:void 0}),ln(this,dw,{writable:!0,value:[]}),ln(this,pw,{writable:!0,value:[]});const a=[1/0,1/0,-1/0,-1/0],r=10**-4;for(const{x:f,y:g,width:m,height:v}of t){const t=Math.floor((f-e)/r)*r,n=Math.ceil((f+m+e)/r)*r,i=Math.floor((g-e)/r)*r,s=Math.ceil((g+v+e)/r)*r,o=[t,i,s,!0],l=[n,i,s,!1];hn(this,dw).push(o,l),Yi.rectBoundingBox(t,i,n,s,a)}const s=a[2]-a[0]+2*n,o=a[3]-a[1]+2*n,l=a[0]-n,c=a[1]-n;let u=i?-1/0:1/0,h=1/0;const d=hn(this,dw).at(i?-1:-2),p=[d[0],d[2]];for(const f of hn(this,dw)){const[t,e,n,a]=f;!a&&i?e<h?(h=e,u=t):e===h&&(u=Math.max(u,t)):a&&!i&&(e<h?(h=e,u=t):e===h&&(u=Math.min(u,t))),f[0]=(t-l)/s,f[1]=(e-c)/o,f[2]=(n-c)/o}pn(this,cw,new Float32Array([l,c,s,o])),pn(this,uw,[u,h]),pn(this,hw,p)}getOutlines(){hn(this,dw).sort(((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]));const t=[];for(const e of hn(this,dw))e[3]?(t.push(...cn(this,bw,xw).call(this,e)),cn(this,mw,Aw).call(this,e)):(cn(this,vw,Sw).call(this,e),t.push(...cn(this,bw,xw).call(this,e)));return cn(this,fw,yw).call(this,t)}}function yw(t){const e=[],n=new Set;for(const r of t){const[t,n,i]=r;e.push([t,n,r],[t,i,r])}e.sort(((t,e)=>t[1]-e[1]||t[0]-e[0]));for(let r=0,s=e.length;r<s;r+=2){const t=e[r][2],i=e[r+1][2];t.push(i),i.push(t),n.add(t),n.add(i)}const i=[];let a;for(;n.size>0;){const t=n.values().next().value;let[e,r,s,o,l]=t;n.delete(t);let c=e,u=r;for(a=[e,s],i.push(a);;){let t;if(n.has(o))t=o;else{if(!n.has(l))break;t=l}n.delete(t),[e,r,s,o,l]=t,c!==e&&(a.push(c,u,e,u===r?r:s),c=e),u=u===r?s:r}a.push(c,u)}return new Cw(i,hn(this,cw),hn(this,uw),hn(this,hw))}function kw(t){const e=hn(this,pw);let n=0,i=e.length-1;for(;n<=i;){const a=n+i>>1,r=e[a][0];if(r===t)return a;r<t?n=a+1:i=a-1}return i+1}function Aw(t){let[,e,n]=t;const i=cn(this,gw,kw).call(this,e);hn(this,pw).splice(i,0,[e,n])}function Sw(t){let[,e,n]=t;const i=cn(this,gw,kw).call(this,e);for(let a=i;a<hn(this,pw).length;a++){const[t,i]=hn(this,pw)[a];if(t!==e)break;if(t===e&&i===n)return void hn(this,pw).splice(a,1)}for(let a=i-1;a>=0;a--){const[t,i]=hn(this,pw)[a];if(t!==e)break;if(t===e&&i===n)return void hn(this,pw).splice(a,1)}}function xw(t){const[e,n,i]=t,a=[[e,n,i]],r=cn(this,gw,kw).call(this,i);for(let s=0;s<r;s++){const[t,n]=hn(this,pw)[s];for(let i=0,r=a.length;i<r;i++){const[,s,o]=a[i];if(!(n<=s||o<=t))if(s>=t)if(o>n)a[i][1]=n;else{if(1===r)return[];a.splice(i,1),i--,r--}else a[i][2]=t,o>n&&a.push([e,n,o])}}return a}var _w=new WeakMap,Ew=new WeakMap;class Cw extends Ab{constructor(t,e,n,i){super(),ln(this,_w,{writable:!0,value:void 0}),ln(this,Ew,{writable:!0,value:void 0}),pn(this,Ew,t),pn(this,_w,e),this.firstPoint=n,this.lastPoint=i}toSVGPath(){const t=[];for(const e of hn(this,Ew)){let[n,i]=e;t.push("M".concat(n," ").concat(i));for(let a=2;a<e.length;a+=2){const r=e[a],s=e[a+1];r===n?(t.push("V".concat(s)),i=s):s===i&&(t.push("H".concat(r)),n=r)}t.push("Z")}return t.join(" ")}serialize(t,e){let[n,i,a,r]=t;const s=[],o=a-n,l=r-i;for(const c of hn(this,Ew)){const t=new Array(c.length);for(let e=0;e<c.length;e+=2)t[e]=n+c[e]*o,t[e+1]=r-c[e+1]*l;s.push(t)}return s}get box(){return hn(this,_w)}get classNamesForOutlining(){return["highlightOutline"]}}class Mw extends Hb{newFreeDrawOutline(t,e,n,i,a,r){return new Tw(t,e,n,i,a,r)}}class Tw extends ow{newOutliner(t,e,n,i,a){return new Mw(t,e,n,i,a,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var Pw=new WeakMap,Rw=new WeakMap,Dw=new WeakMap,Lw=new WeakMap,Iw=new WeakMap,Nw=new WeakMap,Fw=new WeakMap,Ow=new WeakMap,Ww=new WeakMap,Bw=new WeakMap,jw=new WeakMap,zw=new WeakMap,Uw=new WeakMap,Hw=new WeakMap,Vw=new WeakMap,Gw=new WeakMap,qw=new WeakMap,Xw=new WeakMap,Yw=new WeakSet,Kw=new WeakSet,Qw=new WeakSet,Jw=new WeakSet,$w=new WeakSet,Zw=new WeakSet,ty=new WeakSet,ey=new WeakSet,ny=new WeakSet,iy=new WeakSet,ay=new WeakSet,ry=new WeakSet,sy=new WeakSet;class oy extends Kl{static get _keyboardManager(){const t=oy.prototype;return Fi(this,"_keyboardManager",new kr([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),on(this,sy),on(this,ry),on(this,ay),on(this,iy),on(this,ny),on(this,ey),on(this,ty),on(this,Zw),on(this,$w),on(this,Jw),on(this,Qw),on(this,Kw),on(this,Yw),ln(this,Pw,{writable:!0,value:null}),ln(this,Rw,{writable:!0,value:0}),ln(this,Dw,{writable:!0,value:void 0}),ln(this,Lw,{writable:!0,value:null}),ln(this,Iw,{writable:!0,value:null}),ln(this,Nw,{writable:!0,value:null}),ln(this,Fw,{writable:!0,value:null}),ln(this,Ow,{writable:!0,value:0}),ln(this,Ww,{writable:!0,value:null}),ln(this,Bw,{writable:!0,value:null}),ln(this,jw,{writable:!0,value:null}),ln(this,zw,{writable:!0,value:!1}),ln(this,Uw,{writable:!0,value:null}),ln(this,Hw,{writable:!0,value:null}),ln(this,Vw,{writable:!0,value:null}),ln(this,Gw,{writable:!0,value:""}),ln(this,qw,{writable:!0,value:void 0}),ln(this,Xw,{writable:!0,value:""}),this.color=t.color||oy._defaultColor,pn(this,qw,t.thickness||oy._defaultThickness),this.opacity=t.opacity||oy._defaultOpacity,pn(this,Dw,t.boxes||null),pn(this,Xw,t.methodOfCreation||""),pn(this,Gw,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(pn(this,zw,!0),cn(this,Kw,cy).call(this,t),cn(this,ty,fy).call(this)):hn(this,Dw)&&(pn(this,Pw,t.anchorNode),pn(this,Rw,t.anchorOffset),pn(this,Fw,t.focusNode),pn(this,Ow,t.focusOffset),cn(this,Yw,ly).call(this),cn(this,ty,fy).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:hn(this,zw)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:hn(this,qw),methodOfCreation:hn(this,Xw)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,e){var n;Kl.initialize(t,e),oy._defaultColor||(oy._defaultColor=(null===(n=e.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(t,e){switch(t){case oi.HIGHLIGHT_COLOR:oy._defaultColor=e;break;case oi.HIGHLIGHT_THICKNESS:oy._defaultThickness=e}}translateInPage(t,e){}get toolbarPosition(){return hn(this,Hw)}get commentButtonPosition(){return hn(this,Uw)}updateParams(t,e){switch(t){case oi.HIGHLIGHT_COLOR:cn(this,Qw,uy).call(this,e);break;case oi.HIGHLIGHT_THICKNESS:cn(this,Jw,hy).call(this,e)}}static get defaultPropertiesToUpdate(){return[[oi.HIGHLIGHT_COLOR,oy._defaultColor],[oi.HIGHLIGHT_THICKNESS,oy._defaultThickness]]}get propertiesToUpdate(){return[[oi.HIGHLIGHT_COLOR,this.color||oy._defaultColor],[oi.HIGHLIGHT_THICKNESS,hn(this,qw)||oy._defaultThickness],[oi.HIGHLIGHT_FREE,hn(this,zw)]]}onUpdatedColor(){var t,e;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(hn(this,jw),{root:{fill:this.color,"fill-opacity":this.opacity}}),null===(e=hn(this,Iw))||void 0===e||e.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",pn(this,Iw,new Cg({editor:this}))]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(cn(this,iy,by).call(this))}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,cn(this,iy,by).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){cn(this,Zw,py).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(cn(this,ty,fy).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)cn(this,Zw,py).call(this);else if(t){var n;cn(this,ty,fy).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),this.show(this._isVisible),e&&this.select()}rotate(t){const{drawLayer:e}=this.parent;let n;hn(this,zw)?(t=(t-this.rotation+360)%360,n=kn(oy,oy,gy).call(oy,hn(this,Bw).box,t)):n=kn(oy,oy,gy).call(oy,[this.x,this.y,this.width,this.height],t),e.updateProperties(hn(this,jw),{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(hn(this,Vw),{bbox:kn(oy,oy,gy).call(oy,hn(this,Nw).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();hn(this,Gw)&&(t.setAttribute("aria-label",hn(this,Gw)),t.setAttribute("role","mark")),hn(this,zw)?t.classList.add("free"):this.div.addEventListener("keydown",cn(this,ey,my).bind(this),{signal:this._uiManager._signal});const e=pn(this,Ww,document.createElement("div"));return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=hn(this,Lw),this.setDims(this.width,this.height),sr(this,hn(this,Ww),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(hn(this,Vw),{rootClass:{hovered:!0}}))}pointerleave(){var t;this.isSelected||(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(hn(this,Vw),{rootClass:{hovered:!1}}))}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:cn(this,ny,vy).call(this,!0);break;case 1:case 3:cn(this,ny,vy).call(this,!1)}}select(){var t;super.select(),hn(this,Vw)&&(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(hn(this,Vw),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),hn(this,Vw)&&(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(hn(this,Vw),{rootClass:{selected:!1}}),hn(this,zw)||cn(this,ny,vy).call(this,!1))}get _mustFixPosition(){return!hn(this,zw)}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(hn(this,jw),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(hn(this,Vw),{rootClass:{hidden:!t}}))}static startHighlighting(t,e,n){let{target:i,x:a,y:r}=n;const{x:s,y:o,width:l,height:c}=i.getBoundingClientRect(),u=new AbortController,h=t.combinedSignal(u),d=e=>{u.abort(),kn(this,oy,Ay).call(this,t,e)};window.addEventListener("blur",d,{signal:h}),window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("pointerdown",ga,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",fa,{signal:h}),i.addEventListener("pointermove",kn(this,oy,ky).bind(this,t),{signal:h}),this._freeHighlight=new Mw({x:a,y:r},[s,o,l,c],t.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(t,e,n){let i=null;if(t instanceof Iv){const{data:{quadPoints:e,rect:n,rotation:a,id:r,color:s,opacity:o,popupRef:l,richText:c,contentsObj:u,creationDate:h,modificationDate:d},parent:{page:{pageNumber:p}}}=t;i=t={annotationType:si.HIGHLIGHT,color:Array.from(s),opacity:o,quadPoints:e,boxes:null,pageIndex:p-1,rect:n.slice(0),rotation:a,annotationElementId:r,id:r,deleted:!1,popupRef:l,richText:c,comment:(null===u||void 0===u?void 0:u.str)||null,creationDate:h,modificationDate:d}}else if(t instanceof Dv){const{data:{inkLists:e,rect:n,rotation:a,id:r,color:s,borderStyle:{rawWidth:o},popupRef:l,richText:c,contentsObj:u,creationDate:h,modificationDate:d},parent:{page:{pageNumber:p}}}=t;i=t={annotationType:si.HIGHLIGHT,color:Array.from(s),thickness:o,inkLists:e,boxes:null,pageIndex:p-1,rect:n.slice(0),rotation:a,annotationElementId:r,id:r,deleted:!1,popupRef:l,richText:c,comment:(null===u||void 0===u?void 0:u.str)||null,creationDate:h,modificationDate:d}}const{color:a,quadPoints:r,inkLists:s,opacity:o}=t,l=await super.deserialize(t,e,n);l.color=Yi.makeHexColor(...a),l.opacity=o||1,s&&pn(l,qw,t.thickness),l._initialData=i,t.comment&&l.setCommentData(t);const[c,u]=l.pageDimensions,[h,d]=l.pageTranslation;if(r){const t=pn(l,Dw,[]);for(let e=0;e<r.length;e+=8)t.push({x:(r[e]-h)/c,y:1-(r[e+1]-d)/u,width:(r[e+2]-r[e])/c,height:(r[e+1]-r[e+5])/u});cn(l,Yw,ly).call(l),cn(l,ty,fy).call(l),l.rotate(l.rotation)}else if(s){pn(l,zw,!0);const t=s[0],n={x:t[0]-h,y:u-(t[1]-d)},i=new Mw(n,[0,0,c,u],1,hn(l,qw)/2,!0,.001);for(let e=0,s=t.length;e<s;e+=2)n.x=t[e]-h,n.y=u-(t[e+1]-d),i.add(n);const{id:a,clipPathId:r}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:i.toSVGPath()}},!0,!0);cn(l,Kw,cy).call(l,{highlightOutlines:i.getOutlines(),highlightId:a,clipPathId:r}),cn(l,ty,fy).call(l),l.rotate(l.parentRotation)}return l}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=Kl._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:hn(this,qw),quadPoints:cn(this,ay,wy).call(this),outlines:cn(this,ry,yy).call(this,n.rect)}),this.addComment(n),this.annotationElementId&&!cn(this,sy,Sy).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}function ly(){const t=new ww(hn(this,Dw),.001);pn(this,Bw,t.getOutlines()),[this.x,this.y,this.width,this.height]=hn(this,Bw).box;const e=new ww(hn(this,Dw),.0025,.001,"ltr"===this._uiManager.direction);pn(this,Nw,e.getOutlines());const{firstPoint:n}=hn(this,Bw);pn(this,Uw,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]);const{lastPoint:i}=hn(this,Nw);pn(this,Hw,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])}function cy(t){let{highlightOutlines:e,highlightId:n,clipPathId:i}=t;pn(this,Bw,e);if(pn(this,Nw,e.getNewOutline(hn(this,qw)/2+1.5,.0025)),n>=0)pn(this,jw,n),pn(this,Lw,i),this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),pn(this,Vw,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:hn(this,Nw).box,path:{d:hn(this,Nw).toSVGPath()}},!0));else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(hn(this,jw),{bbox:kn(Un,Un,gy).call(Un,hn(this,Bw).box,(t-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(hn(this,Vw),{bbox:kn(Un,Un,gy).call(Un,hn(this,Nw).box,t),path:{d:hn(this,Nw).toSVGPath()}})}const[a,r,s,o]=e.box;switch(this.rotation){case 0:this.x=a,this.y=r,this.width=s,this.height=o;break;case 90:{const[t,e]=this.parentDimensions;this.x=r,this.y=1-a,this.width=s*e/t,this.height=o*t/e;break}case 180:this.x=1-a,this.y=1-r,this.width=s,this.height=o;break;case 270:{const[t,e]=this.parentDimensions;this.x=1-r,this.y=a,this.width=s*e/t,this.height=o*t/e;break}}const{firstPoint:l}=e;pn(this,Uw,[(l[0]-a)/s,(l[1]-r)/o]);const{lastPoint:c}=hn(this,Nw);pn(this,Hw,[(c[0]-a)/s,(c[1]-r)/o])}function uy(t){const e=(t,e)=>{this.color=t,this.opacity=e,this.onUpdatedColor()},n=this.color,i=this.opacity;this.addCommands({cmd:e.bind(this,t,Un._defaultOpacity),undo:e.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oi.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}function hy(t){const e=hn(this,qw),n=t=>{pn(this,qw,t),cn(this,$w,dy).call(this,t)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oi.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}function dy(t){hn(this,zw)&&(cn(this,Kw,cy).call(this,{highlightOutlines:hn(this,Bw).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}function py(){null!==hn(this,jw)&&this.parent&&(this.parent.drawLayer.remove(hn(this,jw)),pn(this,jw,null),this.parent.drawLayer.remove(hn(this,Vw)),pn(this,Vw,null))}function fy(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===hn(this,jw)&&(({id:rn(this,jw).value,clipPathId:rn(this,Lw).value}=t.drawLayer.draw({bbox:hn(this,Bw).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:hn(this,zw)},path:{d:hn(this,Bw).toSVGPath()}},!1,!0)),pn(this,Vw,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:hn(this,zw)},bbox:hn(this,Nw).box,path:{d:hn(this,Nw).toSVGPath()}},hn(this,zw))),hn(this,Ww)&&(hn(this,Ww).style.clipPath=hn(this,Lw)))}function gy(t,e){let[n,i,a,r]=t;switch(e){case 90:return[1-i-r,n,r,a];case 180:return[1-n-a,1-i-r,a,r];case 270:return[i,1-n-a,r,a]}return[n,i,a,r]}function my(t){Un._keyboardManager.exec(this,t)}function vy(t){if(!hn(this,Pw))return;const e=window.getSelection();t?e.setPosition(hn(this,Pw),hn(this,Rw)):e.setPosition(hn(this,Fw),hn(this,Ow))}function by(){return hn(this,zw)?this.rotation:0}function wy(){if(hn(this,zw))return null;const[t,e]=this.pageDimensions,[n,i]=this.pageTranslation,a=hn(this,Dw),r=new Float32Array(8*a.length);let s=0;for(const{x:o,y:l,width:c,height:u}of a){const a=o*t+n,h=(1-l)*e+i;r[s]=r[s+4]=a,r[s+1]=r[s+3]=h,r[s+2]=r[s+6]=a+c*t,r[s+5]=r[s+7]=h-u*e,s+=8}return r}function yy(t){return hn(this,Bw).serialize(t,cn(this,iy,by).call(this))}function ky(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function Ay(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function Sy(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some(((t,n)=>t!==e[n]))}Un=oy,yn(oy,"_defaultColor",null),yn(oy,"_defaultOpacity",1),yn(oy,"_defaultThickness",12),yn(oy,"_type","highlight"),yn(oy,"_editorType",si.HIGHLIGHT),yn(oy,"_freeHighlightId",-1),yn(oy,"_freeHighlight",null),yn(oy,"_freeHighlightClipId","");var xy=new WeakMap;class _y{constructor(){ln(this,xy,{writable:!0,value:Object.create(null)})}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){hn(this,xy)[t]=e}toSVGProperties(){const t=hn(this,xy);return pn(this,xy,Object.create(null)),{root:t}}reset(){pn(this,xy,Object.create(null))}updateAll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(t)}clone(){Di("Not implemented")}}var Ey=new WeakMap,Cy=new WeakMap,My=new WeakSet,Ty=new WeakSet,Py=new WeakSet,Ry=new WeakSet,Dy=new WeakSet,Ly=new WeakSet,Iy=new WeakSet,Ny=new WeakSet;class Fy extends Kl{constructor(t){super(t),on(this,Ny),on(this,Iy),on(this,Ly),on(this,Dy),on(this,Ry),on(this,Py),on(this,Ty),on(this,My),ln(this,Ey,{writable:!0,value:null}),ln(this,Cy,{writable:!0,value:void 0}),yn(this,"_colorPicker",null),yn(this,"_drawId",null),pn(this,Cy,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;null===(t=this._colorPicker)||void 0===t||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(cn(this,My,Oy).call(this,t),cn(this,Ry,jy).call(this))}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[i,a]of Object.entries(e))n.has(i)?Object.assign(t[i],a):t[i]=a;return t}static getDefaultDrawingOptions(t){Di("Not implemented")}static get typesMap(){Di("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(vn(Fy,Fy,Gy).updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)t.push([n,e[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,i]of this.constructor.typesMap)t.push([n,e[i]]);return t}_updateProperty(t,e,n){const i=this._drawingOptions,a=i[e],r=n=>{var a;i.updateProperty(e,n);const r=hn(this,Ey).updateProperty(e,n);r&&cn(this,Iy,Hy).call(this,r),null===(a=this.parent)||void 0===a||a.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,Fy._mergeSVGProperties(hn(this,Ey).getPathResizingSVGProperties(cn(this,Ly,Uy).call(this)),{bbox:cn(this,Ny,Vy).call(this)}))}_onResized(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,Fy._mergeSVGProperties(hn(this,Ey).getPathResizedSVGProperties(cn(this,Ly,Uy).call(this)),{bbox:cn(this,Ny,Vy).call(this)}))}_onTranslating(t,e){var n;null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,{bbox:cn(this,Ny,Vy).call(this)})}_onTranslated(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,Fy._mergeSVGProperties(hn(this,Ey).getPathTranslatedSVGProperties(cn(this,Ly,Uy).call(this),this.parentDimensions),{bbox:cn(this,Ny,Vy).call(this)}))}_onStartDragging(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,hn(this,Cy)&&(pn(this,Cy,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){cn(this,Py,By).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(cn(this,Ry,jy).call(this),cn(this,Iy,Hy).call(this,hn(this,Ey).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)this._uiManager.removeShouldRescale(this),cn(this,Py,By).call(this);else if(t){var n;this._uiManager.addShouldRescale(this),cn(this,Ry,jy).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),e&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Fy._mergeSVGProperties({bbox:cn(this,Ny,Vy).call(this)},hn(this,Ey).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&cn(this,Iy,Hy).call(this,hn(this,Ey).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");return n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,i,a){Di("Not implemented")}static startDrawing(t,e,n,i){var a,r;const{target:s,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=i;if(vn(Fy,Fy,Ky)&&vn(Fy,Fy,Ky)!==u)return;const{viewport:{rotation:h}}=t,{width:d,height:p}=s.getBoundingClientRect(),f=mn(Fy,Fy,qy,new AbortController),g=t.combinedSignal(f);vn(Fy,Fy,Yy)||mn(Fy,Fy,Yy,c),null!==(a=vn(Fy,Fy,Ky))&&void 0!==a||mn(Fy,Fy,Ky,u),window.addEventListener("pointerup",(t=>{var e;vn(Fy,Fy,Yy)===t.pointerId?this._endDraw(t):null===(e=vn(Fy,Fy,Qy))||void 0===e||e.delete(t.pointerId)}),{signal:g}),window.addEventListener("pointercancel",(t=>{var e;vn(Fy,Fy,Yy)===t.pointerId?this._currentParent.endDrawingSession():null===(e=vn(Fy,Fy,Qy))||void 0===e||e.delete(t.pointerId)}),{signal:g}),window.addEventListener("pointerdown",(t=>{vn(Fy,Fy,Ky)===t.pointerType&&((vn(Fy,Fy,Qy)||mn(Fy,Fy,Qy,new Set)).add(t.pointerId),vn(Fy,Fy,Gy).isCancellable()&&(vn(Fy,Fy,Gy).removeLastElement(),vn(Fy,Fy,Gy).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))}),{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",fa,{signal:g}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),s.addEventListener("touchmove",(t=>{t.timeStamp===vn(Fy,Fy,Jy)&&ga(t)}),{signal:g}),t.toggleDrawing(),null===(r=e._editorUndoBar)||void 0===r||r.hide(),vn(Fy,Fy,Gy)?t.drawLayer.updateProperties(this._currentDrawId,vn(Fy,Fy,Gy).startNew(o,l,d,p,h)):(e.updateUIForDefaultProperties(this),mn(Fy,Fy,Gy,this.createDrawerInstance(o,l,d,p,h)),mn(Fy,Fy,Xy,this.getDefaultDrawingOptions()),this._currentParent=t,({id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(vn(Fy,Fy,Xy).toSVGProperties(),vn(Fy,Fy,Gy).defaultSVGProperties),!0,!1)))}static _drawMove(t){var e;if(mn(Fy,Fy,Jy,-1),!vn(Fy,Fy,Gy))return;const{offsetX:n,offsetY:i,pointerId:a}=t;vn(Fy,Fy,Yy)===a&&((null===(e=vn(Fy,Fy,Qy))||void 0===e?void 0:e.size)>=1?this._endDraw(t):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,vn(Fy,Fy,Gy).add(n,i)),mn(Fy,Fy,Jy,t.timeStamp),ga(t)))}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,mn(Fy,Fy,Gy,null),mn(Fy,Fy,Xy,null),mn(Fy,Fy,Ky,null),mn(Fy,Fy,Jy,NaN)),vn(Fy,Fy,qy)&&(vn(Fy,Fy,qy).abort(),mn(Fy,Fy,qy,null),mn(Fy,Fy,Yy,NaN),mn(Fy,Fy,Qy,null))}static _endDraw(t){const e=this._currentParent;if(e)if(e.toggleDrawing(!0),this._cleanup(!1),(null===t||void 0===t?void 0:t.target)===e.div&&e.drawLayer.updateProperties(this._currentDrawId,vn(Fy,Fy,Gy).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const t=vn(Fy,Fy,Gy),n=this._currentDrawId,i=t.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(n,t.setLastElement(i))},undo:()=>{e.drawLayer.updateProperties(n,t.removeLastElement())},mustExec:!1,type:oi.DRAW_STEP})}else this.endDrawing(!1)}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(oi.DRAW_STEP),!vn(Fy,Fy,Gy).isEmpty()){const{pageDimensions:[n,i],scale:a}=e,r=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:vn(Fy,Fy,Gy).getOutlines(n*a,i*a,a,this._INNER_MARGIN),drawingOptions:vn(Fy,Fy,Xy),mustBeCommitted:!t});return this._cleanup(!0),r}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,i,a,r){Di("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:i,pageHeight:a,pageX:r,pageY:s}}=e.viewport,o=this.deserializeDraw(r,s,i,a,this._INNER_MARGIN,t),l=await super.deserialize(t,e,n);return l.createDrawingOptions(t),cn(l,My,Oy).call(l,{drawOutlines:o}),cn(l,Ry,jy).call(l),l.onScaleChanging(),l.rotate(),l}serializeDraw(t){const[e,n]=this.pageTranslation,[i,a]=this.pageDimensions;return hn(this,Ey).serialize([e,n,i,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}function Oy(t){let{drawOutlines:e,drawId:n,drawingOptions:i}=t;pn(this,Ey,e),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-".concat(this.editorType,"-added-alert")),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=cn(this,Ty,Wy).call(this,e,this.parent),cn(this,Iy,Hy).call(this,e.box)}function Wy(t,e){const{id:n}=e.drawLayer.draw(Hn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}function By(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function jy(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===t||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=cn(this,Ty,Wy).call(this,hn(this,Ey),t)):this.parent.drawLayer.updateParent(this._drawId,t.drawLayer))}function zy(t){let[e,n,i,a]=t;const{parentDimensions:[r,s],rotation:o}=this;switch(o){case 90:return[n,1-e,i*(s/r),a*(r/s)];case 180:return[1-e,1-n,i,a];case 270:return[1-n,e,i*(s/r),a*(r/s)];default:return[e,n,i,a]}}function Uy(){const{x:t,y:e,width:n,height:i,parentDimensions:[a,r],rotation:s}=this;switch(s){case 90:return[1-e,t,n*(a/r),i*(r/a)];case 180:return[1-t,1-e,n,i];case 270:return[e,1-t,n*(a/r),i*(r/a)];default:return[t,e,n,i]}}function Hy(t){[this.x,this.y,this.width,this.height]=cn(this,Dy,zy).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}function Vy(){const{x:t,y:e,width:n,height:i,rotation:a,parentRotation:r,parentDimensions:[s,o]}=this;switch((4*a+r)/90){case 1:return[1-e-i,t,i,n];case 2:return[1-t-n,1-e-i,n,i];case 3:return[e,1-t-n,i,n];case 4:return[t,e-n*(s/o),i*(o/s),n*(s/o)];case 5:return[1-e,t,n*(s/o),i*(o/s)];case 6:return[1-t-i*(o/s),1-e,i*(o/s),n*(s/o)];case 7:return[e-n*(s/o),1-t-i*(o/s),n*(s/o),i*(o/s)];case 8:return[t-n,e-i,n,i];case 9:return[1-e,t-n,i,n];case 10:return[1-t,1-e,n,i];case 11:return[e-i,1-t,i,n];case 12:return[t-i*(o/s),e,i*(o/s),n*(s/o)];case 13:return[1-e-n*(s/o),t-i*(o/s),n*(s/o),i*(o/s)];case 14:return[1-t,1-e-n*(s/o),i*(o/s),n*(s/o)];case 15:return[e,1-t,n*(s/o),i*(o/s)];default:return[t,e,n,i]}}Hn=Fy,yn(Fy,"_currentDrawId",-1),yn(Fy,"_currentParent",null);var Gy={writable:!0,value:null},qy={writable:!0,value:null},Xy={writable:!0,value:null},Yy={writable:!0,value:NaN},Ky={writable:!0,value:null},Qy={writable:!0,value:null},Jy={writable:!0,value:NaN};yn(Fy,"_INNER_MARGIN",3);var $y=new WeakMap,Zy=new WeakMap,tk=new WeakMap,ek=new WeakMap,nk=new WeakMap,ik=new WeakMap,ak=new WeakMap,rk=new WeakMap,sk=new WeakMap,ok=new WeakMap,lk=new WeakMap,ck=new WeakSet;class uk{constructor(t,e,n,i,a,r){on(this,ck),ln(this,$y,{writable:!0,value:new Float64Array(6)}),ln(this,Zy,{writable:!0,value:void 0}),ln(this,tk,{writable:!0,value:void 0}),ln(this,ek,{writable:!0,value:void 0}),ln(this,nk,{writable:!0,value:void 0}),ln(this,ik,{writable:!0,value:void 0}),ln(this,ak,{writable:!0,value:""}),ln(this,rk,{writable:!0,value:0}),ln(this,sk,{writable:!0,value:new _k}),ln(this,ok,{writable:!0,value:void 0}),ln(this,lk,{writable:!0,value:void 0}),pn(this,ok,n),pn(this,lk,i),pn(this,ek,a),pn(this,nk,r),[t,e]=cn(this,ck,hk).call(this,t,e);const s=pn(this,Zy,[NaN,NaN,NaN,NaN,t,e]);pn(this,ik,[t,e]),pn(this,tk,[{line:s,points:hn(this,ik)}]),hn(this,$y).set(s,0)}updateProperty(t,e){"stroke-width"===t&&pn(this,nk,e)}isEmpty(){return!hn(this,tk)||0===hn(this,tk).length}isCancellable(){return hn(this,ik).length<=10}add(t,e){[t,e]=cn(this,ck,hk).call(this,t,e);const[n,i,a,r]=hn(this,$y).subarray(2,6),s=t-a,o=e-r;return Math.hypot(hn(this,ok)*s,hn(this,lk)*o)<=2?null:(hn(this,ik).push(t,e),isNaN(n)?(hn(this,$y).set([a,r,t,e],2),hn(this,Zy).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(hn(this,$y)[0])&&hn(this,Zy).splice(6,6),hn(this,$y).set([n,i,a,r,t,e],0),hn(this,Zy).push(...Ab.createBezierPoints(n,i,a,r,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(2===hn(this,ik).length?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,i,a){pn(this,ok,n),pn(this,lk,i),pn(this,ek,a),[t,e]=cn(this,ck,hk).call(this,t,e);const r=pn(this,Zy,[NaN,NaN,NaN,NaN,t,e]);pn(this,ik,[t,e]);const s=hn(this,tk).at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),hn(this,tk).push({line:r,points:hn(this,ik)}),hn(this,$y).set(r,0),pn(this,rk,0),this.toSVGPath(),null}getLastElement(){return hn(this,tk).at(-1)}setLastElement(t){return hn(this,tk)?(hn(this,tk).push(t),pn(this,Zy,t.line),pn(this,ik,t.points),pn(this,rk,0),{path:{d:this.toSVGPath()}}):hn(this,sk).setLastElement(t)}removeLastElement(){if(!hn(this,tk))return hn(this,sk).removeLastElement();hn(this,tk).pop(),pn(this,ak,"");for(let t=0,e=hn(this,tk).length;t<e;t++){const{line:e,points:n}=hn(this,tk)[t];pn(this,Zy,e),pn(this,ik,n),pn(this,rk,0),this.toSVGPath()}return{path:{d:hn(this,ak)}}}toSVGPath(){const t=Ab.svgRound(hn(this,Zy)[4]),e=Ab.svgRound(hn(this,Zy)[5]);if(2===hn(this,ik).length)return pn(this,ak,"".concat(hn(this,ak)," M ").concat(t," ").concat(e," Z")),hn(this,ak);if(hn(this,ik).length<=6){const n=hn(this,ak).lastIndexOf("M");pn(this,ak,"".concat(hn(this,ak).slice(0,n)," M ").concat(t," ").concat(e)),pn(this,rk,6)}if(4===hn(this,ik).length){const t=Ab.svgRound(hn(this,Zy)[10]),e=Ab.svgRound(hn(this,Zy)[11]);return pn(this,ak,"".concat(hn(this,ak)," L ").concat(t," ").concat(e)),pn(this,rk,12),hn(this,ak)}const n=[];0===hn(this,rk)&&(n.push("M ".concat(t," ").concat(e)),pn(this,rk,6));for(let i=hn(this,rk),a=hn(this,Zy).length;i<a;i+=6){const[t,e,a,r,s,o]=hn(this,Zy).slice(i,i+6).map(Ab.svgRound);n.push("C".concat(t," ").concat(e," ").concat(a," ").concat(r," ").concat(s," ").concat(o))}return pn(this,ak,hn(this,ak)+n.join(" ")),pn(this,rk,hn(this,Zy).length),hn(this,ak)}getOutlines(t,e,n,i){const a=hn(this,tk).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),hn(this,sk).build(hn(this,tk),t,e,n,hn(this,ek),hn(this,nk),i),pn(this,$y,null),pn(this,Zy,null),pn(this,tk,null),pn(this,ak,null),hn(this,sk)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}function hk(t,e){return Ab._normalizePoint(t,e,hn(this,ok),hn(this,lk),hn(this,ek))}var dk=new WeakMap,pk=new WeakMap,fk=new WeakMap,gk=new WeakMap,mk=new WeakMap,vk=new WeakMap,bk=new WeakMap,wk=new WeakMap,yk=new WeakMap,kk=new WeakSet,Ak=new WeakSet,Sk=new WeakSet,xk=new WeakSet;class _k extends Ab{constructor(){super(...arguments),on(this,xk),on(this,Sk),on(this,Ak),on(this,kk),ln(this,dk,{writable:!0,value:void 0}),ln(this,pk,{writable:!0,value:0}),ln(this,fk,{writable:!0,value:void 0}),ln(this,gk,{writable:!0,value:void 0}),ln(this,mk,{writable:!0,value:void 0}),ln(this,vk,{writable:!0,value:void 0}),ln(this,bk,{writable:!0,value:void 0}),ln(this,wk,{writable:!0,value:void 0}),ln(this,yk,{writable:!0,value:void 0})}build(t,e,n,i,a,r,s){pn(this,mk,e),pn(this,vk,n),pn(this,bk,i),pn(this,wk,a),pn(this,yk,r),pn(this,fk,null!==s&&void 0!==s?s:0),pn(this,gk,t),cn(this,Sk,Mk).call(this)}get thickness(){return hn(this,yk)}setLastElement(t){return hn(this,gk).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return hn(this,gk).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of hn(this,gk))if(t.push("M".concat(Ab.svgRound(e[4])," ").concat(Ab.svgRound(e[5]))),6!==e.length)if(12===e.length&&isNaN(e[6]))t.push("L".concat(Ab.svgRound(e[10])," ").concat(Ab.svgRound(e[11])));else for(let n=6,i=e.length;n<i;n+=6){const[i,a,r,s,o,l]=e.subarray(n,n+6).map(Ab.svgRound);t.push("C".concat(i," ").concat(a," ").concat(r," ").concat(s," ").concat(o," ").concat(l))}else t.push("Z");return t.join("")}serialize(t,e){let[n,i,a,r]=t;const s=[],o=[],[l,c,u,h]=cn(this,Ak,Ck).call(this);let d,p,f,g,m,v,b,w,y;switch(hn(this,wk)){case 0:y=Ab._rescale,d=n,p=i+r,f=a,g=-r,m=n+l*a,v=i+(1-c-h)*r,b=n+(l+u)*a,w=i+(1-c)*r;break;case 90:y=Ab._rescaleAndSwap,d=n,p=i,f=a,g=r,m=n+c*a,v=i+l*r,b=n+(c+h)*a,w=i+(l+u)*r;break;case 180:y=Ab._rescale,d=n+a,p=i,f=-a,g=r,m=n+(1-l-u)*a,v=i+c*r,b=n+(1-l)*a,w=i+(c+h)*r;break;case 270:y=Ab._rescaleAndSwap,d=n+a,p=i+r,f=-a,g=-r,m=n+(1-c-h)*a,v=i+(1-l-u)*r,b=n+(1-c)*a,w=i+(1-l)*r}for(const{line:k,points:A}of hn(this,gk))s.push(y(k,d,p,f,g,e?new Array(k.length):null)),o.push(y(A,d,p,f,g,e?new Array(A.length):null));return{lines:s,points:o,rect:[m,v,b,w]}}static deserialize(t,e,n,i,a,r){let{paths:{lines:s,points:o},rotation:l,thickness:c}=r;const u=[];let h,d,p,f,g;switch(l){case 0:g=Ab._rescale,h=-t/n,d=e/i+1,p=1/n,f=-1/i;break;case 90:g=Ab._rescaleAndSwap,h=-e/i,d=-t/n,p=1/i,f=1/n;break;case 180:g=Ab._rescale,h=t/n+1,d=-e/i,p=-1/n,f=1/i;break;case 270:g=Ab._rescaleAndSwap,h=e/i+1,d=t/n+1,p=-1/i,f=-1/n}if(!s){s=[];for(const t of o){const e=t.length;if(2===e){s.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1]]));continue}if(4===e){s.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1],NaN,NaN,NaN,NaN,t[2],t[3]]));continue}const n=new Float32Array(3*(e-2));s.push(n);let[i,a,r,o]=t.subarray(0,4);n.set([NaN,NaN,NaN,NaN,i,a],0);for(let s=4;s<e;s+=2){const e=t[s],l=t[s+1];n.set(Ab.createBezierPoints(i,a,r,o,e,l),3*(s-2)),[i,a,r,o]=[r,o,e,l]}}}for(let v=0,b=s.length;v<b;v++)u.push({line:g(s[v].map((t=>null!==t&&void 0!==t?t:NaN)),h,d,p,f),points:g(o[v].map((t=>null!==t&&void 0!==t?t:NaN)),h,d,p,f)});const m=new this.prototype.constructor;return m.build(u,n,i,1,l,c,a),m}get box(){return hn(this,dk)}updateProperty(t,e){return"stroke-width"===t?cn(this,xk,Tk).call(this,e):null}updateParentDimensions(t,e){let[n,i]=t;const[a,r]=cn(this,kk,Ek).call(this);pn(this,mk,n),pn(this,vk,i),pn(this,bk,e);const[s,o]=cn(this,kk,Ek).call(this),l=s-a,c=o-r,u=hn(this,dk);return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(t){return pn(this,pk,t),{path:{transform:this.rotationTransform}}}get viewBox(){return hn(this,dk).map(Ab.svgRound).join(" ")}get defaultProperties(){const[t,e]=hn(this,dk);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(Ab.svgRound(t)," ").concat(Ab.svgRound(e))}}}get rotationTransform(){const[,,t,e]=hn(this,dk);let n=0,i=0,a=0,r=0,s=0,o=0;switch(hn(this,pk)){case 90:i=e/t,a=-t/e,s=t;break;case 180:n=-1,r=-1,s=t,o=e;break;case 270:i=-e/t,a=t/e,o=e;break;default:return""}return"matrix(".concat(n," ").concat(i," ").concat(a," ").concat(r," ").concat(Ab.svgRound(s)," ").concat(Ab.svgRound(o),")")}getPathResizingSVGProperties(t){let[e,n,i,a]=t;const[r,s]=cn(this,kk,Ek).call(this),[o,l,c,u]=hn(this,dk);if(Math.abs(c-r)<=Ab.PRECISION||Math.abs(u-s)<=Ab.PRECISION){const t=e+i/2-(o+c/2),r=n+a/2-(l+u/2);return{path:{"transform-origin":"".concat(Ab.svgRound(e)," ").concat(Ab.svgRound(n)),transform:"".concat(this.rotationTransform," translate(").concat(t," ").concat(r,")")}}}const h=(i-2*r)/(c-2*r),d=(a-2*s)/(u-2*s),p=c/i,f=u/a;return{path:{"transform-origin":"".concat(Ab.svgRound(o)," ").concat(Ab.svgRound(l)),transform:"".concat(this.rotationTransform," scale(").concat(p," ").concat(f,") ")+"translate(".concat(Ab.svgRound(r)," ").concat(Ab.svgRound(s),") scale(").concat(h," ").concat(d,") ")+"translate(".concat(Ab.svgRound(-r)," ").concat(Ab.svgRound(-s),")")}}}getPathResizedSVGProperties(t){let[e,n,i,a]=t;const[r,s]=cn(this,kk,Ek).call(this),o=hn(this,dk),[l,c,u,h]=o;if(o[0]=e,o[1]=n,o[2]=i,o[3]=a,Math.abs(u-r)<=Ab.PRECISION||Math.abs(h-s)<=Ab.PRECISION){const t=e+i/2-(l+u/2),r=n+a/2-(c+h/2);for(const{line:e,points:n}of hn(this,gk))Ab._translate(e,t,r,e),Ab._translate(n,t,r,n);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(Ab.svgRound(e)," ").concat(Ab.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}const d=(i-2*r)/(u-2*r),p=(a-2*s)/(h-2*s),f=-d*(l+r)+e+r,g=-p*(c+s)+n+s;if(1!==d||1!==p||0!==f||0!==g)for(const{line:m,points:v}of hn(this,gk))Ab._rescale(m,f,g,d,p,m),Ab._rescale(v,f,g,d,p,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(Ab.svgRound(e)," ").concat(Ab.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(t,e){let[n,i]=t;const[a,r]=e,s=hn(this,dk),o=n-s[0],l=i-s[1];if(hn(this,mk)===a&&hn(this,vk)===r)for(const{line:c,points:u}of hn(this,gk))Ab._translate(c,o,l,c),Ab._translate(u,o,l,u);else{const t=hn(this,mk)/a,e=hn(this,vk)/r;pn(this,mk,a),pn(this,vk,r);for(const{line:n,points:i}of hn(this,gk))Ab._rescale(n,o,l,t,e,n),Ab._rescale(i,o,l,t,e,i);s[2]*=t,s[3]*=e}return s[0]=n,s[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(Ab.svgRound(n)," ").concat(Ab.svgRound(i))}}}get defaultSVGProperties(){const t=hn(this,dk);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(Ab.svgRound(t[0])," ").concat(Ab.svgRound(t[1])),transform:this.rotationTransform||null},bbox:t}}}function Ek(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn(this,yk);const e=hn(this,fk)+t/2*hn(this,bk);return hn(this,wk)%180===0?[e/hn(this,mk),e/hn(this,vk)]:[e/hn(this,vk),e/hn(this,mk)]}function Ck(){const[t,e,n,i]=hn(this,dk),[a,r]=cn(this,kk,Ek).call(this,0);return[t+a,e+r,n-2*a,i-2*r]}function Mk(){const t=pn(this,dk,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of hn(this,gk)){if(i.length<=12){for(let e=4,n=i.length;e<n;e+=6)Yi.pointBoundingBox(i[e],i[e+1],t);continue}let e=i[4],n=i[5];for(let a=6,r=i.length;a<r;a+=6){const[r,s,o,l,c,u]=i.subarray(a,a+6);Yi.bezierBoundingBox(e,n,r,s,o,l,c,u,t),e=c,n=u}}const[e,n]=cn(this,kk,Ek).call(this);t[0]=ea(t[0]-e,0,1),t[1]=ea(t[1]-n,0,1),t[2]=ea(t[2]+e,0,1),t[3]=ea(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}function Tk(t){const[e,n]=cn(this,kk,Ek).call(this);pn(this,yk,t);const[i,a]=cn(this,kk,Ek).call(this),[r,s]=[i-e,a-n],o=hn(this,dk);return o[0]-=r,o[1]-=s,o[2]+=2*r,o[3]+=2*s,o}class Pk extends _y{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Kl._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){var n;"stroke-width"===t&&(null!==(n=e)&&void 0!==n||(e=this["stroke-width"]),e*=this._viewParameters.realScale);super.updateSVGProperty(t,e)}clone(){const t=new Pk(this._viewParameters);return t.updateAll(this),t}}var Rk=new WeakSet;class Dk extends Fy{constructor(t){super({...t,name:"inkEditor"}),on(this,Rk),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Kl.initialize(t,e),this._defaultDrawingOptions=new Pk(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Fi(this,"typesMap",new Map([[oi.INK_THICKNESS,"stroke-width"],[oi.INK_COLOR,"stroke"],[oi.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,i,a){return new uk(t,e,n,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,i,a,r){return _k.deserialize(t,e,n,i,a,r)}static async deserialize(t,e,n){let i=null;if(t instanceof Dv){const{data:{inkLists:e,rect:n,rotation:a,id:r,color:s,opacity:o,borderStyle:{rawWidth:l},popupRef:c,richText:u,contentsObj:h,creationDate:d,modificationDate:p},parent:{page:{pageNumber:f}}}=t;i=t={annotationType:si.INK,color:Array.from(s),thickness:l,opacity:o,paths:{points:e},boxes:null,pageIndex:f-1,rect:n.slice(0),rotation:a,annotationElementId:r,id:r,deleted:!1,popupRef:c,richText:u,comment:(null===h||void 0===h?void 0:h.str)||null,creationDate:d,modificationDate:p}}const a=await super.deserialize(t,e,n);return a._initialData=i,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Wg(this)),[["colorPicker",this._colorPicker]]}get colorType(){return oi.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(t){let{color:e,thickness:n,opacity:i}=t;this._drawingOptions=Dk.getDefaultDrawingOptions({stroke:Yi.makeHexColor(...e),"stroke-width":n,"stroke-opacity":i})}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:i,"stroke-opacity":a,"stroke-width":r}}=this,s=Object.assign(super.serialize(t),{color:Kl._colorManager.convert(i),opacity:a,thickness:r,paths:{lines:e,points:n}});return this.addComment(s),t?(s.isCopy=!0,s):this.annotationElementId&&!cn(this,Rk,Lk).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}function Lk(t){const{color:e,thickness:n,opacity:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some(((t,n)=>t!==e[n]))||t.thickness!==n||t.opacity!==i||t.pageIndex!==a}yn(Dk,"_type","ink"),yn(Dk,"_editorType",si.INK),yn(Dk,"_defaultDrawingOptions",null);class Ik extends _k{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}class Nk{static extractContoursFromText(t,e,n,i,a,r){let{fontFamily:s,fontStyle:o,fontWeight:l}=e,c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const h=u.font="".concat(o," ").concat(l," ").concat(200,"px ").concat(s),{actualBoundingBoxLeft:d,actualBoundingBoxRight:p,actualBoundingBoxAscent:f,actualBoundingBoxDescent:g,fontBoundingBoxAscent:m,fontBoundingBoxDescent:v,width:b}=u.measureText(t),w=1.5,y=Math.ceil(Math.max(Math.abs(d)+Math.abs(p)||0,b)*w),k=Math.ceil(Math.max(Math.abs(f)+Math.abs(g)||200,Math.abs(m)+Math.abs(v)||200)*w);c=new OffscreenCanvas(y,k),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,y,k),u.fillStyle="black",u.fillText(t,.5*y/2,1.5*k/2);const A=kn(this,Nk,Vk).call(this,u.getImageData(0,0,y,k).data),S=kn(this,Nk,Hk).call(this,A),x=kn(this,Nk,Gk).call(this,S),_=kn(this,Nk,Bk).call(this,A,y,k,x);return this.processDrawnLines({lines:{curves:_,width:y,height:k},pageWidth:n,pageHeight:i,rotation:a,innerMargin:r,mustSmooth:!0,areContours:!0})}static process(t,e,n,i,a){const[r,s,o]=kn(this,Nk,qk).call(this,t),[l,c]=kn(this,Nk,Uk).call(this,r,s,o,Math.hypot(s,o)*vn(this,Nk,Xk).sigmaSFactor,vn(this,Nk,Xk).sigmaR,vn(this,Nk,Xk).kernelSize),u=kn(this,Nk,Gk).call(this,c),h=kn(this,Nk,Bk).call(this,l,s,o,u);return this.processDrawnLines({lines:{curves:h,width:s,height:o},pageWidth:e,pageHeight:n,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines(t){var e;let{lines:n,pageWidth:i,pageHeight:a,rotation:r,innerMargin:s,mustSmooth:o,areContours:l}=t;r%180!==0&&([i,a]=[a,i]);const{curves:c,width:u,height:h}=n,d=null!==(e=n.thickness)&&void 0!==e?e:0,p=[],f=Math.min(i/u,a/h),g=f/i,m=f/a,v=[];for(const{points:w}of c){const t=o?kn(this,Nk,zk).call(this,w):w;if(!t)continue;v.push(t);const e=t.length,n=new Float32Array(e),i=new Float32Array(3*(2===e?2:e-2));if(p.push({line:i,points:n}),2===e){n[0]=t[0]*g,n[1]=t[1]*m,i.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[a,r,s,l]=t;a*=g,r*=m,s*=g,l*=m,n.set([a,r,s,l],0),i.set([NaN,NaN,NaN,NaN,a,r],0);for(let o=4;o<e;o+=2){const e=n[o]=t[o]*g,c=n[o+1]=t[o+1]*m;i.set(Ab.createBezierPoints(a,r,s,l,e,c),3*(o-2)),[a,r,s,l]=[s,l,e,c]}}if(0===p.length)return null;const b=l?new Ik:new _k;return b.build(p,i,a,1,r,l?0:d,s),{outline:b,newCurves:v,areContours:l,thickness:d,width:u,height:h}}static async compressSignature(t){let e,{outlines:n,areContours:i,thickness:a,width:r,height:s}=t,o=1/0,l=-1/0,c=0;for(const b of n){c+=b.length;for(let t=2,e=b.length;t<e;t++){const e=b[t]-b[t-2];o=Math.min(o,e),l=Math.max(l,e)}}e=o>=-128&&l<=127?Int8Array:o>=-32768&&l<=32767?Int16Array:Int32Array;const u=n.length,h=8+3*u,d=new Uint32Array(h);let p=0;d[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*u)*e.BYTES_PER_ELEMENT,d[p++]=0,d[p++]=r,d[p++]=s,d[p++]=i?0:1,d[p++]=Math.max(0,Math.floor(null!==a&&void 0!==a?a:0)),d[p++]=u,d[p++]=e.BYTES_PER_ELEMENT;for(const b of n)d[p++]=b.length-2,d[p++]=b[0],d[p++]=b[1];const f=new CompressionStream("deflate-raw"),g=f.writable.getWriter();await g.ready,g.write(d);const m=e.prototype.constructor;for(const b of n){const t=new m(b.length-2);for(let e=2,n=b.length;e<n;e++)t[e-2]=b[e]-b[e-2];g.write(t)}g.close();const v=await new Response(f.readable).arrayBuffer();return na(new Uint8Array(v))}static async decompressSignature(t){try{const n=(e=t,Uint8Array.fromBase64?Uint8Array.fromBase64(e):Gi(atob(e))),{readable:i,writable:a}=new DecompressionStream("deflate-raw"),r=a.getWriter();await r.ready,r.write(n).then((async()=>{await r.ready,await r.close()})).catch((()=>{}));let s=null,o=0;for await(const t of i)s||(s=new Uint8Array(new Uint32Array(t.buffer,0,4)[0])),s.set(t,o),o+=t.length;const l=new Uint32Array(s.buffer,0,s.length>>2),c=l[1];if(0!==c)throw new Error("Invalid version: ".concat(c));const u=l[2],h=l[3],d=0===l[4],p=l[5],f=l[6],g=l[7],m=[],v=(8+3*f)*Uint32Array.BYTES_PER_ELEMENT;let b;switch(g){case Int8Array.BYTES_PER_ELEMENT:b=new Int8Array(s.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:b=new Int16Array(s.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:b=new Int32Array(s.buffer,v)}o=0;for(let t=0;t<f;t++){const e=l[3*t+8],n=new Float32Array(e+2);m.push(n);for(let i=0;i<2;i++)n[i]=l[3*t+8+i+1];for(let t=0;t<e;t++)n[t+2]=n[t]+b[o++]}return{areContours:d,thickness:p,outlines:m,width:u,height:h}}catch(n){return Ri("decompressSignature: ".concat(n)),null}var e}}function Fk(t,e,n,i){return i-=e,0===(n-=t)?i>0?0:4:1===n?i+6:2-i}function Ok(t,e,n,i,a,r,s){const o=kn(this,Vn,Fk).call(this,n,i,a,r);for(let l=0;l<8;l++){const a=(-l+o-s+16)%8;if(0!==t[(n+vn(this,Vn,Yk)[2*a])*e+(i+vn(this,Vn,Yk)[2*a+1])])return a}return-1}function Wk(t,e,n,i,a,r,s){const o=kn(this,Vn,Fk).call(this,n,i,a,r);for(let l=0;l<8;l++){const a=(l+o+s+16)%8;if(0!==t[(n+vn(this,Vn,Yk)[2*a])*e+(i+vn(this,Vn,Yk)[2*a+1])])return a}return-1}function Bk(t,e,n,i){const a=t.length,r=new Int32Array(a);for(let c=0;c<a;c++)r[c]=t[c]<=i?1:0;for(let c=1;c<n-1;c++)r[c*e]=r[c*e+e-1]=0;for(let c=0;c<e;c++)r[c]=r[e*n-1-c]=0;let s,o=1;const l=[];for(let c=1;c<n-1;c++){s=1;for(let t=1;t<e-1;t++){const n=c*e+t,i=r[n];if(0===i)continue;let a=c,u=t;if(1===i&&0===r[n-1])o+=1,u-=1;else{if(!(i>=1&&0===r[n+1])){1!==i&&(s=Math.abs(i));continue}o+=1,u+=1,i>1&&(s=i)}const h=[t,c],d=u===t+1,p={isHole:d,points:h,id:o,parent:0};let f;l.push(p);for(const t of l)if(t.id===s){f=t;break}f?f.isHole?p.parent=d?f.parent:s:p.parent=d?s:f.parent:p.parent=d?s:0;const g=kn(this,Vn,Ok).call(this,r,e,c,t,a,u,0);if(-1===g){r[n]=-o,1!==r[n]&&(s=Math.abs(r[n]));continue}let m=vn(this,Vn,Yk)[2*g],v=vn(this,Vn,Yk)[2*g+1];const b=c+m,w=t+v;a=b,u=w;let y=c,k=t;for(;;){const i=kn(this,Vn,Wk).call(this,r,e,y,k,a,u,1);m=vn(this,Vn,Yk)[2*i],v=vn(this,Vn,Yk)[2*i+1];const l=y+m,d=k+v;h.push(d,l);const p=y*e+k;if(0===r[p+1]?r[p]=-o:1===r[p]&&(r[p]=o),l===c&&d===t&&y===b&&k===w){1!==r[n]&&(s=Math.abs(r[n]));break}a=y,u=k,y=l,k=d}}}return l}function jk(t,e,n,i){if(n-e<=4){for(let a=e;a<n-2;a+=2)i.push(t[a],t[a+1]);return}const a=t[e],r=t[e+1],s=t[n-4]-a,o=t[n-3]-r,l=Math.hypot(s,o),c=s/l,u=o/l,h=c*r-u*a,d=o/s,p=1/l,f=Math.atan(d),g=Math.cos(f),m=Math.sin(f),v=p*(Math.abs(g)+Math.abs(m)),b=p*(1-v+v**2),w=Math.max(Math.atan(Math.abs(m+g)*b),Math.atan(Math.abs(m-g)*b));let y=0,k=e;for(let A=e+2;A<n-2;A+=2){const e=Math.abs(h-c*t[A+1]+u*t[A]);e>y&&(k=A,y=e)}y>(l*w)**2?(kn(this,Vn,jk).call(this,t,e,k+2,i),kn(this,Vn,jk).call(this,t,k,n,i)):i.push(a,r)}function zk(t){const e=[],n=t.length;return kn(this,Vn,jk).call(this,t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}function Uk(t,e,n,i,a,r){const s=new Float32Array(r**2),o=-2*i**2,l=r>>1;for(let f=0;f<r;f++){const t=(f-l)**2;for(let e=0;e<r;e++)s[f*r+e]=Math.exp((t+(e-l)**2)/o)}const c=new Float32Array(256),u=-2*a**2;for(let f=0;f<256;f++)c[f]=Math.exp(f**2/u);const h=t.length,d=new Uint8Array(h),p=new Uint32Array(256);for(let f=0;f<n;f++)for(let i=0;i<e;i++){const a=f*e+i,o=t[a];let u=0,h=0;for(let d=0;d<r;d++){const a=f+d-l;if(!(a<0||a>=n))for(let n=0;n<r;n++){const p=i+n-l;if(p<0||p>=e)continue;const f=t[a*e+p],g=s[d*r+n]*c[Math.abs(f-o)];u+=f*g,h+=g}}p[d[a]=Math.round(u/h)]++}return[d,p]}function Hk(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}function Vk(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let i=-1/0,a=1/0;for(let s=0,o=n.length;s<o;s++){const e=n[s]=t[s<<2];i=Math.max(i,e),a=Math.min(a,e)}const r=255/(i-a);for(let s=0,o=n.length;s<o;s++)n[s]=(n[s]-a)*r;return n}function Gk(t){let e,n=-1/0,i=-1/0;const a=t.findIndex((t=>0!==t));let r=a,s=a;for(e=a;e<256;e++){const a=t[e];a>n&&(e-r>i&&(i=e-r,s=e-1),n=a,r=e)}for(e=s-1;e>=0&&!(t[e]>t[e+1]);e--);return e}function qk(t){const e=t,{width:n,height:i}=t,{maxDim:a}=vn(this,Vn,Xk);let r=n,s=i;if(n>a||i>a){let o=n,l=i,c=Math.log2(Math.max(n,i)/a);const u=Math.floor(c);c=c===u?u-1:u;for(let n=0;n<c;n++){r=Math.ceil(o/2),s=Math.ceil(l/2);const n=new OffscreenCanvas(r,s);n.getContext("2d").drawImage(t,0,0,o,l,0,0,r,s),o=r,l=s,t!==e&&t.close(),t=n.transferToImageBitmap()}const h=Math.min(a/r,a/s);r=Math.round(r*h),s=Math.round(s*h)}const o=new OffscreenCanvas(r,s).getContext("2d",{willReadFrequently:!0});o.fillStyle="white",o.fillRect(0,0,r,s),o.filter="grayscale(1)",o.drawImage(t,0,0,t.width,t.height,0,0,r,s);const l=o.getImageData(0,0,r,s).data;return[kn(this,Vn,Vk).call(this,l),r,s]}Vn=Nk;var Xk={writable:!0,value:{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}},Yk={writable:!0,value:new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])};class Kk extends _y{constructor(){super(),super.updateProperties({fill:Kl._defaultLineColor,"stroke-width":0})}clone(){const t=new Kk;return t.updateAll(this),t}}class Qk extends Pk{constructor(t){super(t),super.updateProperties({stroke:Kl._defaultLineColor,"stroke-width":1})}clone(){const t=new Qk(this._viewParameters);return t.updateAll(this),t}}var Jk=new WeakMap,$k=new WeakMap,Zk=new WeakMap,tA=new WeakMap;class eA extends Fy{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),ln(this,Jk,{writable:!0,value:!1}),ln(this,$k,{writable:!0,value:null}),ln(this,Zk,{writable:!0,value:null}),ln(this,tA,{writable:!0,value:null}),this._willKeepAspectRatio=!0,pn(this,Zk,t.signatureData||null),pn(this,$k,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Kl.initialize(t,e),this._defaultDrawingOptions=new Kk,this._defaultDrawnSignatureOptions=new Qk(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Fi(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!hn(this,$k)}}static computeTelemetryFinalData(t){var e,n;const i=t.get("hasDescription");return{hasAltText:null!==(e=i.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),null===this._drawId)if(hn(this,Zk)){const{lines:t,mustSmooth:e,areContours:n,description:i,uuid:a,heightInPage:r}=hn(this,Zk),{rawDims:{pageWidth:s,pageHeight:o},rotation:l}=this.parent.viewport,c=Nk.processDrawnLines({lines:t,pageWidth:s,pageHeight:o,rotation:l,innerMargin:eA._INNER_MARGIN,mustSmooth:e,areContours:n});this.addSignature(c,r,i,a)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:hn(this,$k)||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){pn(this,tA,t),this.addEditToolbar()}getUuid(){return hn(this,tA)}get description(){return hn(this,$k)}set description(t){pn(this,$k,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then((e=>{null===e||void 0===e||e.updateEditSignatureButton(t)})))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:i,height:a}=hn(this,Zk),r=Math.max(i,a);return{areContours:e,outline:Nk.processDrawnLines({lines:{curves:t.map((t=>({points:t}))),thickness:n,width:i,height:a},pageWidth:r,pageHeight:r,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,i){const{x:a,y:r}=this,{outline:s}=pn(this,Zk,t);let o;pn(this,Jk,s instanceof Ik),this.description=n,hn(this,Jk)?o=eA.getDefaultDrawingOptions():(o=eA._defaultDrawnSignatureOptions.clone(),o.updateProperties({"stroke-width":s.thickness})),this._addOutlines({drawOutlines:s,drawingOptions:o});const[,l]=this.pageDimensions;let c=e/l;c=c>=1?.5:c,this.width*=c/this.height,this.width>=1&&(c*=.9/this.width,this.width=.9),this.height=c,this.setDims(),this.x=a,this.y=r,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return Nk.process(t,e,n,i,eA._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return Nk.extractContoursFromText(t,e,n,i,a,eA._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return Nk.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:i,innerMargin:eA._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(t){let{areContours:e,thickness:n}=t;e?this._drawingOptions=eA.getDefaultDrawingOptions():(this._drawingOptions=eA._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":i}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:hn(this,Jk),color:[0,0,0],thickness:hn(this,Jk)?0:i});return this.addComment(a),t?(a.paths={lines:e,points:n},a.uuid=hn(this,tA),a.isCopy=!0):a.lines=e,hn(this,$k)&&(a.accessibilityData={type:"Figure",alt:hn(this,$k)}),a}static deserializeDraw(t,e,n,i,a,r){return r.areContours?Ik.deserialize(t,e,n,i,a,r):_k.deserialize(t,e,n,i,a,r)}static async deserialize(t,e,n){var i;const a=await super.deserialize(t,e,n);return pn(a,Jk,t.areContours),a.description=(null===(i=t.accessibilityData)||void 0===i?void 0:i.alt)||"",pn(a,tA,t.uuid),a}}yn(eA,"_type","signature"),yn(eA,"_editorType",si.SIGNATURE),yn(eA,"_defaultDrawingOptions",null);var nA=new WeakMap,iA=new WeakMap,aA=new WeakMap,rA=new WeakMap,sA=new WeakMap,oA=new WeakMap,lA=new WeakMap,cA=new WeakMap,uA=new WeakMap,hA=new WeakMap,dA=new WeakMap,pA=new WeakSet,fA=new WeakSet,gA=new WeakSet,mA=new WeakSet,vA=new WeakSet,bA=new WeakSet,wA=new WeakSet,yA=new WeakSet;class kA extends Kl{constructor(t){super({...t,name:"stampEditor"}),on(this,yA),on(this,wA),on(this,bA),on(this,vA),on(this,mA),on(this,gA),on(this,fA),on(this,pA),ln(this,nA,{writable:!0,value:null}),ln(this,iA,{writable:!0,value:null}),ln(this,aA,{writable:!0,value:null}),ln(this,rA,{writable:!0,value:null}),ln(this,sA,{writable:!0,value:null}),ln(this,oA,{writable:!0,value:""}),ln(this,lA,{writable:!0,value:null}),ln(this,cA,{writable:!0,value:!1}),ln(this,uA,{writable:!0,value:null}),ln(this,hA,{writable:!0,value:!1}),ln(this,dA,{writable:!0,value:!1}),pn(this,rA,t.bitmapUrl),pn(this,sA,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Kl.initialize(t,e)}static isHandlingMimeForPasting(t){return Sa.includes(t)}static paste(t,e){e.pasteEditor({mode:si.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!(null===(t=this.altTextData)||void 0===t||!t.altText)}}static computeTelemetryFinalData(t){var e,n;const i=t.get("hasAltText");return{hasAltText:null!==(e=i.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:r}=t||this.copyCanvas(null,null,!0).imageData,s=await n.guess({name:"altText",request:{data:i,width:a,height:r,channels:i.length/(a*r)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const o=s.output;return await this.setGuessedAltText(o),e&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var t;hn(this,iA)&&(pn(this,nA,null),this._uiManager.imageManager.deleteId(hn(this,iA)),null===(t=hn(this,lA))||void 0===t||t.remove(),pn(this,lA,null),hn(this,uA)&&(clearTimeout(hn(this,uA)),pn(this,uA,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(hn(this,iA)&&null===hn(this,lA)&&cn(this,gA,xA).call(this),this.isAttachedToDOM||this.parent.add(this))):hn(this,iA)&&cn(this,gA,xA).call(this)}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(hn(this,aA)||hn(this,nA)||hn(this,rA)||hn(this,sA)||hn(this,iA)||hn(this,cA))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),hn(this,cA)||(hn(this,nA)?cn(this,mA,_A).call(this):cn(this,gA,xA).call(this)),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(pn(this,iA,n),i&&pn(this,nA,i),pn(this,cA,!1),cn(this,mA,_A).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==hn(this,uA)&&clearTimeout(hn(this,uA));pn(this,uA,setTimeout((()=>{pn(this,uA,null),cn(this,bA,CA).call(this)}),200))}copyCanvas(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t||(t=224);const{width:i,height:a}=hn(this,nA),r=new Aa;let s=hn(this,nA),o=i,l=a,c=null;if(e){if(i>e||a>e){const t=Math.min(e/i,e/a);o=Math.floor(i*t),l=Math.floor(a*t)}c=document.createElement("canvas");const t=c.width=Math.ceil(o*r.sx),n=c.height=Math.ceil(l*r.sy);hn(this,hA)||(s=cn(this,vA,EA).call(this,t,n));const u=c.getContext("2d");u.filter=this._uiManager.hcmFilter;let h="white",d="#cfcfd8";"none"!==this._uiManager.hcmFilter?d="black":xa.isDarkMode&&(h="#8f8f9d",d="#42414d");const p=15,f=p*r.sx,g=p*r.sy,m=new OffscreenCanvas(2*f,2*g),v=m.getContext("2d");v.fillStyle=h,v.fillRect(0,0,2*f,2*g),v.fillStyle=d,v.fillRect(0,0,f,g),v.fillRect(f,g,f,g),u.fillStyle=u.createPattern(m,"repeat"),u.fillRect(0,0,t,n),u.drawImage(s,0,0,s.width,s.height,0,0,t,n)}let u=null;if(n){let e,n;if(r.symmetric&&s.width<t&&s.height<t)e=s.width,n=s.height;else if(s=hn(this,nA),i>t||a>t){const r=Math.min(t/i,t/a);e=Math.floor(i*r),n=Math.floor(a*r),hn(this,hA)||(s=cn(this,vA,EA).call(this,e,n))}const o=new OffscreenCanvas(e,n).getContext("2d",{willReadFrequently:!0});o.drawImage(s,0,0,s.width,s.height,0,0,e,n),u={width:e,height:n,data:o.getImageData(0,0,e,n).data}}return{canvas:c,width:o,height:l,imageData:u}}static async deserialize(t,e,n){let i=null,a=!1;if(t instanceof Wv){var r;const{data:{rect:s,rotation:o,id:l,structParent:c,popupRef:u,richText:h,contentsObj:d,creationDate:p,modificationDate:f},container:g,parent:{page:{pageNumber:m}},canvas:v}=t;let b,w;v?(delete t.canvas,({id:b,bitmap:w}=n.imageManager.getFromCanvas(g.id,v)),v.remove()):(a=!0,t._hasNoCanvas=!0);const y=(null===(r=await e._structTree.getAriaAttributes("".concat(ta).concat(l)))||void 0===r?void 0:r.get("aria-label"))||"";i=t={annotationType:si.STAMP,bitmapId:b,bitmap:w,pageIndex:m-1,rect:s.slice(0),rotation:o,annotationElementId:l,id:l,deleted:!1,accessibilityData:{decorative:!1,altText:y},isSvg:!1,structParent:c,popupRef:u,richText:h,comment:(null===d||void 0===d?void 0:d.str)||null,creationDate:p,modificationDate:f}}const s=await super.deserialize(t,e,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:h,accessibilityData:d}=t;a?(n.addMissingCanvas(t.id,s),pn(s,cA,!0)):u&&n.imageManager.isValidId(u)?(pn(s,iA,u),l&&pn(s,nA,l)):pn(s,rA,c),pn(s,hA,h);const[p,f]=s.pageDimensions;return s.width=(o[2]-o[0])/p,s.height=(o[3]-o[1])/f,d&&(s.altTextData=d),s._initialData=i,t.comment&&s.setCommentData(t),pn(s,dA,!!i),s}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:hn(this,iA),isSvg:hn(this,hA)});if(this.addComment(n),t)return n.bitmapUrl=cn(this,wA,MA).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(n.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const t=cn(this,yA,TA).call(this,n);if(t.isSame)return null;var r;if(t.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(r=this._initialData.structParent)&&void 0!==r?r:-1;return n.id=this.annotationElementId,delete n.bitmapId,n}if(null===e)return n;e.stamps||(e.stamps=new Map);const s=hn(this,hA)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has(hn(this,iA))){if(hn(this,hA)){const t=e.stamps.get(hn(this,iA));s>t.area&&(t.area=s,t.serialized.bitmap.close(),t.serialized.bitmap=cn(this,wA,MA).call(this,!1))}}else e.stamps.set(hn(this,iA),{area:s,serialized:n}),n.bitmap=cn(this,wA,MA).call(this,!1);return n}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}function AA(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(pn(this,nA,t.bitmap),e||(pn(this,iA,t.id),pn(this,hA,t.isSvg)),t.file&&pn(this,oA,t.file.name),cn(this,mA,_A).call(this)):this.remove()}function SA(){if(pn(this,aA,null),this._uiManager.enableWaiting(!1),hn(this,lA))if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&hn(this,nA))this.addEditToolbar().then((()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)}));else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&hn(this,nA)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}function xA(){if(hn(this,iA))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(hn(this,iA)).then((t=>cn(this,pA,AA).call(this,t,!0))).finally((()=>cn(this,fA,SA).call(this)));if(hn(this,rA)){const t=hn(this,rA);return pn(this,rA,null),this._uiManager.enableWaiting(!0),void pn(this,aA,this._uiManager.imageManager.getFromUrl(t).then((t=>cn(this,pA,AA).call(this,t))).finally((()=>cn(this,fA,SA).call(this))))}if(hn(this,sA)){const t=hn(this,sA);return pn(this,sA,null),this._uiManager.enableWaiting(!0),void pn(this,aA,this._uiManager.imageManager.getFromFile(t).then((t=>cn(this,pA,AA).call(this,t))).finally((()=>cn(this,fA,SA).call(this))))}const t=document.createElement("input");t.type="file",t.accept=Sa.join(",");const e=this._uiManager._signal;pn(this,aA,new Promise((n=>{t.addEventListener("change",(async()=>{if(t.files&&0!==t.files.length){this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),cn(this,pA,AA).call(this,e)}else this.remove();n()}),{signal:e}),t.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:e})})).finally((()=>cn(this,fA,SA).call(this)))),t.click()}function _A(){var t;const{div:e}=this;let{width:n,height:i}=hn(this,nA);const[a,r]=this.pageDimensions,s=.75;if(this.width)n=this.width*a,i=this.height*r;else if(n>s*a||i>s*r){const t=Math.min(s*a/n,s*r/i);n*=t,i*=t}this._uiManager.enableWaiting(!1);const o=pn(this,lA,document.createElement("canvas"));o.setAttribute("role","img"),this.addContainer(o),this.width=n/a,this.height=i/r,this.setDims(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(e.hidden=!1),cn(this,bA,CA).call(this),hn(this,dA)||(this.parent.addUndoableEditor(this),pn(this,dA,!0)),this._reportTelemetry({action:"inserted_image"}),hn(this,oA)&&this.div.setAttribute("aria-description",hn(this,oA)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}function EA(t,e){const{width:n,height:i}=hn(this,nA);let a=n,r=i,s=hn(this,nA);for(;a>2*t||r>2*e;){const n=a,i=r;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const o=new OffscreenCanvas(a,r);o.getContext("2d").drawImage(s,0,0,n,i,0,0,a,r),s=o.transferToImageBitmap()}return s}function CA(){const[t,e]=this.parentDimensions,{width:n,height:i}=this,a=new Aa,r=Math.ceil(n*t*a.sx),s=Math.ceil(i*e*a.sy),o=hn(this,lA);if(!o||o.width===r&&o.height===s)return;o.width=r,o.height=s;const l=hn(this,hA)?hn(this,nA):cn(this,vA,EA).call(this,r,s),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,r,s)}function MA(t){if(t){if(hn(this,hA)){const t=this._uiManager.imageManager.getSvgUrl(hn(this,iA));if(t)return t}const t=document.createElement("canvas");({width:t.width,height:t.height}=hn(this,nA));return t.getContext("2d").drawImage(hn(this,nA),0,0),t.toDataURL()}if(hn(this,hA)){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*sa.PDF_TO_CSS_UNITS),i=Math.round(this.height*e*sa.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(n,i);return a.getContext("2d").drawImage(hn(this,nA),0,0,hn(this,nA).width,hn(this,nA).height,0,0,n,i),a.transferToImageBitmap()}return structuredClone(hn(this,nA))}function TA(t){var e;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===n,r=((null===(e=t.accessibilityData)||void 0===e?void 0:e.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&r,isSameAltText:r}}yn(kA,"_type","stamp"),yn(kA,"_editorType",si.STAMP);var PA=new WeakMap,RA=new WeakMap,DA=new WeakMap,LA=new WeakMap,IA=new WeakMap,NA=new WeakMap,FA=new WeakMap,OA=new WeakMap,WA=new WeakMap,BA=new WeakMap,jA=new WeakMap,zA=new WeakMap,UA=new WeakMap,HA=new WeakMap,VA=new WeakMap,GA=new WeakMap,qA=new WeakMap,XA=new WeakSet,YA=new WeakMap,KA=new WeakSet,QA=new WeakSet,JA=new WeakSet;class $A{constructor(t){let{uiManager:e,pageIndex:n,div:i,structTreeLayer:a,accessibilityManager:r,annotationLayer:s,drawLayer:o,textLayer:l,viewport:c,l10n:u}=t;on(this,JA),on(this,QA),on(this,KA),ln(this,YA,{get:eS,set:void 0}),on(this,XA),ln(this,qA,{get:ZA,set:void 0}),ln(this,PA,{writable:!0,value:void 0}),ln(this,RA,{writable:!0,value:!1}),ln(this,DA,{writable:!0,value:null}),ln(this,LA,{writable:!0,value:null}),ln(this,IA,{writable:!0,value:null}),ln(this,NA,{writable:!0,value:new Map}),ln(this,FA,{writable:!0,value:!1}),ln(this,OA,{writable:!0,value:!1}),ln(this,WA,{writable:!0,value:!1}),ln(this,BA,{writable:!0,value:null}),ln(this,jA,{writable:!0,value:null}),ln(this,zA,{writable:!0,value:null}),ln(this,UA,{writable:!0,value:null}),ln(this,HA,{writable:!0,value:null}),ln(this,VA,{writable:!0,value:-1}),ln(this,GA,{writable:!0,value:void 0});const h=[...vn($A,$A,rS).values()];if(!$A._initialized){$A._initialized=!0;for(const t of h)t.initialize(u,e)}e.registerEditorTypes(h),pn(this,GA,e),this.pageIndex=n,this.div=i,pn(this,PA,r),pn(this,DA,s),this.viewport=c,pn(this,zA,l),this.drawLayer=o,this._structTree=a,hn(this,GA).addLayer(this)}get isEmpty(){return 0===hn(this,NA).size}get isInvisible(){return this.isEmpty&&hn(this,GA).getMode()===si.NONE}updateToolbar(t){hn(this,GA).updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn(this,GA).getMode();switch(cn(this,JA,aS).call(this),t){case si.NONE:return this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case si.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case si.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===si.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of vn($A,$A,rS).values())e.toggle("".concat(n._type,"Editing"),t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){var e;return t===(null===(e=hn(this,zA))||void 0===e?void 0:e.div)}setEditingState(t){hn(this,GA).setEditingState(t)}addCommands(t){hn(this,GA).addCommands(t)}cleanUndoStack(t){hn(this,GA).cleanUndoStack(t)}toggleDrawing(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!t)}togglePointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(t=hn(this,DA))||void 0===t||t.div.classList.toggle("disabled",!e)}async enable(){var t;pn(this,WA,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),null===(t=hn(this,HA))||void 0===t||t.abort(),pn(this,HA,null);const e=new Set;for(const i of hn(this,qA))i.enableEditing(),i.show(!0),i.annotationElementId&&(hn(this,GA).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=hn(this,DA);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),hn(this,GA).isDeletedAnnotationElement(i.data.id))continue;if(e.has(i.data.id))continue;const t=await this.deserialize(i);t&&(this.addOrRebuild(t),t.enableEditing())}pn(this,WA,!1),hn(this,GA)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(pn(this,OA,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),hn(this,zA)&&!hn(this,HA)){pn(this,HA,new AbortController);const t=hn(this,GA).combinedSignal(hn(this,HA));hn(this,zA).div.addEventListener("pointerdown",(t=>{const{clientX:e,clientY:n,timeStamp:i}=t;if(i-hn(this,VA)>500)return void pn(this,VA,i);pn(this,VA,-1);const{classList:a}=this.div;a.toggle("getElements",!0);const r=document.elementsFromPoint(e,n);if(a.toggle("getElements",!1),!this.div.contains(r[0]))return;let s;const o=new RegExp("^".concat(ri,"[0-9]+$"));for(const c of r)if(o.test(c.id)){s=c.id;break}if(!s)return;const l=hn(this,NA).get(s);null===(null===l||void 0===l?void 0:l.annotationElementId)&&(t.stopPropagation(),t.preventDefault(),l.dblclick(t))}),{signal:t,capture:!0})}const t=hn(this,DA);if(t){const n=new Map,i=new Map;for(const r of hn(this,qA)){var e;r.disableEditing(),r.annotationElementId?null===r.serialize()?(i.set(r.annotationElementId,r),null===(e=this.getEditableAnnotation(r.annotationElementId))||void 0===e||e.show(),r.remove()):n.set(r.annotationElementId,r):r.updateFakeAnnotationElement(t)}const a=t.getEditableAnnotations();for(const t of a){const{id:e}=t.data;if(hn(this,GA).isDeletedAnnotationElement(e)){t.updateEdited({deleted:!0});continue}let a=i.get(e);a?(a.resetAnnotationElement(t),a.show(!1),t.show()):(a=n.get(e),a&&(hn(this,GA).addChangedExistingAnnotation(a),a.renderAnnotationElement(t)&&a.show(!1)),t.show())}}cn(this,JA,aS).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of vn($A,$A,rS).values())n.remove("".concat(i._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),pn(this,OA,!1)}getEditableAnnotation(t){var e;return(null===(e=hn(this,DA))||void 0===e?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){hn(this,GA).getActive()!==t&&hn(this,GA).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,null!==(t=hn(this,zA))&&void 0!==t&&t.div&&!hn(this,UA)){pn(this,UA,new AbortController);const t=hn(this,GA).combinedSignal(hn(this,UA));hn(this,zA).div.addEventListener("pointerdown",cn(this,XA,tS).bind(this),{signal:t}),hn(this,zA).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,null!==(t=hn(this,zA))&&void 0!==t&&t.div&&hn(this,UA)&&(hn(this,UA).abort(),pn(this,UA,null),hn(this,zA).div.classList.remove("highlighting"))}enableClick(){if(hn(this,LA))return;pn(this,LA,new AbortController);const t=hn(this,GA).combinedSignal(hn(this,LA));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;null===(t=hn(this,LA))||void 0===t||t.abort(),pn(this,LA,null)}attach(t){hn(this,NA).set(t.id,t);const{annotationElementId:e}=t;e&&hn(this,GA).isDeletedAnnotationElement(e)&&hn(this,GA).removeDeletedAnnotationElement(t)}detach(t){var e;hn(this,NA).delete(t.id),null===(e=hn(this,PA))||void 0===e||e.removePointerInTextLayer(t.contentDiv),!hn(this,OA)&&t.annotationElementId&&hn(this,GA).addDeletedAnnotationElement(t)}remove(t){this.detach(t),hn(this,GA).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(hn(this,GA).addDeletedAnnotationElement(t.annotationElementId),Kl.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),null===(e=t.parent)||void 0===e||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),hn(this,GA).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!hn(this,WA)),hn(this,GA).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var e;if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!hn(this,IA)&&(t._focusEventsAllowed=!1,pn(this,IA,setTimeout((()=>{pn(this,IA,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:hn(this,GA)._signal}),n.focus())}),0))),t._structTreeParentId=null===(e=hn(this,PA))||void 0===e?void 0:e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getEditorByUID(t){for(const e of hn(this,NA).values())if(e.uid===t)return e;return null}getNextId(){return hn(this,GA).getId()}combinedSignal(t){return hn(this,GA).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return null===(t=hn(this,YA))||void 0===t?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await hn(this,GA).updateMode(t.mode);const{offsetX:n,offsetY:i}=cn(this,QA,iS).call(this),a=this.getNextId(),r=cn(this,KA,nS).call(this,{parent:this,id:a,x:n,y:i,uiManager:hn(this,GA),isCentered:!0,...e});r&&this.add(r)}async deserialize(t){var e,n;return await(null===(e=vn($A,$A,rS).get(null!==(n=t.annotationType)&&void 0!==n?n:t.annotationEditorType))||void 0===e?void 0:e.deserialize(t,this,hn(this,GA)))||null}createAndAddNewEditor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),a=cn(this,KA,nS).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:hn(this,GA),isCentered:e,...n});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor(cn(this,QA,iS).call(this),!0,t)}setSelected(t){hn(this,GA).setSelected(t)}toggleSelected(t){hn(this,GA).toggleSelected(t)}unselect(t){hn(this,GA).unselect(t)}pointerup(t){var e;const{isMac:n}=qi.platform;if(0!==t.button||t.ctrlKey&&n)return;if(t.target!==this.div)return;if(!hn(this,FA))return;if(pn(this,FA,!1),null!==(e=hn(this,YA))&&void 0!==e&&e.isDrawer&&hn(this,YA).supportMultipleDrawings)return;if(!hn(this,RA))return void pn(this,RA,!0);const i=hn(this,GA).getMode();i!==si.STAMP&&i!==si.SIGNATURE?this.createAndAddNewEditor(t,!1):hn(this,GA).unselectAll()}pointerdown(t){var e;if(hn(this,GA).getMode()===si.HIGHLIGHT&&this.enableTextSelection(),hn(this,FA))return void pn(this,FA,!1);const{isMac:n}=qi.platform;if(0!==t.button||t.ctrlKey&&n)return;if(t.target!==this.div)return;if(pn(this,FA,!0),null!==(e=hn(this,YA))&&void 0!==e&&e.isDrawer)return void this.startDrawingSession(t);const i=hn(this,GA).getActive();pn(this,RA,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),hn(this,BA))return void hn(this,YA).startDrawing(this,hn(this,GA),!1,t);hn(this,GA).setCurrentDrawingSession(this),pn(this,BA,new AbortController);const e=hn(this,GA).combinedSignal(hn(this,BA));this.div.addEventListener("blur",(t=>{let{relatedTarget:e}=t;e&&!this.div.contains(e)&&(pn(this,jA,null),this.commitOrRemove())}),{signal:e}),hn(this,YA).startDrawing(this,hn(this,GA),!1,t)}pause(t){if(t){const{activeElement:t}=document;this.div.contains(t)&&pn(this,jA,t)}else hn(this,jA)&&setTimeout((()=>{var t;null===(t=hn(this,jA))||void 0===t||t.focus(),pn(this,jA,null)}),0)}endDrawingSession(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return hn(this,BA)?(hn(this,GA).setCurrentDrawingSession(null),hn(this,BA).abort(),pn(this,BA,null),pn(this,jA,null),hn(this,YA).endDrawing(t)):null}findNewParent(t,e,n){const i=hn(this,GA).findParent(e,n);return null!==i&&i!==this&&(i.changeParent(t),!0)}commitOrRemove(){return!!hn(this,BA)&&(this.endDrawingSession(),!0)}onScaleChanging(){hn(this,BA)&&hn(this,YA).onScaleChangingWhenDrawing(this)}destroy(){var t;this.commitOrRemove(),(null===(t=hn(this,GA).getActive())||void 0===t?void 0:t.parent)===this&&(hn(this,GA).commitOrRemove(),hn(this,GA).setActiveEditor(null)),hn(this,IA)&&(clearTimeout(hn(this,IA)),pn(this,IA,null));for(const n of hn(this,NA).values()){var e;null===(e=hn(this,PA))||void 0===e||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,hn(this,NA).clear(),hn(this,GA).removeLayer(this)}render(t){let{viewport:e}=t;this.viewport=e,ka(this.div,e);for(const n of hn(this,GA).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(t){let{viewport:e}=t;hn(this,GA).commitOrRemove(),cn(this,JA,aS).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,ka(this.div,{rotation:i}),n!==i)for(const a of hn(this,NA).values())a.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return hn(this,GA).viewParameters.realScale}}function ZA(){return 0!==hn(this,NA).size?hn(this,NA).values():hn(this,GA).getEditors(this.pageIndex)}function tS(t){hn(this,GA).unselectAll();const{target:e}=t;if(e===hn(this,zA).div||("img"===e.getAttribute("role")||e.classList.contains("endOfContent"))&&hn(this,zA).div.contains(e)){const{isMac:e}=qi.platform;if(0!==t.button||t.ctrlKey&&e)return;hn(this,GA).showAllEditors("highlight",!0,!0),hn(this,zA).div.classList.add("free"),this.toggleDrawing(),oy.startHighlighting(this,"ltr"===hn(this,GA).direction,{target:hn(this,zA).div,x:t.x,y:t.y}),hn(this,zA).div.addEventListener("pointerup",(()=>{hn(this,zA).div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:hn(this,GA)._signal}),t.preventDefault()}}function eS(){return vn(Gn,Gn,rS).get(hn(this,GA).getMode())}function nS(t){const e=hn(this,YA);return e?new e.prototype.constructor(t):null}function iS(){const{x:t,y:e,width:n,height:i}=this.boundingClientRect,a=Math.max(0,t),r=Math.max(0,e),s=(a+Math.min(window.innerWidth,t+n))/2-t,o=(r+Math.min(window.innerHeight,e+i))/2-e,[l,c]=this.viewport.rotation%180===0?[s,o]:[o,s];return{offsetX:l,offsetY:c}}function aS(){for(const t of hn(this,NA).values())t.isEmpty()&&t.remove()}Gn=$A,yn($A,"_initialized",!1);var rS={writable:!0,value:new Map([db,Dk,kA,oy,eA].map((t=>[t._editorType,t])))},sS=new WeakMap,oS=new WeakMap,lS=new WeakMap,cS=new WeakSet,uS=new WeakSet,hS=new WeakSet;class dS{constructor(t){let{pageIndex:e}=t;on(this,hS),on(this,uS),on(this,cS),ln(this,sS,{writable:!0,value:null}),ln(this,oS,{writable:!0,value:new Map}),ln(this,lS,{writable:!0,value:new Map}),this.pageIndex=e}setParent(t){if(hn(this,sS)){if(hn(this,sS)!==t){if(hn(this,oS).size>0)for(const e of hn(this,oS).values())e.remove(),t.append(e);pn(this,sS,t)}}else pn(this,sS,t)}static get _svgFactory(){return Fi(this,"_svgFactory",new Vg)}draw(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(mn(dS,dS,vS,(e=vn(dS,dS,vS),n=e++,e)),n),s=cn(this,cS,fS).call(this),o=dS._svgFactory.createElement("defs");s.append(o);const l=dS._svgFactory.createElement("path");o.append(l);const c="path_p".concat(this.pageIndex,"_").concat(r);l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),i&&hn(this,lS).set(r,l);const u=a?cn(this,uS,gS).call(this,o,c):null,h=dS._svgFactory.createElement("use");return s.append(h),h.setAttribute("href","#".concat(c)),this.updateProperties(s,t),hn(this,oS).set(r,s),{id:r,clipPathId:"url(#".concat(u,")")}}drawOutline(t,e){var n,i;const a=(mn(dS,dS,vS,(n=vn(dS,dS,vS),i=n++,n)),i),r=cn(this,cS,fS).call(this),s=dS._svgFactory.createElement("defs");r.append(s);const o=dS._svgFactory.createElement("path");s.append(o);const l="path_p".concat(this.pageIndex,"_").concat(a);let c;if(o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),e){const t=dS._svgFactory.createElement("mask");s.append(t),c="mask_p".concat(this.pageIndex,"_").concat(a),t.setAttribute("id",c),t.setAttribute("maskUnits","objectBoundingBox");const e=dS._svgFactory.createElement("rect");t.append(e),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("fill","white");const n=dS._svgFactory.createElement("use");t.append(n),n.setAttribute("href","#".concat(l)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const u=dS._svgFactory.createElement("use");r.append(u),u.setAttribute("href","#".concat(l)),c&&u.setAttribute("mask","url(#".concat(c,")"));const h=u.cloneNode();return r.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(r,t),hn(this,oS).set(a,r),a}finalizeDraw(t,e){hn(this,lS).delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:i,rootClass:a,path:r}=e,s="number"===typeof t?hn(this,oS).get(t):t;if(s){if(n&&cn(this,hS,mS).call(this,s,n),i&&kn(dS,dS,pS).call(dS,s,i),a){const{classList:t}=s;for(const[e,n]of Object.entries(a))t.toggle(e,n)}if(r){const t=s.firstChild.firstChild;cn(this,hS,mS).call(this,t,r)}}}updateParent(t,e){if(e===this)return;const n=hn(this,oS).get(t);n&&(hn(e,sS).append(n),hn(this,oS).delete(t),hn(e,oS).set(t,n))}remove(t){hn(this,lS).delete(t),null!==hn(this,sS)&&(hn(this,oS).get(t).remove(),hn(this,oS).delete(t))}destroy(){pn(this,sS,null);for(const t of hn(this,oS).values())t.remove();hn(this,oS).clear(),hn(this,lS).clear()}}function pS(t,e){let[n,i,a,r]=e;const{style:s}=t;s.top="".concat(100*i,"%"),s.left="".concat(100*n,"%"),s.width="".concat(100*a,"%"),s.height="".concat(100*r,"%")}function fS(){const t=qn._svgFactory.create(1,1,!0);return hn(this,sS).append(t),t.setAttribute("aria-hidden",!0),t}function gS(t,e){const n=qn._svgFactory.createElement("clipPath");t.append(n);const i="clip_".concat(e);n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const a=qn._svgFactory.createElement("use");return n.append(a),a.setAttribute("href","#".concat(e)),a.classList.add("clip"),i}function mS(t,e){for(const[n,i]of Object.entries(e))null===i?t.removeAttribute(n):t.setAttribute(n,i)}qn=dS;var vS={writable:!0,value:0};function bS(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=bS(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}globalThis._pdfjsTestingUtils={HighlightOutliner:ww},globalThis.pdfjsLib={AbortException:Hi,AnnotationEditorLayer:$A,AnnotationEditorParamsType:oi,AnnotationEditorType:si,AnnotationEditorUIManager:js,AnnotationLayer:Jv,AnnotationMode:ai,AnnotationType:gi,applyOpacity:function(t,e,n,i){var a;const r=255*(1-(i=Math.min(Math.max(null!==(a=i)&&void 0!==a?a:1,0),1)));return[t=Math.round(t*i+r),e=Math.round(e*i+r),n=Math.round(n*i+r)]},build:"f56dc8601",ColorPicker:Cg,createValidAbsoluteUrl:Ii,CSSConstants:class{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Fi(this,"commentForegroundColor",ba(n))}},DOMSVGFactory:Vg,DrawLayer:dS,FeatureTest:qi,fetchData:oa,findContrastColor:function(t,e){const n=t[0]+256*t[1]+65536*t[2]+16777216*e[0]+4294967296*e[1]+1099511627776*e[2];let i=Ta.get(n);if(i)return i;const a=new Float32Array(9),r=a.subarray(0,3),s=a.subarray(3,6);_a(t,s);const o=a.subarray(6,9);_a(e,o);const l=o[2]<.5,c=l?12:4.5;if(s[2]=l?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),Ma(s,o,r)<c){let t,e;l?(t=s[2],e=1):(t=0,e=s[2]);const n=.005;for(;e-t>n;){const n=s[2]=(t+e)/2;l===Ma(s,o,r)<c?t=n:e=n}s[2]=l?e:t}return Ea(s,r),i=Yi.makeHexColor(Math.round(255*r[0]),Math.round(255*r[1]),Math.round(255*r[2])),Ta.set(n,i),i},getDocument:kf,getFilenameFromUrl:function(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(ua(t))return Ri('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(t=>{try{return new URL(t)}catch{try{return new URL(decodeURIComponent(t))}catch{try{return new URL(t,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(t),"https://foo.bar")}catch{return null}}}}})(t);if(!n)return e;const i=t=>{try{let e=decodeURIComponent(t);return e.includes("/")?(e=e.split("/").at(-1),e.test(/^\.pdf$/i)?e:t):e}catch{return t}},a=/\.pdf$/i,r=n.pathname.split("/").at(-1);if(a.test(r))return i(r);if(n.searchParams.size>0){const t=Array.from(n.searchParams.values()).reverse();for(const n of t)if(a.test(n))return i(n);const e=Array.from(n.searchParams.keys()).reverse();for(const n of e)if(a.test(n))return i(n)}if(n.hash){const t=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(t)return i(t[0])}return e},getRGB:ba,getUuid:Zi,getXfaPageViewport:function(t,e){let{scale:n=1,rotation:i=0}=e;const{width:a,height:r}=t.attributes.style,s=[0,0,parseInt(a),parseInt(r)];return new la({viewBox:s,userUnit:1,scale:n,rotation:i})},GlobalWorkerOptions:Xd,ImageKind:fi,InvalidPDFException:ji,isDataScheme:ua,isPdfFile:ha,isValidExplicitDest:Fc,MathClamp:ea,noContextMenu:fa,normalizeUnicode:function(t){return Ji||(Ji=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,$i=new Map([["\ufb05","\u017ft"]])),t.replaceAll(Ji,((t,e,n)=>e?e.normalize("NFKC"):$i.get(n)))},OPS:Ai,OutputScale:Aa,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:Tf,PDFDateString:ma,PDFWorker:Hf,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:sa,RenderingCancelledException:ca,renderRichText:Pa,ResponseException:zi,setLayerDimensions:ka,shadow:Fi,SignatureExtractor:Nk,stopEvent:ga,SupportedImageMimeTypes:Sa,TextLayer:lf,TouchManager:el,updateUrlHash:Ni,Util:Yi,VerbosityLevel:ki,version:"5.4.296",XfaLayer:aa};const wS=function(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=bS(t))&&(i&&(i+=" "),i+=e);return i};var yS=Object.prototype.hasOwnProperty;function kS(t,e,n){for(n of t.keys())if(AS(n,e))return n}function AS(t,e){var n,i,a;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&AS(t[i],e[i]););return-1===i}if(n===Set){if(t.size!==e.size)return!1;for(i of t){if((a=i)&&"object"===typeof a&&!(a=kS(e,a)))return!1;if(!e.has(a))return!1}return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t){if((a=i[0])&&"object"===typeof a&&!(a=kS(e,a)))return!1;if(!AS(i[1],e.get(a)))return!1}return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return-1===i}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return-1===i}if(!n||"object"===typeof t){for(n in i=0,t){if(yS.call(t,n)&&++i&&!yS.call(e,n))return!1;if(!(n in e)||!AS(t[n],e[n]))return!1}return Object.keys(e).length===i}}return t!==t&&e!==e}function SS(t){let e=!1;return{promise:new Promise(((n,i)=>{t.then((t=>!e&&n(t))).catch((t=>!e&&i(t)))})),cancel(){e=!0}}}const xS=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onBlur","onInput","onInvalid","onReset","onSubmit","onLoad","onError","onKeyDown","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd","onChange","onToggle"];function _S(t,e){const n={};for(const i of xS){const a=t[i];a&&(n[i]=e?t=>a(t,e(i)):a)}return n}var ES=!0,CS="Invariant failed";function MS(t,e){if(!t){if(ES)throw new Error(CS);var n="function"===typeof e?e():e,i=n?"".concat(CS,": ").concat(n):CS;throw new Error(i)}}var TS=n(391);const PS=(0,i.createContext)(null);class RS{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return MS(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(t){MS(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||"noopener noreferrer nofollow",t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise((e=>{MS(this.pdfDocument,"PDF document not loaded."),MS(t,"Destination is not specified."),"string"===typeof t?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)})).then((t=>{MS(Array.isArray(t),'"'.concat(t,'" is not a valid destination array.'));const e=t[0];new Promise((t=>{MS(this.pdfDocument,"PDF document not loaded."),e instanceof Object?this.pdfDocument.getPageIndex(e).then((e=>{t(e)})).catch((()=>{MS(!1,'"'.concat(e,'" is not a valid page reference.'))})):"number"===typeof e?t(e):MS(!1,'"'.concat(e,'" is not a valid destination reference.'))})).then((e=>{const n=e+1;MS(this.pdfViewer,"PDF viewer is not initialized."),MS(n>=1&&n<=this.pagesCount,'"'.concat(n,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:e,pageNumber:n})}))}))}goToPage(t){const e=t-1;MS(this.pdfViewer,"PDF viewer is not initialized."),MS(t>=1&&t<=this.pagesCount,'"'.concat(t,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function DS(t){let{children:e,type:n}=t;return(0,me.jsx)("div",{className:"react-pdf__message react-pdf__message--".concat(n),children:e})}const LS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function IS(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function NS(){return(0,i.useReducer)(IS,{value:void 0,error:void 0})}const FS="undefined"!==typeof window,OS=FS&&"file:"===window.location.protocol;function WS(t){return function(t){return"undefined"!==typeof t}(t)&&null!==t}function BS(t){return function(t){return"string"===typeof t}(t)&&/^data:/.test(t)}function jS(t){MS(BS(t),"Invalid data URI.");const[e="",n=""]=t.split(",");return-1!==e.split(";").indexOf("base64")?atob(n):unescape(n)}function zS(){return FS&&window.devicePixelRatio||1}const US="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function HS(){TS(!OS,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(US))}function VS(t){(null===t||void 0===t?void 0:t.cancel)&&t.cancel()}function GS(t,e){return Object.defineProperty(t,"width",{get(){return this.getViewport({scale:e}).width},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.getViewport({scale:e}).height},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),t}function qS(t){return"AbortException"===t.name||"RenderingCancelledException"===t.name}const{PDFDataRangeTransport:XS}=t,YS=(t,e)=>{switch(e){case LS.NEED_PASSWORD:t(prompt("Enter the password to open this PDF file."));break;case LS.INCORRECT_PASSWORD:t(prompt("Invalid password. Please try again."));break}};function KS(t){return"object"===typeof t&&null!==t&&("data"in t||"range"in t||"url"in t)}const QS=(0,i.forwardRef)((function(t,e){let{children:n,className:a,error:r="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF\u2026",noData:d="No PDF file specified.",onItemClick:p,onLoadError:f,onLoadProgress:g,onLoadSuccess:m,onPassword:v=YS,onSourceError:b,onSourceSuccess:w,options:y,renderMode:k,rotate:A,scale:S,...x}=t;const[_,E]=NS(),{value:C,error:M}=_,[T,P]=NS(),{value:R,error:D}=T,L=(0,i.useRef)(new RS),I=(0,i.useRef)([]),N=(0,i.useRef)(void 0),F=(0,i.useRef)(void 0);l&&l!==N.current&&KS(l)&&(TS(!AS(l,N.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),N.current=l),y&&y!==F.current&&(TS(!AS(y,F.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),F.current=y);const O=(0,i.useRef)({scrollPageIntoView:t=>{const{dest:e,pageNumber:n,pageIndex:i=n-1}=t;if(p)return void p({dest:e,pageIndex:i,pageNumber:n});const a=I.current[i];a?a.scrollIntoView():TS(!1,"An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}});(0,i.useImperativeHandle)(e,(()=>({linkService:L,pages:I,viewer:O})),[]),(0,i.useEffect)((function(){E({type:"RESET"})}),[l,E]);const W=(0,i.useCallback)((async()=>{if(!l)return null;if("string"===typeof l){if(BS(l)){return{data:jS(l)}}return HS(),{url:l}}if(l instanceof XS)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(FS&&function(t){return MS(FS,"isBlob can only be used in a browser environment"),t instanceof Blob}(l)){const t=await function(t){return new Promise(((e,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));e(i.result)},i.onerror=t=>{if(!t.target)return n(new Error("Error while reading a file."));const{error:e}=t.target;if(!e)return n(new Error("Error while reading a file."));switch(e.code){case e.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case e.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case e.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(t)}))}(l);return{data:t}}if(MS("object"===typeof l,"Invalid parameter in file, need either Uint8Array, string or a parameter object"),MS(KS(l),"Invalid parameter object: need either .data, .range or .url"),"url"in l&&"string"===typeof l.url){if(BS(l.url)){const{url:t,...e}=l;return{data:jS(t),...e}}HS()}return l}),[l]);(0,i.useEffect)((()=>{const t=SS(W());return t.promise.then((t=>{E({type:"RESOLVE",value:t})})).catch((t=>{E({type:"REJECT",error:t})})),()=>{VS(t)}}),[W,E]),(0,i.useEffect)((()=>{"undefined"!==typeof C&&(!1!==C?w&&w():M&&(TS(!1,M.toString()),b&&b(M)))}),[C]),(0,i.useEffect)((function(){P({type:"RESET"})}),[P,C]),(0,i.useEffect)((function(){if(!C)return;const t=kf(y?{...C,...y}:C);g&&(t.onProgress=g),v&&(t.onPassword=v);const e=t;return e.promise.then((t=>{e.destroyed||P({type:"RESOLVE",value:t})})).catch((t=>{e.destroyed||P({type:"REJECT",error:t})})),()=>{e.destroy()}}),[y,P,C]),(0,i.useEffect)((()=>{"undefined"!==typeof R&&(!1!==R?R&&(m&&m(R),I.current=new Array(R.numPages),L.current.setDocument(R)):D&&(TS(!1,D.toString()),f&&f(D)))}),[R]),(0,i.useEffect)((function(){L.current.setViewer(O.current),L.current.setExternalLinkRel(s),L.current.setExternalLinkTarget(o)}),[s,o]);const B=(0,i.useCallback)(((t,e)=>{I.current[t]=e}),[]),j=(0,i.useCallback)((t=>{delete I.current[t]}),[]),z=(0,i.useMemo)((()=>({imageResourcesPath:u,linkService:L.current,onItemClick:p,pdf:R,registerPage:B,renderMode:k,rotate:A,scale:S,unregisterPage:j})),[u,p,R,B,k,A,S,j]),U=(0,i.useMemo)((()=>_S(x,(()=>R))),[x,R]);return(0,me.jsx)("div",{className:wS("react-pdf__Document",a),ref:c,...U,children:l?void 0===R||null===R?(0,me.jsx)(DS,{type:"loading",children:"function"===typeof h?h():h}):!1===R?(0,me.jsx)(DS,{type:"error",children:"function"===typeof r?r():r}):function(){if(t=z,!Boolean(null===t||void 0===t?void 0:t.pdf))throw new Error("pdf is undefined");var t;const e="function"===typeof n?n(z):n;return(0,me.jsx)(PS.Provider,{value:z,children:e})}():(0,me.jsx)(DS,{type:"no-data",children:"function"===typeof d?d():d})})}));function JS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);return n.length<=1?n[0]||null:function(t){for(var e=0,i=n;e<i.length;e++){var a=i[e];"function"===typeof a?a(t):a&&(a.current=t)}}}function $S(){return(0,i.useContext)(PS)}const ZS=(0,i.createContext)(null);function tx(){return(0,i.useContext)(ZS)}function ex(){const t=$S(),e=tx();MS(e,"Unable to find Page context.");const n={...t,...e},{filterAnnotations:a,imageResourcesPath:r,linkService:s,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:u,page:h,pdf:d,renderForms:p,rotate:f,scale:g=1}=n;MS(d,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),MS(h,"Attempted to load page annotations, but no page was specified."),MS(s,"Attempted to load page annotations, but no linkService was specified.");const[m,v]=NS(),{value:b,error:w}=m,y=(0,i.useRef)(null);TS(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,i.useEffect)((function(){v({type:"RESET"})}),[v,h]),(0,i.useEffect)((function(){if(!h)return;const t=SS(h.getAnnotations()),e=t;return t.promise.then((t=>{v({type:"RESOLVE",value:t})})).catch((t=>{v({type:"REJECT",error:t})})),()=>{VS(e)}}),[v,h]),(0,i.useEffect)((()=>{void 0!==b&&(!1!==b?b&&l&&l(b):w&&(TS(!1,w.toString()),o&&o(w)))}),[b]);const k=(0,i.useMemo)((()=>h.getViewport({scale:g,rotation:f})),[h,f,g]);return(0,i.useEffect)((function(){if(!d||!h||!s||!b)return;const{current:t}=y;if(!t)return;const e=k.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:d.annotationStorage,commentManager:null,div:t,l10n:null,linkService:s,page:h,structTreeLayer:null,viewport:e},i={annotations:a?a({annotations:b}):b,annotationStorage:d.annotationStorage,div:t,imageResourcesPath:r,linkService:s,page:h,renderForms:p,viewport:e};t.innerHTML="";try{new Jv(n).render(i),u&&u()}catch(o){!function(t){TS(!1,"".concat(t)),c&&c(t)}(o)}return()=>{}}),[b,a,r,s,h,d,p,k]),(0,me.jsx)("div",{className:wS("react-pdf__Page__annotations","annotationLayer"),ref:y})}const nx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},ix=/^H(\d+)$/;function ax(t){return"children"in t}function rx(t){return!!ax(t)&&(1===t.children.length&&0 in t.children&&"id"in t.children[0])}function sx(t){const e={};if(ax(t)){const{role:n}=t,i=n.match(ix);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(function(t){return t in nx}(n)){const t=nx[n];t&&(e.role=t)}}return e}function ox(t){const e={};if(ax(t)){if(void 0!==t.alt&&(e["aria-label"]=t.alt),void 0!==t.lang&&(e.lang=t.lang),rx(t)){const[n]=t.children;if(n){const t=ox(n);return{...e,...t}}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function lx(t){let{className:e,node:n}=t;const a=(0,i.useMemo)((()=>function(t){return t?{...sx(t),...ox(t)}:null}(n)),[n]),r=(0,i.useMemo)((()=>ax(n)?rx(n)?null:n.children.map(((t,e)=>(0,me.jsx)(lx,{node:t},e))):null),[n]);return(0,me.jsx)("span",{className:e,...a,children:r})}function cx(){const t=tx();MS(t,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[a,r]=NS(),{value:s,error:o}=a,{customTextRenderer:l,page:c}=t;return(0,i.useEffect)((function(){r({type:"RESET"})}),[r,c]),(0,i.useEffect)((function(){if(l)return;if(!c)return;const t=SS(c.getStructTree()),e=t;return t.promise.then((t=>{r({type:"RESOLVE",value:t})})).catch((t=>{r({type:"REJECT",error:t})})),()=>VS(e)}),[l,c,r]),(0,i.useEffect)((()=>{void 0!==s&&(!1!==s?s&&n&&n(s):o&&(TS(!1,o.toString()),e&&e(o)))}),[s]),s?(0,me.jsx)(lx,{className:"react-pdf__Page__structTree structTree",node:s}):null}const ux=ai;function hx(t){const e=tx();MS(e,"Unable to find Page context.");const n={...e,...t},{_className:a,canvasBackground:r,devicePixelRatio:s=zS(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:h,rotate:d,scale:p}=n,{canvasRef:f}=t;MS(c,"Attempted to render page canvas, but no page was specified.");const g=(0,i.useRef)(null);function m(t){qS(t)||(TS(!1,t.toString()),o&&o(t))}const v=(0,i.useMemo)((()=>c.getViewport({scale:p*s,rotation:d})),[s,c,d,p]),b=(0,i.useMemo)((()=>c.getViewport({scale:p,rotation:d})),[c,d,p]);(0,i.useEffect)((function(){if(!c)return;c.cleanup();const{current:t}=g;if(!t)return;t.width=v.width,t.height=v.height,t.style.width="".concat(Math.floor(b.width),"px"),t.style.height="".concat(Math.floor(b.height),"px"),t.style.visibility="hidden";const e={annotationMode:u?ux.ENABLE_FORMS:ux.ENABLE,canvas:t,canvasContext:t.getContext("2d",{alpha:!1}),viewport:v};r&&(e.background=r);const n=c.render(e),i=n;return n.promise.then((()=>{t.style.visibility="",c&&l&&l(GS(c,p))})).catch(m),()=>VS(i)}),[r,c,u,v,b]);const w=(0,i.useCallback)((()=>{const{current:t}=g;t&&(t.width=0,t.height=0)}),[]);return(0,i.useEffect)((()=>w),[w]),(0,me.jsx)("canvas",{className:"".concat(a,"__canvas"),dir:"ltr",ref:JS(f,g),style:{display:"block",userSelect:"none"},children:h?(0,me.jsx)(cx,{}):null})}function dx(){const t=tx();MS(t,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:a,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:h}=t;MS(o,"Attempted to load page text content, but no page was specified.");const[d,p]=NS(),{value:f,error:g}=d,m=(0,i.useRef)(null);TS(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,i.useEffect)((function(){p({type:"RESET"})}),[o,p]),(0,i.useEffect)((function(){if(!o)return;const t=SS(o.getTextContent()),e=t;return t.promise.then((t=>{p({type:"RESOLVE",value:t})})).catch((t=>{p({type:"REJECT",error:t})})),()=>VS(e)}),[o,p]),(0,i.useEffect)((()=>{void 0!==f&&(!1!==f?f&&a&&a(f):g&&(TS(!1,g.toString()),n&&n(g)))}),[f]);const v=(0,i.useCallback)((()=>{s&&s()}),[s]),b=(0,i.useCallback)((t=>{qS(t)||(TS(!1,t.toString()),r&&r(t))}),[r]);const w=(0,i.useMemo)((()=>o.getViewport({scale:h,rotation:u})),[o,u,h]);return(0,i.useLayoutEffect)((function(){if(!o||!f)return;const{current:t}=m;if(!t)return;t.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),i=new lf({container:t,textContentSource:n,viewport:w}),a=i;return i.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",t.append(n);const i=t.querySelectorAll('[role="presentation"]');if(e){let t=0;f.items.forEach(((n,a)=>{if(!function(t){return"str"in t}(n))return;const r=i[t];if(!r)return;const s=e({pageIndex:l,pageNumber:c,itemIndex:a,...n});r.innerHTML=s,t+=n.str&&n.hasEOL?2:1}))}v()})).catch(b),()=>VS(a)}),[e,b,v,o,l,c,f,w]),(0,me.jsx)("div",{className:wS("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const t=m.current;t&&t.classList.remove("selecting")},onMouseDown:function(){const t=m.current;t&&t.classList.add("selecting")},ref:m})}const px=1;function fx(t){const e={...$S(),...t},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:r,canvasRef:s,children:o,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:h,error:d="Failed to load the page.",filterAnnotations:p,height:f,inputRef:g,loading:m="Loading page\u2026",noData:v="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:w,onGetStructTreeError:y,onGetStructTreeSuccess:k,onGetTextError:A,onGetTextSuccess:S,onLoadError:x,onLoadSuccess:_,onRenderAnnotationLayerError:E,onRenderAnnotationLayerSuccess:C,onRenderError:M,onRenderSuccess:T,onRenderTextLayerError:P,onRenderTextLayerSuccess:R,pageIndex:D,pageNumber:L,pdf:I,registerPage:N,renderAnnotationLayer:F=!0,renderForms:O=!1,renderMode:W="canvas",renderTextLayer:B=!0,rotate:j,scale:z=px,unregisterPage:U,width:H,...V}=e,[G,q]=NS(),{value:X,error:Y}=G,K=(0,i.useRef)(null);MS(I,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Q=WS(L)?L-1:null!==D&&void 0!==D?D:null,J=null!==L&&void 0!==L?L:WS(D)?D+1:null,$=null!==j&&void 0!==j?j:X?X.rotate:null,Z=(0,i.useMemo)((()=>{if(!X)return null;let t=1;const e=null!==z&&void 0!==z?z:px;if(H||f){const e=X.getViewport({scale:1,rotation:$});H?t=H/e.width:f&&(t=f/e.height)}return e*t}),[f,X,$,z,H]);(0,i.useEffect)((function(){return()=>{WS(Q)&&a&&U&&U(Q)}}),[a,I,Q,U]),(0,i.useEffect)((function(){q({type:"RESET"})}),[q,I,Q]),(0,i.useEffect)((function(){if(!I||!J)return;const t=SS(I.getPage(J)),e=t;return t.promise.then((t=>{q({type:"RESOLVE",value:t})})).catch((t=>{q({type:"REJECT",error:t})})),()=>VS(e)}),[q,I,J]),(0,i.useEffect)((()=>{void 0!==X&&(!1!==X?function(){if(_){if(!X||!Z)return;_(GS(X,Z))}if(a&&N){if(!WS(Q)||!K.current)return;N(Q,K.current)}}():Y&&(TS(!1,Y.toString()),x&&x(Y)))}),[X,Z]);const tt=(0,i.useMemo)((()=>WS(Q)&&J&&WS($)&&WS(Z)?{_className:n,canvasBackground:r,customTextRenderer:u,devicePixelRatio:h,filterAnnotations:p,onGetAnnotationsError:b,onGetAnnotationsSuccess:w,onGetStructTreeError:y,onGetStructTreeSuccess:k,onGetTextError:A,onGetTextSuccess:S,onRenderAnnotationLayerError:E,onRenderAnnotationLayerSuccess:C,onRenderError:M,onRenderSuccess:T,onRenderTextLayerError:P,onRenderTextLayerSuccess:R,page:X,pageIndex:Q,pageNumber:J,renderForms:O,renderTextLayer:B,rotate:$,scale:Z}:null),[n,r,u,h,p,b,w,y,k,A,S,E,C,M,T,P,R,X,Q,J,O,B,$,Z]),et=(0,i.useMemo)((()=>_S(V,(()=>X?Z?GS(X,Z):void 0:X))),[V,X,Z]),nt="".concat(Q,"@").concat(Z,"/").concat($);function it(){switch(W){case"custom":return MS(c,'renderMode was set to "custom", but no customRenderer was passed.'),(0,me.jsx)(c,{},"".concat(nt,"_custom"));case"none":return null;default:return(0,me.jsx)(hx,{canvasRef:s},"".concat(nt,"_canvas"))}}return(0,me.jsx)("div",{className:wS(n,l),"data-page-number":J,ref:JS(g,K),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":"".concat(Z),"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...et,children:J?null===I||void 0===X||null===X?(0,me.jsx)(DS,{type:"loading",children:"function"===typeof m?m():m}):!1===I||!1===X?(0,me.jsx)(DS,{type:"error",children:"function"===typeof d?d():d}):function(){if(t=tt,!Boolean(null===t||void 0===t?void 0:t.page))throw new Error("page is undefined");var t;const e="function"===typeof o?o(tt):o;return(0,me.jsxs)(ZS.Provider,{value:tt,children:[it(),B?(0,me.jsx)(dx,{},"".concat(nt,"_text")):null,F?(0,me.jsx)(ex,{},"".concat(nt,"_annotations")):null,e]})}():(0,me.jsx)(DS,{type:"no-data",children:"function"===typeof v?v():v})})}Xd.workerSrc=new URL(n(386),n.b).toString();const gx=()=>(0,me.jsxs)("div",{className:"resume-page-wrapper",children:[(0,me.jsx)("div",{className:"resume-paper",children:(0,me.jsx)(QS,{file:ge,loading:(0,me.jsx)("p",{className:"loading-text",children:"Loading Resume..."}),children:(0,me.jsx)(fx,{pageNumber:1,width:window.innerWidth>900?900:.95*window.innerWidth,renderTextLayer:!1,renderAnnotationLayer:!1})})}),(0,me.jsx)("a",{href:ge,download:!0,className:"custom-download-btn",children:"Download PDF"})]});class mx extends i.Component{componentDidMount(){document.title="Daniel Gramowski"}render(){return(0,me.jsx)(At,{children:(0,me.jsxs)("div",{className:"page-wrapper",children:[(0,me.jsx)(ve,{}),(0,me.jsxs)(mt,{children:[(0,me.jsx)(ft,{path:"/",element:(0,me.jsx)(Ee,{})}),(0,me.jsx)(ft,{path:"/resume-site",element:(0,me.jsx)(Ee,{})}),(0,me.jsx)(ft,{path:"/experience",element:(0,me.jsx)(nn,{})}),(0,me.jsx)(ft,{path:"/projects",element:(0,me.jsx)(Ze,{})}),(0,me.jsx)(ft,{path:"/resume",element:(0,me.jsx)(gx,{})})]})]})})}}const vx=mx,bx=t=>{t&&t instanceof Function&&n.e(787).then(n.bind(n,787)).then((e=>{let{getCLS:n,getFID:i,getFCP:a,getLCP:r,getTTFB:s}=e;n(t),i(t),a(t),r(t),s(t)}))};r.createRoot(document.getElementById("root")).render((0,me.jsx)(i.StrictMode,{children:(0,me.jsx)(vx,{})})),bx()})()})();
//# sourceMappingURL=main.cf25a330.js.map